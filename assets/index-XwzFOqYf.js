(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Fg(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const at={},Ho=[],Hr=()=>{},Ex=()=>!1,Gd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Bg=t=>t.startsWith("onUpdate:"),Ut=Object.assign,$g=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Cx=Object.prototype.hasOwnProperty,Ze=(t,e)=>Cx.call(t,e),De=Array.isArray,Wo=t=>Kd(t)==="[object Map]",w_=t=>Kd(t)==="[object Set]",Ne=t=>typeof t=="function",St=t=>typeof t=="string",ys=t=>typeof t=="symbol",ct=t=>t!==null&&typeof t=="object",b_=t=>(ct(t)||Ne(t))&&Ne(t.then)&&Ne(t.catch),I_=Object.prototype.toString,Kd=t=>I_.call(t),kx=t=>Kd(t).slice(8,-1),__=t=>Kd(t)==="[object Object]",Ug=t=>St(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,fl=Fg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Yd=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Ax=/-(\w)/g,Pn=Yd(t=>t.replace(Ax,(e,n)=>n?n.toUpperCase():"")),xx=/\B([A-Z])/g,Io=Yd(t=>t.replace(xx,"-$1").toLowerCase()),Ti=Yd(t=>t.charAt(0).toUpperCase()+t.slice(1)),mf=Yd(t=>t?`on${Ti(t)}`:""),Xi=(t,e)=>!Object.is(t,e),gf=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},dm=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Dx=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Px=t=>{const e=St(t)?Number(t):NaN;return isNaN(e)?t:e};let Ry;const Qd=()=>Ry||(Ry=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function xe(t){if(De(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=St(r)?Mx(r):xe(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(St(t)||ct(t))return t}const Nx=/;(?![^(]*\))/g,Rx=/:([^]+)/,Ox=/\/\*[^]*?\*\//g;function Mx(t){const e={};return t.replace(Ox,"").split(Nx).forEach(n=>{if(n){const r=n.split(Rx);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ce(t){let e="";if(St(t))e=t;else if(De(t))for(let n=0;n<t.length;n++){const r=ce(t[n]);r&&(e+=r+" ")}else if(ct(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Vx="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Lx=Fg(Vx);function S_(t){return!!t||t===""}const T_=t=>!!(t&&t.__v_isRef===!0),$e=t=>St(t)?t:t==null?"":De(t)||ct(t)&&(t.toString===I_||!Ne(t.toString))?T_(t)?$e(t.value):JSON.stringify(t,E_,2):String(t),E_=(t,e)=>T_(e)?E_(t,e.value):Wo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[vf(r,s)+" =>"]=i,n),{})}:w_(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>vf(n))}:ys(e)?vf(e):ct(e)&&!De(e)&&!__(e)?String(e):e,vf=(t,e="")=>{var n;return ys(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let hn;class C_{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=hn,!e&&hn&&(this.index=(hn.scopes||(hn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=hn;try{return hn=this,e()}finally{hn=n}}}on(){++this._on===1&&(this.prevScope=hn,hn=this)}off(){this._on>0&&--this._on===0&&(hn=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Nl(t){return new C_(t)}function k_(){return hn}function cn(t,e=!1){hn&&hn.cleanups.push(t)}let ut;const pf=new WeakSet;class A_{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,hn&&hn.active&&hn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pf.has(this)&&(pf.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||D_(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Oy(this),P_(this);const e=ut,n=wr;ut=this,wr=!0;try{return this.fn()}finally{N_(this),ut=e,wr=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)zg(e);this.deps=this.depsTail=void 0,Oy(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pf.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){hm(this)&&this.run()}get dirty(){return hm(this)}}let x_=0,ml,gl;function D_(t,e=!1){if(t.flags|=8,e){t.next=gl,gl=t;return}t.next=ml,ml=t}function jg(){x_++}function qg(){if(--x_>0)return;if(gl){let e=gl;for(gl=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;ml;){let e=ml;for(ml=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function P_(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function N_(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),zg(r),Fx(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function hm(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(R_(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function R_(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Rl)||(t.globalVersion=Rl,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!hm(t))))return;t.flags|=2;const e=t.dep,n=ut,r=wr;ut=t,wr=!0;try{P_(t);const i=t.fn(t._value);(e.version===0||Xi(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{ut=n,wr=r,N_(t),t.flags&=-3}}function zg(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)zg(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Fx(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let wr=!0;const O_=[];function yi(){O_.push(wr),wr=!1}function wi(){const t=O_.pop();wr=t===void 0?!0:t}function Oy(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=ut;ut=void 0;try{e()}finally{ut=n}}}let Rl=0;class Bx{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Hg{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!ut||!wr||ut===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ut)n=this.activeLink=new Bx(ut,this),ut.deps?(n.prevDep=ut.depsTail,ut.depsTail.nextDep=n,ut.depsTail=n):ut.deps=ut.depsTail=n,M_(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=ut.depsTail,n.nextDep=void 0,ut.depsTail.nextDep=n,ut.depsTail=n,ut.deps===n&&(ut.deps=r)}return n}trigger(e){this.version++,Rl++,this.notify(e)}notify(e){jg();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{qg()}}}function M_(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)M_(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Yc=new WeakMap,Xs=Symbol(""),fm=Symbol(""),Ol=Symbol("");function fn(t,e,n){if(wr&&ut){let r=Yc.get(t);r||Yc.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new Hg),i.map=r,i.key=n),i.track()}}function oi(t,e,n,r,i,s){const o=Yc.get(t);if(!o){Rl++;return}const a=l=>{l&&l.trigger()};if(jg(),e==="clear")o.forEach(a);else{const l=De(t),u=l&&Ug(n);if(l&&n==="length"){const c=Number(r);o.forEach((d,h)=>{(h==="length"||h===Ol||!ys(h)&&h>=c)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(Ol)),e){case"add":l?u&&a(o.get("length")):(a(o.get(Xs)),Wo(t)&&a(o.get(fm)));break;case"delete":l||(a(o.get(Xs)),Wo(t)&&a(o.get(fm)));break;case"set":Wo(t)&&a(o.get(Xs));break}}qg()}function $x(t,e){const n=Yc.get(t);return n&&n.get(e)}function Do(t){const e=ke(t);return e===t?e:(fn(e,"iterate",Ol),ar(t)?e:e.map(en))}function Xd(t){return fn(t=ke(t),"iterate",Ol),t}const Ux={__proto__:null,[Symbol.iterator](){return yf(this,Symbol.iterator,en)},concat(...t){return Do(this).concat(...t.map(e=>De(e)?Do(e):e))},entries(){return yf(this,"entries",t=>(t[1]=en(t[1]),t))},every(t,e){return ri(this,"every",t,e,void 0,arguments)},filter(t,e){return ri(this,"filter",t,e,n=>n.map(en),arguments)},find(t,e){return ri(this,"find",t,e,en,arguments)},findIndex(t,e){return ri(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ri(this,"findLast",t,e,en,arguments)},findLastIndex(t,e){return ri(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ri(this,"forEach",t,e,void 0,arguments)},includes(...t){return wf(this,"includes",t)},indexOf(...t){return wf(this,"indexOf",t)},join(t){return Do(this).join(t)},lastIndexOf(...t){return wf(this,"lastIndexOf",t)},map(t,e){return ri(this,"map",t,e,void 0,arguments)},pop(){return za(this,"pop")},push(...t){return za(this,"push",t)},reduce(t,...e){return My(this,"reduce",t,e)},reduceRight(t,...e){return My(this,"reduceRight",t,e)},shift(){return za(this,"shift")},some(t,e){return ri(this,"some",t,e,void 0,arguments)},splice(...t){return za(this,"splice",t)},toReversed(){return Do(this).toReversed()},toSorted(t){return Do(this).toSorted(t)},toSpliced(...t){return Do(this).toSpliced(...t)},unshift(...t){return za(this,"unshift",t)},values(){return yf(this,"values",en)}};function yf(t,e,n){const r=Xd(t),i=r[e]();return r!==t&&!ar(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const jx=Array.prototype;function ri(t,e,n,r,i,s){const o=Xd(t),a=o!==t&&!ar(t),l=o[e];if(l!==jx[e]){const d=l.apply(t,s);return a?en(d):d}let u=n;o!==t&&(a?u=function(d,h){return n.call(this,en(d),h,t)}:n.length>2&&(u=function(d,h){return n.call(this,d,h,t)}));const c=l.call(o,u,r);return a&&i?i(c):c}function My(t,e,n,r){const i=Xd(t);let s=n;return i!==t&&(ar(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,en(a),l,t)}),i[e](s,...r)}function wf(t,e,n){const r=ke(t);fn(r,"iterate",Ol);const i=r[e](...n);return(i===-1||i===!1)&&Kg(n[0])?(n[0]=ke(n[0]),r[e](...n)):i}function za(t,e,n=[]){yi(),jg();const r=ke(t)[e].apply(t,n);return qg(),wi(),r}const qx=Fg("__proto__,__v_isRef,__isVue"),V_=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ys));function zx(t){ys(t)||(t=String(t));const e=ke(this);return fn(e,"has",t),e.hasOwnProperty(t)}class L_{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?e1:U_:s?$_:B_).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=De(e);if(!i){let l;if(o&&(l=Ux[n]))return l;if(n==="hasOwnProperty")return zx}const a=Reflect.get(e,n,Rt(e)?e:r);return(ys(n)?V_.has(n):qx(n))||(i||fn(e,"get",n),s)?a:Rt(a)?o&&Ug(n)?a:a.value:ct(a)?i?Tu(a):wt(a):a}}class F_ extends L_{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=Zi(s);if(!ar(r)&&!Zi(r)&&(s=ke(s),r=ke(r)),!De(e)&&Rt(s)&&!Rt(r))return l?!1:(s.value=r,!0)}const o=De(e)&&Ug(n)?Number(n)<e.length:Ze(e,n),a=Reflect.set(e,n,r,Rt(e)?e:i);return e===ke(i)&&(o?Xi(r,s)&&oi(e,"set",n,r):oi(e,"add",n,r)),a}deleteProperty(e,n){const r=Ze(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&oi(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!ys(n)||!V_.has(n))&&fn(e,"has",n),r}ownKeys(e){return fn(e,"iterate",De(e)?"length":Xs),Reflect.ownKeys(e)}}class Hx extends L_{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Wx=new F_,Gx=new Hx,Kx=new F_(!0);const mm=t=>t,uc=t=>Reflect.getPrototypeOf(t);function Yx(t,e,n){return function(...r){const i=this.__v_raw,s=ke(i),o=Wo(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=n?mm:e?Qc:en;return!e&&fn(s,"iterate",l?fm:Xs),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:a?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function cc(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Qx(t,e){const n={get(i){const s=this.__v_raw,o=ke(s),a=ke(i);t||(Xi(i,a)&&fn(o,"get",i),fn(o,"get",a));const{has:l}=uc(o),u=e?mm:t?Qc:en;if(l.call(o,i))return u(s.get(i));if(l.call(o,a))return u(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&fn(ke(i),"iterate",Xs),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,o=ke(s),a=ke(i);return t||(Xi(i,a)&&fn(o,"has",i),fn(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=ke(a),u=e?mm:t?Qc:en;return!t&&fn(l,"iterate",Xs),a.forEach((c,d)=>i.call(s,u(c),u(d),o))}};return Ut(n,t?{add:cc("add"),set:cc("set"),delete:cc("delete"),clear:cc("clear")}:{add(i){!e&&!ar(i)&&!Zi(i)&&(i=ke(i));const s=ke(this);return uc(s).has.call(s,i)||(s.add(i),oi(s,"add",i,i)),this},set(i,s){!e&&!ar(s)&&!Zi(s)&&(s=ke(s));const o=ke(this),{has:a,get:l}=uc(o);let u=a.call(o,i);u||(i=ke(i),u=a.call(o,i));const c=l.call(o,i);return o.set(i,s),u?Xi(s,c)&&oi(o,"set",i,s):oi(o,"add",i,s),this},delete(i){const s=ke(this),{has:o,get:a}=uc(s);let l=o.call(s,i);l||(i=ke(i),l=o.call(s,i)),a&&a.call(s,i);const u=s.delete(i);return l&&oi(s,"delete",i,void 0),u},clear(){const i=ke(this),s=i.size!==0,o=i.clear();return s&&oi(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Yx(i,t,e)}),n}function Wg(t,e){const n=Qx(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Ze(n,i)&&i in r?n:r,i,s)}const Xx={get:Wg(!1,!1)},Jx={get:Wg(!1,!0)},Zx={get:Wg(!0,!1)};const B_=new WeakMap,$_=new WeakMap,U_=new WeakMap,e1=new WeakMap;function t1(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function n1(t){return t.__v_skip||!Object.isExtensible(t)?0:t1(kx(t))}function wt(t){return Zi(t)?t:Gg(t,!1,Wx,Xx,B_)}function r1(t){return Gg(t,!1,Kx,Jx,$_)}function Tu(t){return Gg(t,!0,Gx,Zx,U_)}function Gg(t,e,n,r,i){if(!ct(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=n1(t);if(s===0)return t;const o=i.get(t);if(o)return o;const a=new Proxy(t,s===2?r:n);return i.set(t,a),a}function Go(t){return Zi(t)?Go(t.__v_raw):!!(t&&t.__v_isReactive)}function Zi(t){return!!(t&&t.__v_isReadonly)}function ar(t){return!!(t&&t.__v_isShallow)}function Kg(t){return t?!!t.__v_raw:!1}function ke(t){const e=t&&t.__v_raw;return e?ke(e):t}function j_(t){return!Ze(t,"__v_skip")&&Object.isExtensible(t)&&dm(t,"__v_skip",!0),t}const en=t=>ct(t)?wt(t):t,Qc=t=>ct(t)?Tu(t):t;function Rt(t){return t?t.__v_isRef===!0:!1}function te(t){return q_(t,!1)}function ge(t){return q_(t,!0)}function q_(t,e){return Rt(t)?t:new i1(t,e)}class i1{constructor(e,n){this.dep=new Hg,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:ke(e),this._value=n?e:en(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||ar(e)||Zi(e);e=r?e:ke(e),Xi(e,n)&&(this._rawValue=e,this._value=r?e:en(e),this.dep.trigger())}}function li(t){return Rt(t)?t.value:t}function Qr(t){return Ne(t)?t():li(t)}const s1={get:(t,e,n)=>e==="__v_raw"?t:li(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Rt(i)&&!Rt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function z_(t){return Go(t)?t:new Proxy(t,s1)}function H_(t){const e=De(t)?new Array(t.length):{};for(const n in t)e[n]=W_(t,n);return e}class o1{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return $x(ke(this._object),this._key)}}class a1{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function V(t,e,n){return Rt(t)?t:Ne(t)?new a1(t):ct(t)&&arguments.length>1?W_(t,e,n):te(t)}function W_(t,e,n){const r=t[e];return Rt(r)?r:new o1(t,e,n)}class l1{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Hg(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Rl-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ut!==this)return D_(this,!0),!0}get value(){const e=this.dep.track();return R_(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function u1(t,e,n=!1){let r,i;return Ne(t)?r=t:(r=t.get,i=t.set),new l1(r,i,n)}const dc={},Xc=new WeakMap;let Vs;function c1(t,e=!1,n=Vs){if(n){let r=Xc.get(n);r||Xc.set(n,r=[]),r.push(t)}}function d1(t,e,n=at){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,u=b=>i?b:ar(b)||i===!1||i===0?ai(b,1):ai(b);let c,d,h,f,m=!1,g=!1;if(Rt(t)?(d=()=>t.value,m=ar(t)):Go(t)?(d=()=>u(t),m=!0):De(t)?(g=!0,m=t.some(b=>Go(b)||ar(b)),d=()=>t.map(b=>{if(Rt(b))return b.value;if(Go(b))return u(b);if(Ne(b))return l?l(b,2):b()})):Ne(t)?e?d=l?()=>l(t,2):t:d=()=>{if(h){yi();try{h()}finally{wi()}}const b=Vs;Vs=c;try{return l?l(t,3,[f]):t(f)}finally{Vs=b}}:d=Hr,e&&i){const b=d,I=i===!0?1/0:i;d=()=>ai(b(),I)}const p=k_(),y=()=>{c.stop(),p&&p.active&&$g(p.effects,c)};if(s&&e){const b=e;e=(...I)=>{b(...I),y()}}let w=g?new Array(t.length).fill(dc):dc;const T=b=>{if(!(!(c.flags&1)||!c.dirty&&!b))if(e){const I=c.run();if(i||m||(g?I.some((S,C)=>Xi(S,w[C])):Xi(I,w))){h&&h();const S=Vs;Vs=c;try{const C=[I,w===dc?void 0:g&&w[0]===dc?[]:w,f];w=I,l?l(e,3,C):e(...C)}finally{Vs=S}}}else c.run()};return a&&a(T),c=new A_(d),c.scheduler=o?()=>o(T,!1):T,f=b=>c1(b,!1,c),h=c.onStop=()=>{const b=Xc.get(c);if(b){if(l)l(b,4);else for(const I of b)I();Xc.delete(c)}},e?r?T(!0):w=c.run():o?o(T.bind(null,!0),!0):c.run(),y.pause=c.pause.bind(c),y.resume=c.resume.bind(c),y.stop=y,y}function ai(t,e=1/0,n){if(e<=0||!ct(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Rt(t))ai(t.value,e,n);else if(De(t))for(let r=0;r<t.length;r++)ai(t[r],e,n);else if(w_(t)||Wo(t))t.forEach(r=>{ai(r,e,n)});else if(__(t)){for(const r in t)ai(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&ai(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Eu(t,e,n,r){try{return r?t(...r):t()}catch(i){Jd(i,e,n)}}function Ir(t,e,n,r){if(Ne(t)){const i=Eu(t,e,n,r);return i&&b_(i)&&i.catch(s=>{Jd(s,e,n)}),i}if(De(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Ir(t[s],e,n,r));return i}}function Jd(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||at;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,l,u)===!1)return}a=a.parent}if(s){yi(),Eu(s,null,10,[t,l,u]),wi();return}}h1(t,n,i,r,o)}function h1(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const En=[];let Nr=-1;const Ko=[];let qi=null,Fo=0;const G_=Promise.resolve();let Jc=null;function rn(t){const e=Jc||G_;return t?e.then(this?t.bind(this):t):e}function f1(t){let e=Nr+1,n=En.length;for(;e<n;){const r=e+n>>>1,i=En[r],s=Ml(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function Yg(t){if(!(t.flags&1)){const e=Ml(t),n=En[En.length-1];!n||!(t.flags&2)&&e>=Ml(n)?En.push(t):En.splice(f1(e),0,t),t.flags|=1,K_()}}function K_(){Jc||(Jc=G_.then(Q_))}function m1(t){De(t)?Ko.push(...t):qi&&t.id===-1?qi.splice(Fo+1,0,t):t.flags&1||(Ko.push(t),t.flags|=1),K_()}function Vy(t,e,n=Nr+1){for(;n<En.length;n++){const r=En[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;En.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Y_(t){if(Ko.length){const e=[...new Set(Ko)].sort((n,r)=>Ml(n)-Ml(r));if(Ko.length=0,qi){qi.push(...e);return}for(qi=e,Fo=0;Fo<qi.length;Fo++){const n=qi[Fo];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}qi=null,Fo=0}}const Ml=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Q_(t){try{for(Nr=0;Nr<En.length;Nr++){const e=En[Nr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Eu(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Nr<En.length;Nr++){const e=En[Nr];e&&(e.flags&=-2)}Nr=-1,En.length=0,Y_(),Jc=null,(En.length||Ko.length)&&Q_()}}let Gn=null,X_=null;function Zc(t){const e=Gn;return Gn=t,X_=t&&t.type.__scopeId||null,e}function N(t,e=Gn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Qy(-1);const s=Zc(e);let o;try{o=t(...i)}finally{Zc(s),r._d&&Qy(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function yt(t,e){if(Gn===null)return t;const n=nh(Gn),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=at]=e[i];s&&(Ne(s)&&(s={mounted:s,updated:s}),s.deep&&ai(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Ds(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(yi(),Ir(l,n,8,[t.el,a,t,e]),wi())}}const J_=Symbol("_vte"),Z_=t=>t.__isTeleport,vl=t=>t&&(t.disabled||t.disabled===""),Ly=t=>t&&(t.defer||t.defer===""),Fy=t=>typeof SVGElement<"u"&&t instanceof SVGElement,By=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,gm=(t,e)=>{const n=t&&t.to;return St(n)?e?e(n):null:n},eS={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,u){const{mc:c,pc:d,pbc:h,o:{insert:f,querySelector:m,createText:g,createComment:p}}=u,y=vl(e.props);let{shapeFlag:w,children:T,dynamicChildren:b}=e;if(t==null){const I=e.el=g(""),S=e.anchor=g("");f(I,n,r),f(S,n,r);const C=(P,$)=>{w&16&&(i&&i.isCE&&(i.ce._teleportTarget=P),c(T,P,$,i,s,o,a,l))},D=()=>{const P=e.target=gm(e.props,m),$=tS(P,e,g,f);P&&(o!=="svg"&&Fy(P)?o="svg":o!=="mathml"&&By(P)&&(o="mathml"),y||(C(P,$),Pc(e,!1)))};y&&(C(n,S),Pc(e,!0)),Ly(e.props)?(e.el.__isMounted=!1,_n(()=>{D(),delete e.el.__isMounted},s)):D()}else{if(Ly(e.props)&&t.el.__isMounted===!1){_n(()=>{eS.process(t,e,n,r,i,s,o,a,l,u)},s);return}e.el=t.el,e.targetStart=t.targetStart;const I=e.anchor=t.anchor,S=e.target=t.target,C=e.targetAnchor=t.targetAnchor,D=vl(t.props),P=D?n:S,$=D?I:C;if(o==="svg"||Fy(S)?o="svg":(o==="mathml"||By(S))&&(o="mathml"),b?(h(t.dynamicChildren,b,P,i,s,o,a),tv(t,e,!0)):l||d(t,e,P,$,i,s,o,a,!1),y)D?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):hc(e,n,I,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const q=e.target=gm(e.props,m);q&&hc(e,q,null,u,0)}else D&&hc(e,S,C,u,1);Pc(e,y)}},remove(t,e,n,{um:r,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:c,target:d,props:h}=t;if(d&&(i(u),i(c)),s&&i(l),o&16){const f=s||!vl(h);for(let m=0;m<a.length;m++){const g=a[m];r(g,e,n,f,!!g.dynamicChildren)}}},move:hc,hydrate:g1};function hc(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,d=s===2;if(d&&r(o,e,n),(!d||vl(c))&&l&16)for(let h=0;h<u.length;h++)i(u[h],e,n,2);d&&r(a,e,n)}function g1(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:c}},d){const h=e.target=gm(e.props,l);if(h){const f=vl(e.props),m=h._lpa||h.firstChild;if(e.shapeFlag&16)if(f)e.anchor=d(o(t),e,a(t),n,r,i,s),e.targetStart=m,e.targetAnchor=m&&o(m);else{e.anchor=o(t);let g=m;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")e.targetStart=g;else if(g.data==="teleport anchor"){e.targetAnchor=g,h._lpa=e.targetAnchor&&o(e.targetAnchor);break}}g=o(g)}e.targetAnchor||tS(h,e,c,u),d(m&&o(m),e,h,n,r,i,s)}Pc(e,f)}return e.anchor&&o(e.anchor)}const v1=eS;function Pc(t,e){const n=t.ctx;if(n&&n.ut){let r,i;for(e?(r=t.el,i=t.anchor):(r=t.targetStart,i=t.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function tS(t,e,n,r){const i=e.targetStart=n(""),s=e.targetAnchor=n("");return i[J_]=s,t&&(r(i,t),r(s,t)),s}const zi=Symbol("_leaveCb"),fc=Symbol("_enterCb");function nS(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ki(()=>{t.isMounted=!0}),Zn(()=>{t.isUnmounting=!0}),t}const ir=[Function,Array],rS={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ir,onEnter:ir,onAfterEnter:ir,onEnterCancelled:ir,onBeforeLeave:ir,onLeave:ir,onAfterLeave:ir,onLeaveCancelled:ir,onBeforeAppear:ir,onAppear:ir,onAfterAppear:ir,onAppearCancelled:ir},iS=t=>{const e=t.subTree;return e.component?iS(e.component):e},p1={name:"BaseTransition",props:rS,setup(t,{slots:e}){const n=Au(),r=nS();return()=>{const i=e.default&&Qg(e.default(),!0);if(!i||!i.length)return;const s=sS(i),o=ke(t),{mode:a}=o;if(r.isLeaving)return bf(s);const l=$y(s);if(!l)return bf(s);let u=Vl(l,o,r,n,d=>u=d);l.type!==gn&&so(l,u);let c=n.subTree&&$y(n.subTree);if(c&&c.type!==gn&&!Bs(l,c)&&iS(n).type!==gn){let d=Vl(c,o,r,n);if(so(c,d),a==="out-in"&&l.type!==gn)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,c=void 0},bf(s);a==="in-out"&&l.type!==gn?d.delayLeave=(h,f,m)=>{const g=oS(r,c);g[String(c.key)]=c,h[zi]=()=>{f(),h[zi]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{m(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return s}}};function sS(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==gn){e=n;break}}return e}const y1=p1;function oS(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Vl(t,e,n,r,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:h,onLeave:f,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:p,onAppear:y,onAfterAppear:w,onAppearCancelled:T}=e,b=String(t.key),I=oS(n,t),S=(P,$)=>{P&&Ir(P,r,9,$)},C=(P,$)=>{const q=$[1];S(P,$),De(P)?P.every(A=>A.length<=1)&&q():P.length<=1&&q()},D={mode:o,persisted:a,beforeEnter(P){let $=l;if(!n.isMounted)if(s)$=p||l;else return;P[zi]&&P[zi](!0);const q=I[b];q&&Bs(t,q)&&q.el[zi]&&q.el[zi](),S($,[P])},enter(P){let $=u,q=c,A=d;if(!n.isMounted)if(s)$=y||u,q=w||c,A=T||d;else return;let O=!1;const j=P[fc]=J=>{O||(O=!0,J?S(A,[P]):S(q,[P]),D.delayedLeave&&D.delayedLeave(),P[fc]=void 0)};$?C($,[P,j]):j()},leave(P,$){const q=String(t.key);if(P[fc]&&P[fc](!0),n.isUnmounting)return $();S(h,[P]);let A=!1;const O=P[zi]=j=>{A||(A=!0,$(),j?S(g,[P]):S(m,[P]),P[zi]=void 0,I[q]===t&&delete I[q])};I[q]=t,f?C(f,[P,O]):O()},clone(P){const $=Vl(P,e,n,r,i);return i&&i($),$}};return D}function bf(t){if(Zd(t))return t=bi(t),t.children=null,t}function $y(t){if(!Zd(t))return Z_(t.type)&&t.children?sS(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Ne(n.default))return n.default()}}function so(t,e){t.shapeFlag&6&&t.component?(t.transition=e,so(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Qg(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Ee?(o.patchFlag&128&&i++,r=r.concat(Qg(o.children,e,a))):(e||o.type!==gn)&&r.push(a!=null?bi(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function w1(t,e){return Ne(t)?Ut({name:t.name},e,{setup:t}):t}function Ei(){const t=Au();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function aS(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function pl(t,e,n,r,i=!1){if(De(t)){t.forEach((m,g)=>pl(m,e&&(De(e)?e[g]:e),n,r,i));return}if(yl(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&pl(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?nh(r.component):r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===at?a.refs={}:a.refs,d=a.setupState,h=ke(d),f=d===at?()=>!1:m=>Ze(h,m);if(u!=null&&u!==l&&(St(u)?(c[u]=null,f(u)&&(d[u]=null)):Rt(u)&&(u.value=null)),Ne(l))Eu(l,a,12,[o,c]);else{const m=St(l),g=Rt(l);if(m||g){const p=()=>{if(t.f){const y=m?f(l)?d[l]:c[l]:l.value;i?De(y)&&$g(y,s):De(y)?y.includes(s)||y.push(s):m?(c[l]=[s],f(l)&&(d[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else m?(c[l]=o,f(l)&&(d[l]=o)):g&&(l.value=o,t.k&&(c[t.k]=o))};o?(p.id=-1,_n(p,n)):p()}}}Qd().requestIdleCallback;Qd().cancelIdleCallback;const yl=t=>!!t.type.__asyncLoader,Zd=t=>t.type.__isKeepAlive;function lS(t,e){uS(t,"a",e)}function Xg(t,e){uS(t,"da",e)}function uS(t,e,n=vn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(eh(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Zd(i.parent.vnode)&&b1(r,e,n,i),i=i.parent}}function b1(t,e,n,r){const i=eh(e,t,r,!0);cS(()=>{$g(r[e],i)},n)}function eh(t,e,n=vn,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{yi();const a=xu(n),l=Ir(e,n,t,o);return a(),wi(),l});return r?i.unshift(s):i.push(s),s}}const Ci=t=>(e,n=vn)=>{(!Bl||t==="sp")&&eh(t,(...r)=>e(...r),n)},Cu=Ci("bm"),ki=Ci("m"),I1=Ci("bu"),Jg=Ci("u"),Zn=Ci("bum"),cS=Ci("um"),_1=Ci("sp"),S1=Ci("rtg"),T1=Ci("rtc");function E1(t,e=vn){eh("ec",t,e)}const dS="components";function C1(t,e){return hS(dS,t,!0,e)||t}const k1=Symbol.for("v-ndc");function A1(t){return St(t)&&hS(dS,t,!1)||t}function hS(t,e,n=!0,r=!1){const i=Gn||vn;if(i){const s=i.type;{const a=fD(s,!1);if(a&&(a===e||a===Pn(e)||a===Ti(Pn(e))))return s}const o=Uy(i[t]||s[t],e)||Uy(i.appContext[t],e);return!o&&r?s:o}}function Uy(t,e){return t&&(t[e]||t[Pn(e)]||t[Ti(Pn(e))])}function pn(t,e,n,r){let i;const s=n,o=De(t);if(o||St(t)){const a=o&&Go(t);let l=!1,u=!1;a&&(l=!ar(t),u=Zi(t),t=Xd(t)),i=new Array(t.length);for(let c=0,d=t.length;c<d;c++)i[c]=e(l?u?Qc(en(t[c])):en(t[c]):t[c],c,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s)}else if(ct(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,s));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];i[l]=e(t[c],c,l,s)}}else i=[];return i}function fS(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(De(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}const vm=t=>t?PS(t)?nh(t):vm(t.parent):null,wl=Ut(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>vm(t.parent),$root:t=>vm(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>gS(t),$forceUpdate:t=>t.f||(t.f=()=>{Yg(t.update)}),$nextTick:t=>t.n||(t.n=rn.bind(t.proxy)),$watch:t=>Y1.bind(t)}),If=(t,e)=>t!==at&&!t.__isScriptSetup&&Ze(t,e),x1={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(If(r,e))return o[e]=1,r[e];if(i!==at&&Ze(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&Ze(u,e))return o[e]=3,s[e];if(n!==at&&Ze(n,e))return o[e]=4,n[e];pm&&(o[e]=0)}}const c=wl[e];let d,h;if(c)return e==="$attrs"&&fn(t.attrs,"get",""),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==at&&Ze(n,e))return o[e]=4,n[e];if(h=l.config.globalProperties,Ze(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return If(i,e)?(i[e]=n,!0):r!==at&&Ze(r,e)?(r[e]=n,!0):Ze(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==at&&Ze(t,o)||If(e,o)||(a=s[0])&&Ze(a,o)||Ze(r,o)||Ze(wl,o)||Ze(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ze(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function jy(t){return De(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let pm=!0;function D1(t){const e=gS(t),n=t.proxy,r=t.ctx;pm=!1,e.beforeCreate&&qy(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:h,beforeUpdate:f,updated:m,activated:g,deactivated:p,beforeDestroy:y,beforeUnmount:w,destroyed:T,unmounted:b,render:I,renderTracked:S,renderTriggered:C,errorCaptured:D,serverPrefetch:P,expose:$,inheritAttrs:q,components:A,directives:O,filters:j}=e;if(u&&P1(u,r,null),o)for(const fe in o){const de=o[fe];Ne(de)&&(r[fe]=de.bind(n))}if(i){const fe=i.call(n,n);ct(fe)&&(t.data=wt(fe))}if(pm=!0,s)for(const fe in s){const de=s[fe],Be=Ne(de)?de.bind(n,n):Ne(de.get)?de.get.bind(n,n):Hr,L=!Ne(de)&&Ne(de.set)?de.set.bind(n):Hr,F=x({get:Be,set:L});Object.defineProperty(r,fe,{enumerable:!0,configurable:!0,get:()=>F.value,set:U=>F.value=U})}if(a)for(const fe in a)mS(a[fe],r,n,fe);if(l){const fe=Ne(l)?l.call(n):l;Reflect.ownKeys(fe).forEach(de=>{Yt(de,fe[de])})}c&&qy(c,t,"c");function ee(fe,de){De(de)?de.forEach(Be=>fe(Be.bind(n))):de&&fe(de.bind(n))}if(ee(Cu,d),ee(ki,h),ee(I1,f),ee(Jg,m),ee(lS,g),ee(Xg,p),ee(E1,D),ee(T1,S),ee(S1,C),ee(Zn,w),ee(cS,b),ee(_1,P),De($))if($.length){const fe=t.exposed||(t.exposed={});$.forEach(de=>{Object.defineProperty(fe,de,{get:()=>n[de],set:Be=>n[de]=Be,enumerable:!0})})}else t.exposed||(t.exposed={});I&&t.render===Hr&&(t.render=I),q!=null&&(t.inheritAttrs=q),A&&(t.components=A),O&&(t.directives=O),P&&aS(t)}function P1(t,e,n=Hr){De(t)&&(t=ym(t));for(const r in t){const i=t[r];let s;ct(i)?"default"in i?s=et(i.from||r,i.default,!0):s=et(i.from||r):s=et(i),Rt(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function qy(t,e,n){Ir(De(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function mS(t,e,n,r){let i=r.includes(".")?CS(n,r):()=>n[r];if(St(t)){const s=e[t];Ne(s)&&Ie(i,s)}else if(Ne(t))Ie(i,t.bind(n));else if(ct(t))if(De(t))t.forEach(s=>mS(s,e,n,r));else{const s=Ne(t.handler)?t.handler.bind(n):e[t.handler];Ne(s)&&Ie(i,s,t)}}function gS(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>ed(l,u,o,!0)),ed(l,e,o)),ct(e)&&s.set(e,l),l}function ed(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&ed(t,s,n,!0),i&&i.forEach(o=>ed(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=N1[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const N1={data:zy,props:Hy,emits:Hy,methods:sl,computed:sl,beforeCreate:In,created:In,beforeMount:In,mounted:In,beforeUpdate:In,updated:In,beforeDestroy:In,beforeUnmount:In,destroyed:In,unmounted:In,activated:In,deactivated:In,errorCaptured:In,serverPrefetch:In,components:sl,directives:sl,watch:O1,provide:zy,inject:R1};function zy(t,e){return e?t?function(){return Ut(Ne(t)?t.call(this,this):t,Ne(e)?e.call(this,this):e)}:e:t}function R1(t,e){return sl(ym(t),ym(e))}function ym(t){if(De(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function In(t,e){return t?[...new Set([].concat(t,e))]:e}function sl(t,e){return t?Ut(Object.create(null),t,e):e}function Hy(t,e){return t?De(t)&&De(e)?[...new Set([...t,...e])]:Ut(Object.create(null),jy(t),jy(e??{})):e}function O1(t,e){if(!t)return e;if(!e)return t;const n=Ut(Object.create(null),t);for(const r in e)n[r]=In(t[r],e[r]);return n}function vS(){return{app:null,config:{isNativeTag:Ex,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let M1=0;function V1(t,e){return function(r,i=null){Ne(r)||(r=Ut({},r)),i!=null&&!ct(i)&&(i=null);const s=vS(),o=new WeakSet,a=[];let l=!1;const u=s.app={_uid:M1++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:gD,get config(){return s.config},set config(c){},use(c,...d){return o.has(c)||(c&&Ne(c.install)?(o.add(c),c.install(u,...d)):Ne(c)&&(o.add(c),c(u,...d))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,d){return d?(s.components[c]=d,u):s.components[c]},directive(c,d){return d?(s.directives[c]=d,u):s.directives[c]},mount(c,d,h){if(!l){const f=u._ceVNode||v(r,i);return f.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),t(f,c,h),l=!0,u._container=c,c.__vue_app__=u,nh(f.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Ir(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,d){return s.provides[c]=d,u},runWithContext(c){const d=Yo;Yo=u;try{return c()}finally{Yo=d}}};return u}}let Yo=null;function Yt(t,e){if(vn){let n=vn.provides;const r=vn.parent&&vn.parent.provides;r===n&&(n=vn.provides=Object.create(r)),n[t]=e}}function et(t,e,n=!1){const r=Au();if(r||Yo){let i=Yo?Yo._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Ne(e)?e.call(r&&r.proxy):e}}const pS={},yS=()=>Object.create(pS),wS=t=>Object.getPrototypeOf(t)===pS;function L1(t,e,n,r=!1){const i={},s=yS();t.propsDefaults=Object.create(null),bS(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:r1(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function F1(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=ke(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(th(t.emitsOptions,h))continue;const f=e[h];if(l)if(Ze(s,h))f!==s[h]&&(s[h]=f,u=!0);else{const m=Pn(h);i[m]=wm(l,a,m,f,t,!1)}else f!==s[h]&&(s[h]=f,u=!0)}}}else{bS(t,e,i,s)&&(u=!0);let c;for(const d in a)(!e||!Ze(e,d)&&((c=Io(d))===d||!Ze(e,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(i[d]=wm(l,a,d,void 0,t,!0)):delete i[d]);if(s!==a)for(const d in s)(!e||!Ze(e,d))&&(delete s[d],u=!0)}u&&oi(t.attrs,"set","")}function bS(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(fl(l))continue;const u=e[l];let c;i&&Ze(i,c=Pn(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:th(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=ke(n),u=a||at;for(let c=0;c<s.length;c++){const d=s[c];n[d]=wm(i,l,d,u[d],t,!Ze(u,d))}}return o}function wm(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=Ze(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Ne(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=xu(i);r=u[n]=l.call(null,e),c()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Io(n))&&(r=!0))}return r}const B1=new WeakMap;function IS(t,e,n=!1){const r=n?B1:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!Ne(t)){const c=d=>{l=!0;const[h,f]=IS(d,e,!0);Ut(o,h),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return ct(t)&&r.set(t,Ho),Ho;if(De(s))for(let c=0;c<s.length;c++){const d=Pn(s[c]);Wy(d)&&(o[d]=at)}else if(s)for(const c in s){const d=Pn(c);if(Wy(d)){const h=s[c],f=o[d]=De(h)||Ne(h)?{type:h}:Ut({},h),m=f.type;let g=!1,p=!0;if(De(m))for(let y=0;y<m.length;++y){const w=m[y],T=Ne(w)&&w.name;if(T==="Boolean"){g=!0;break}else T==="String"&&(p=!1)}else g=Ne(m)&&m.name==="Boolean";f[0]=g,f[1]=p,(g||Ze(f,"default"))&&a.push(d)}}const u=[o,a];return ct(t)&&r.set(t,u),u}function Wy(t){return t[0]!=="$"&&!fl(t)}const Zg=t=>t==="_"||t==="__"||t==="_ctx"||t==="$stable",ev=t=>De(t)?t.map(Rr):[Rr(t)],$1=(t,e,n)=>{if(e._n)return e;const r=N((...i)=>ev(e(...i)),n);return r._c=!1,r},_S=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Zg(i))continue;const s=t[i];if(Ne(s))e[i]=$1(i,s,r);else if(s!=null){const o=ev(s);e[i]=()=>o}}},SS=(t,e)=>{const n=ev(e);t.slots.default=()=>n},TS=(t,e,n)=>{for(const r in e)(n||!Zg(r))&&(t[r]=e[r])},U1=(t,e,n)=>{const r=t.slots=yS();if(t.vnode.shapeFlag&32){const i=e.__;i&&dm(r,"__",i,!0);const s=e._;s?(TS(r,e,n),n&&dm(r,"_",s,!0)):_S(e,r)}else e&&SS(t,e)},j1=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=at;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:TS(i,e,n):(s=!e.$stable,_S(e,i)),o=e}else e&&(SS(t,e),o={default:1});if(s)for(const a in i)!Zg(a)&&o[a]==null&&delete i[a]},_n=nD;function q1(t){return z1(t)}function z1(t,e){const n=Qd();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:h,setScopeId:f=Hr,insertStaticContent:m}=t,g=(_,E,B,Y=null,H=null,K=null,se=void 0,re=null,Z=!!E.dynamicChildren)=>{if(_===E)return;_&&!Bs(_,E)&&(Y=pe(_),U(_,H,K,!0),_=null),E.patchFlag===-2&&(Z=!1,E.dynamicChildren=null);const{type:Q,ref:Te,shapeFlag:ue}=E;switch(Q){case ku:p(_,E,B,Y);break;case gn:y(_,E,B,Y);break;case Sf:_==null&&w(E,B,Y,se);break;case Ee:A(_,E,B,Y,H,K,se,re,Z);break;default:ue&1?I(_,E,B,Y,H,K,se,re,Z):ue&6?O(_,E,B,Y,H,K,se,re,Z):(ue&64||ue&128)&&Q.process(_,E,B,Y,H,K,se,re,Z,ot)}Te!=null&&H?pl(Te,_&&_.ref,K,E||_,!E):Te==null&&_&&_.ref!=null&&pl(_.ref,null,K,_,!0)},p=(_,E,B,Y)=>{if(_==null)r(E.el=a(E.children),B,Y);else{const H=E.el=_.el;E.children!==_.children&&u(H,E.children)}},y=(_,E,B,Y)=>{_==null?r(E.el=l(E.children||""),B,Y):E.el=_.el},w=(_,E,B,Y)=>{[_.el,_.anchor]=m(_.children,E,B,Y,_.el,_.anchor)},T=({el:_,anchor:E},B,Y)=>{let H;for(;_&&_!==E;)H=h(_),r(_,B,Y),_=H;r(E,B,Y)},b=({el:_,anchor:E})=>{let B;for(;_&&_!==E;)B=h(_),i(_),_=B;i(E)},I=(_,E,B,Y,H,K,se,re,Z)=>{E.type==="svg"?se="svg":E.type==="math"&&(se="mathml"),_==null?S(E,B,Y,H,K,se,re,Z):P(_,E,H,K,se,re,Z)},S=(_,E,B,Y,H,K,se,re)=>{let Z,Q;const{props:Te,shapeFlag:ue,transition:_e,dirs:Re}=_;if(Z=_.el=o(_.type,K,Te&&Te.is,Te),ue&8?c(Z,_.children):ue&16&&D(_.children,Z,null,Y,H,_f(_,K),se,re),Re&&Ds(_,null,Y,"created"),C(Z,_,_.scopeId,se,Y),Te){for(const lt in Te)lt!=="value"&&!fl(lt)&&s(Z,lt,null,Te[lt],K,Y);"value"in Te&&s(Z,"value",null,Te.value,K),(Q=Te.onVnodeBeforeMount)&&Dr(Q,Y,_)}Re&&Ds(_,null,Y,"beforeMount");const Ke=H1(H,_e);Ke&&_e.beforeEnter(Z),r(Z,E,B),((Q=Te&&Te.onVnodeMounted)||Ke||Re)&&_n(()=>{Q&&Dr(Q,Y,_),Ke&&_e.enter(Z),Re&&Ds(_,null,Y,"mounted")},H)},C=(_,E,B,Y,H)=>{if(B&&f(_,B),Y)for(let K=0;K<Y.length;K++)f(_,Y[K]);if(H){let K=H.subTree;if(E===K||AS(K.type)&&(K.ssContent===E||K.ssFallback===E)){const se=H.vnode;C(_,se,se.scopeId,se.slotScopeIds,H.parent)}}},D=(_,E,B,Y,H,K,se,re,Z=0)=>{for(let Q=Z;Q<_.length;Q++){const Te=_[Q]=re?Hi(_[Q]):Rr(_[Q]);g(null,Te,E,B,Y,H,K,se,re)}},P=(_,E,B,Y,H,K,se)=>{const re=E.el=_.el;let{patchFlag:Z,dynamicChildren:Q,dirs:Te}=E;Z|=_.patchFlag&16;const ue=_.props||at,_e=E.props||at;let Re;if(B&&Ps(B,!1),(Re=_e.onVnodeBeforeUpdate)&&Dr(Re,B,E,_),Te&&Ds(E,_,B,"beforeUpdate"),B&&Ps(B,!0),(ue.innerHTML&&_e.innerHTML==null||ue.textContent&&_e.textContent==null)&&c(re,""),Q?$(_.dynamicChildren,Q,re,B,Y,_f(E,H),K):se||de(_,E,re,null,B,Y,_f(E,H),K,!1),Z>0){if(Z&16)q(re,ue,_e,B,H);else if(Z&2&&ue.class!==_e.class&&s(re,"class",null,_e.class,H),Z&4&&s(re,"style",ue.style,_e.style,H),Z&8){const Ke=E.dynamicProps;for(let lt=0;lt<Ke.length;lt++){const nt=Ke[lt],Nn=ue[nt],Rn=_e[nt];(Rn!==Nn||nt==="value")&&s(re,nt,Nn,Rn,H,B)}}Z&1&&_.children!==E.children&&c(re,E.children)}else!se&&Q==null&&q(re,ue,_e,B,H);((Re=_e.onVnodeUpdated)||Te)&&_n(()=>{Re&&Dr(Re,B,E,_),Te&&Ds(E,_,B,"updated")},Y)},$=(_,E,B,Y,H,K,se)=>{for(let re=0;re<E.length;re++){const Z=_[re],Q=E[re],Te=Z.el&&(Z.type===Ee||!Bs(Z,Q)||Z.shapeFlag&198)?d(Z.el):B;g(Z,Q,Te,null,Y,H,K,se,!0)}},q=(_,E,B,Y,H)=>{if(E!==B){if(E!==at)for(const K in E)!fl(K)&&!(K in B)&&s(_,K,E[K],null,H,Y);for(const K in B){if(fl(K))continue;const se=B[K],re=E[K];se!==re&&K!=="value"&&s(_,K,re,se,H,Y)}"value"in B&&s(_,"value",E.value,B.value,H)}},A=(_,E,B,Y,H,K,se,re,Z)=>{const Q=E.el=_?_.el:a(""),Te=E.anchor=_?_.anchor:a("");let{patchFlag:ue,dynamicChildren:_e,slotScopeIds:Re}=E;Re&&(re=re?re.concat(Re):Re),_==null?(r(Q,B,Y),r(Te,B,Y),D(E.children||[],B,Te,H,K,se,re,Z)):ue>0&&ue&64&&_e&&_.dynamicChildren?($(_.dynamicChildren,_e,B,H,K,se,re),(E.key!=null||H&&E===H.subTree)&&tv(_,E,!0)):de(_,E,B,Te,H,K,se,re,Z)},O=(_,E,B,Y,H,K,se,re,Z)=>{E.slotScopeIds=re,_==null?E.shapeFlag&512?H.ctx.activate(E,B,Y,se,Z):j(E,B,Y,H,K,se,Z):J(_,E,Z)},j=(_,E,B,Y,H,K,se)=>{const re=_.component=lD(_,Y,H);if(Zd(_)&&(re.ctx.renderer=ot),uD(re,!1,se),re.asyncDep){if(H&&H.registerDep(re,ee,se),!_.el){const Z=re.subTree=v(gn);y(null,Z,E,B),_.placeholder=Z.el}}else ee(re,_,E,B,H,K,se)},J=(_,E,B)=>{const Y=E.component=_.component;if(eD(_,E,B))if(Y.asyncDep&&!Y.asyncResolved){fe(Y,E,B);return}else Y.next=E,Y.update();else E.el=_.el,Y.vnode=E},ee=(_,E,B,Y,H,K,se)=>{const re=()=>{if(_.isMounted){let{next:ue,bu:_e,u:Re,parent:Ke,vnode:lt}=_;{const Ar=ES(_);if(Ar){ue&&(ue.el=lt.el,fe(_,ue,se)),Ar.asyncDep.then(()=>{_.isUnmounted||re()});return}}let nt=ue,Nn;Ps(_,!1),ue?(ue.el=lt.el,fe(_,ue,se)):ue=lt,_e&&gf(_e),(Nn=ue.props&&ue.props.onVnodeBeforeUpdate)&&Dr(Nn,Ke,ue,lt),Ps(_,!0);const Rn=Ky(_),kr=_.subTree;_.subTree=Rn,g(kr,Rn,d(kr.el),pe(kr),_,H,K),ue.el=Rn.el,nt===null&&tD(_,Rn.el),Re&&_n(Re,H),(Nn=ue.props&&ue.props.onVnodeUpdated)&&_n(()=>Dr(Nn,Ke,ue,lt),H)}else{let ue;const{el:_e,props:Re}=E,{bm:Ke,m:lt,parent:nt,root:Nn,type:Rn}=_,kr=yl(E);Ps(_,!1),Ke&&gf(Ke),!kr&&(ue=Re&&Re.onVnodeBeforeMount)&&Dr(ue,nt,E),Ps(_,!0);{Nn.ce&&Nn.ce._def.shadowRoot!==!1&&Nn.ce._injectChildStyle(Rn);const Ar=_.subTree=Ky(_);g(null,Ar,B,Y,_,H,K),E.el=Ar.el}if(lt&&_n(lt,H),!kr&&(ue=Re&&Re.onVnodeMounted)){const Ar=E;_n(()=>Dr(ue,nt,Ar),H)}(E.shapeFlag&256||nt&&yl(nt.vnode)&&nt.vnode.shapeFlag&256)&&_.a&&_n(_.a,H),_.isMounted=!0,E=B=Y=null}};_.scope.on();const Z=_.effect=new A_(re);_.scope.off();const Q=_.update=Z.run.bind(Z),Te=_.job=Z.runIfDirty.bind(Z);Te.i=_,Te.id=_.uid,Z.scheduler=()=>Yg(Te),Ps(_,!0),Q()},fe=(_,E,B)=>{E.component=_;const Y=_.vnode.props;_.vnode=E,_.next=null,F1(_,E.props,Y,B),j1(_,E.children,B),yi(),Vy(_),wi()},de=(_,E,B,Y,H,K,se,re,Z=!1)=>{const Q=_&&_.children,Te=_?_.shapeFlag:0,ue=E.children,{patchFlag:_e,shapeFlag:Re}=E;if(_e>0){if(_e&128){L(Q,ue,B,Y,H,K,se,re,Z);return}else if(_e&256){Be(Q,ue,B,Y,H,K,se,re,Z);return}}Re&8?(Te&16&&Ue(Q,H,K),ue!==Q&&c(B,ue)):Te&16?Re&16?L(Q,ue,B,Y,H,K,se,re,Z):Ue(Q,H,K,!0):(Te&8&&c(B,""),Re&16&&D(ue,B,Y,H,K,se,re,Z))},Be=(_,E,B,Y,H,K,se,re,Z)=>{_=_||Ho,E=E||Ho;const Q=_.length,Te=E.length,ue=Math.min(Q,Te);let _e;for(_e=0;_e<ue;_e++){const Re=E[_e]=Z?Hi(E[_e]):Rr(E[_e]);g(_[_e],Re,B,null,H,K,se,re,Z)}Q>Te?Ue(_,H,K,!0,!1,ue):D(E,B,Y,H,K,se,re,Z,ue)},L=(_,E,B,Y,H,K,se,re,Z)=>{let Q=0;const Te=E.length;let ue=_.length-1,_e=Te-1;for(;Q<=ue&&Q<=_e;){const Re=_[Q],Ke=E[Q]=Z?Hi(E[Q]):Rr(E[Q]);if(Bs(Re,Ke))g(Re,Ke,B,null,H,K,se,re,Z);else break;Q++}for(;Q<=ue&&Q<=_e;){const Re=_[ue],Ke=E[_e]=Z?Hi(E[_e]):Rr(E[_e]);if(Bs(Re,Ke))g(Re,Ke,B,null,H,K,se,re,Z);else break;ue--,_e--}if(Q>ue){if(Q<=_e){const Re=_e+1,Ke=Re<Te?E[Re].el:Y;for(;Q<=_e;)g(null,E[Q]=Z?Hi(E[Q]):Rr(E[Q]),B,Ke,H,K,se,re,Z),Q++}}else if(Q>_e)for(;Q<=ue;)U(_[Q],H,K,!0),Q++;else{const Re=Q,Ke=Q,lt=new Map;for(Q=Ke;Q<=_e;Q++){const qn=E[Q]=Z?Hi(E[Q]):Rr(E[Q]);qn.key!=null&&lt.set(qn.key,Q)}let nt,Nn=0;const Rn=_e-Ke+1;let kr=!1,Ar=0;const qa=new Array(Rn);for(Q=0;Q<Rn;Q++)qa[Q]=0;for(Q=Re;Q<=ue;Q++){const qn=_[Q];if(Nn>=Rn){U(qn,H,K,!0);continue}let xr;if(qn.key!=null)xr=lt.get(qn.key);else for(nt=Ke;nt<=_e;nt++)if(qa[nt-Ke]===0&&Bs(qn,E[nt])){xr=nt;break}xr===void 0?U(qn,H,K,!0):(qa[xr-Ke]=Q+1,xr>=Ar?Ar=xr:kr=!0,g(qn,E[xr],B,null,H,K,se,re,Z),Nn++)}const Dy=kr?W1(qa):Ho;for(nt=Dy.length-1,Q=Rn-1;Q>=0;Q--){const qn=Ke+Q,xr=E[qn],Py=E[qn+1],Ny=qn+1<Te?Py.el||Py.placeholder:Y;qa[Q]===0?g(null,xr,B,Ny,H,K,se,re,Z):kr&&(nt<0||Q!==Dy[nt]?F(xr,B,Ny,2):nt--)}}},F=(_,E,B,Y,H=null)=>{const{el:K,type:se,transition:re,children:Z,shapeFlag:Q}=_;if(Q&6){F(_.component.subTree,E,B,Y);return}if(Q&128){_.suspense.move(E,B,Y);return}if(Q&64){se.move(_,E,B,ot);return}if(se===Ee){r(K,E,B);for(let ue=0;ue<Z.length;ue++)F(Z[ue],E,B,Y);r(_.anchor,E,B);return}if(se===Sf){T(_,E,B);return}if(Y!==2&&Q&1&&re)if(Y===0)re.beforeEnter(K),r(K,E,B),_n(()=>re.enter(K),H);else{const{leave:ue,delayLeave:_e,afterLeave:Re}=re,Ke=()=>{_.ctx.isUnmounted?i(K):r(K,E,B)},lt=()=>{ue(K,()=>{Ke(),Re&&Re()})};_e?_e(K,Ke,lt):lt()}else r(K,E,B)},U=(_,E,B,Y=!1,H=!1)=>{const{type:K,props:se,ref:re,children:Z,dynamicChildren:Q,shapeFlag:Te,patchFlag:ue,dirs:_e,cacheIndex:Re}=_;if(ue===-2&&(H=!1),re!=null&&(yi(),pl(re,null,B,_,!0),wi()),Re!=null&&(E.renderCache[Re]=void 0),Te&256){E.ctx.deactivate(_);return}const Ke=Te&1&&_e,lt=!yl(_);let nt;if(lt&&(nt=se&&se.onVnodeBeforeUnmount)&&Dr(nt,E,_),Te&6)ie(_.component,B,Y);else{if(Te&128){_.suspense.unmount(B,Y);return}Ke&&Ds(_,null,E,"beforeUnmount"),Te&64?_.type.remove(_,E,B,ot,Y):Q&&!Q.hasOnce&&(K!==Ee||ue>0&&ue&64)?Ue(Q,E,B,!1,!0):(K===Ee&&ue&384||!H&&Te&16)&&Ue(Z,E,B),Y&&le(_)}(lt&&(nt=se&&se.onVnodeUnmounted)||Ke)&&_n(()=>{nt&&Dr(nt,E,_),Ke&&Ds(_,null,E,"unmounted")},B)},le=_=>{const{type:E,el:B,anchor:Y,transition:H}=_;if(E===Ee){qe(B,Y);return}if(E===Sf){b(_);return}const K=()=>{i(B),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(_.shapeFlag&1&&H&&!H.persisted){const{leave:se,delayLeave:re}=H,Z=()=>se(B,K);re?re(_.el,K,Z):Z()}else K()},qe=(_,E)=>{let B;for(;_!==E;)B=h(_),i(_),_=B;i(E)},ie=(_,E,B)=>{const{bum:Y,scope:H,job:K,subTree:se,um:re,m:Z,a:Q,parent:Te,slots:{__:ue}}=_;Gy(Z),Gy(Q),Y&&gf(Y),Te&&De(ue)&&ue.forEach(_e=>{Te.renderCache[_e]=void 0}),H.stop(),K&&(K.flags|=8,U(se,_,E,B)),re&&_n(re,E),_n(()=>{_.isUnmounted=!0},E),E&&E.pendingBranch&&!E.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===E.pendingId&&(E.deps--,E.deps===0&&E.resolve())},Ue=(_,E,B,Y=!1,H=!1,K=0)=>{for(let se=K;se<_.length;se++)U(_[se],E,B,Y,H)},pe=_=>{if(_.shapeFlag&6)return pe(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const E=h(_.anchor||_.el),B=E&&E[J_];return B?h(B):E};let Me=!1;const je=(_,E,B)=>{_==null?E._vnode&&U(E._vnode,null,null,!0):g(E._vnode||null,_,E,null,null,null,B),E._vnode=_,Me||(Me=!0,Vy(),Y_(),Me=!1)},ot={p:g,um:U,m:F,r:le,mt:j,mc:D,pc:de,pbc:$,n:pe,o:t};return{render:je,hydrate:void 0,createApp:V1(je)}}function _f({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Ps({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function H1(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function tv(t,e,n=!1){const r=t.children,i=e.children;if(De(r)&&De(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Hi(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&tv(o,a)),a.type===ku&&(a.el=o.el),a.type===gn&&!a.el&&(a.el=o.el)}}function W1(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function ES(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ES(e)}function Gy(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const G1=Symbol.for("v-scx"),K1=()=>et(G1);function dr(t,e){return nv(t,null,e)}function Ie(t,e,n){return nv(t,e,n)}function nv(t,e,n=at){const{immediate:r,deep:i,flush:s,once:o}=n,a=Ut({},n),l=e&&r||!e&&s!=="post";let u;if(Bl){if(s==="sync"){const f=K1();u=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=Hr,f.resume=Hr,f.pause=Hr,f}}const c=vn;a.call=(f,m,g)=>Ir(f,c,m,g);let d=!1;s==="post"?a.scheduler=f=>{_n(f,c&&c.suspense)}:s!=="sync"&&(d=!0,a.scheduler=(f,m)=>{m?f():Yg(f)}),a.augmentJob=f=>{e&&(f.flags|=4),d&&(f.flags|=2,c&&(f.id=c.uid,f.i=c))};const h=d1(t,e,a);return Bl&&(u?u.push(h):l&&h()),h}function Y1(t,e,n){const r=this.proxy,i=St(t)?t.includes(".")?CS(r,t):()=>r[t]:t.bind(r,r);let s;Ne(e)?s=e:(s=e.handler,n=e);const o=xu(this),a=nv(i,s.bind(r),n);return o(),a}function CS(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const Q1=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Pn(e)}Modifiers`]||t[`${Io(e)}Modifiers`];function X1(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||at;let i=n;const s=e.startsWith("update:"),o=s&&Q1(r,e.slice(7));o&&(o.trim&&(i=n.map(c=>St(c)?c.trim():c)),o.number&&(i=n.map(Dx)));let a,l=r[a=mf(e)]||r[a=mf(Pn(e))];!l&&s&&(l=r[a=mf(Io(e))]),l&&Ir(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ir(u,t,6,i)}}function kS(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!Ne(t)){const l=u=>{const c=kS(u,e,!0);c&&(a=!0,Ut(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(ct(t)&&r.set(t,null),null):(De(s)?s.forEach(l=>o[l]=null):Ut(o,s),ct(t)&&r.set(t,o),o)}function th(t,e){return!t||!Gd(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ze(t,e[0].toLowerCase()+e.slice(1))||Ze(t,Io(e))||Ze(t,e))}function Ky(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:h,setupState:f,ctx:m,inheritAttrs:g}=t,p=Zc(t);let y,w;try{if(n.shapeFlag&4){const b=i||r,I=b;y=Rr(u.call(I,b,c,d,f,h,m)),w=a}else{const b=e;y=Rr(b.length>1?b(d,{attrs:a,slots:o,emit:l}):b(d,null)),w=e.props?a:J1(a)}}catch(b){bl.length=0,Jd(b,t,1),y=v(gn)}let T=y;if(w&&g!==!1){const b=Object.keys(w),{shapeFlag:I}=T;b.length&&I&7&&(s&&b.some(Bg)&&(w=Z1(w,s)),T=bi(T,w,!1,!0))}return n.dirs&&(T=bi(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(n.dirs):n.dirs),n.transition&&so(T,n.transition),y=T,Zc(p),y}const J1=t=>{let e;for(const n in t)(n==="class"||n==="style"||Gd(n))&&((e||(e={}))[n]=t[n]);return e},Z1=(t,e)=>{const n={};for(const r in t)(!Bg(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function eD(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Yy(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(o[h]!==r[h]&&!th(u,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Yy(r,o,u):!0:!!o;return!1}function Yy(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!th(n,s))return!0}return!1}function tD({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const AS=t=>t.__isSuspense;function nD(t,e){e&&e.pendingBranch?De(t)?e.effects.push(...t):e.effects.push(t):m1(t)}const Ee=Symbol.for("v-fgt"),ku=Symbol.for("v-txt"),gn=Symbol.for("v-cmt"),Sf=Symbol.for("v-stc"),bl=[];let Kn=null;function ve(t=!1){bl.push(Kn=t?null:[])}function rD(){bl.pop(),Kn=bl[bl.length-1]||null}let Ll=1;function Qy(t,e=!1){Ll+=t,t<0&&Kn&&e&&(Kn.hasOnce=!0)}function xS(t){return t.dynamicChildren=Ll>0?Kn||Ho:null,rD(),Ll>0&&Kn&&Kn.push(t),t}function Fe(t,e,n,r,i,s){return xS(k(t,e,n,r,i,s,!0))}function xt(t,e,n,r,i){return xS(v(t,e,n,r,i,!0))}function Fl(t){return t?t.__v_isVNode===!0:!1}function Bs(t,e){return t.type===e.type&&t.key===e.key}const DS=({key:t})=>t??null,Nc=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?St(t)||Rt(t)||Ne(t)?{i:Gn,r:t,k:e,f:!!n}:t:null);function k(t,e=null,n=null,r=0,i=null,s=t===Ee?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&DS(e),ref:e&&Nc(e),scopeId:X_,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Gn};return a?(rv(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=St(n)?8:16),Ll>0&&!o&&Kn&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Kn.push(l),l}const v=iD;function iD(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===k1)&&(t=gn),Fl(t)){const a=bi(t,e,!0);return n&&rv(a,n),Ll>0&&!s&&Kn&&(a.shapeFlag&6?Kn[Kn.indexOf(t)]=a:Kn.push(a)),a.patchFlag=-2,a}if(mD(t)&&(t=t.__vccOpts),e){e=sD(e);let{class:a,style:l}=e;a&&!St(a)&&(e.class=ce(a)),ct(l)&&(Kg(l)&&!De(l)&&(l=Ut({},l)),e.style=xe(l))}const o=St(t)?1:AS(t)?128:Z_(t)?64:ct(t)?4:Ne(t)?2:0;return k(t,e,n,r,i,o,s,!0)}function sD(t){return t?Kg(t)||wS(t)?Ut({},t):t:null}function bi(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,u=e?Se(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&DS(u),ref:e&&e.ref?n&&s?De(s)?s.concat(Nc(e)):[s,Nc(e)]:Nc(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ee?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&bi(t.ssContent),ssFallback:t.ssFallback&&bi(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&so(c,l.clone(c)),c}function ze(t=" ",e=0){return v(ku,null,t,e)}function es(t="",e=!1){return e?(ve(),xt(gn,null,t)):v(gn,null,t)}function Rr(t){return t==null||typeof t=="boolean"?v(gn):De(t)?v(Ee,null,t.slice()):Fl(t)?Hi(t):v(ku,null,String(t))}function Hi(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:bi(t)}function rv(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(De(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),rv(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!wS(e)?e._ctx=Gn:i===3&&Gn&&(Gn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ne(e)?(e={default:e,_ctx:Gn},n=32):(e=String(e),r&64?(n=16,e=[ze(e)]):n=8);t.children=e,t.shapeFlag|=n}function Se(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=ce([e.class,r.class]));else if(i==="style")e.style=xe([e.style,r.style]);else if(Gd(i)){const s=e[i],o=r[i];o&&s!==o&&!(De(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function Dr(t,e,n,r=null){Ir(t,e,7,[n,r])}const oD=vS();let aD=0;function lD(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||oD,s={uid:aD++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new C_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:IS(r,i),emitsOptions:kS(r,i),emit:null,emitted:null,propsDefaults:at,inheritAttrs:r.inheritAttrs,ctx:at,data:at,props:at,attrs:at,slots:at,refs:at,setupState:at,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=X1.bind(null,s),t.ce&&t.ce(s),s}let vn=null;const Au=()=>vn||Gn;let td,bm;{const t=Qd(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};td=e("__VUE_INSTANCE_SETTERS__",n=>vn=n),bm=e("__VUE_SSR_SETTERS__",n=>Bl=n)}const xu=t=>{const e=vn;return td(t),t.scope.on(),()=>{t.scope.off(),td(e)}},Xy=()=>{vn&&vn.scope.off(),td(null)};function PS(t){return t.vnode.shapeFlag&4}let Bl=!1;function uD(t,e=!1,n=!1){e&&bm(e);const{props:r,children:i}=t.vnode,s=PS(t);L1(t,r,s,e),U1(t,i,n||e);const o=s?cD(t,e):void 0;return e&&bm(!1),o}function cD(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,x1);const{setup:r}=n;if(r){yi();const i=t.setupContext=r.length>1?hD(t):null,s=xu(t),o=Eu(r,t,0,[t.props,i]),a=b_(o);if(wi(),s(),(a||t.sp)&&!yl(t)&&aS(t),a){if(o.then(Xy,Xy),e)return o.then(l=>{Jy(t,l)}).catch(l=>{Jd(l,t,0)});t.asyncDep=o}else Jy(t,o)}else NS(t)}function Jy(t,e,n){Ne(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ct(e)&&(t.setupState=z_(e)),NS(t)}function NS(t,e,n){const r=t.type;t.render||(t.render=r.render||Hr);{const i=xu(t);yi();try{D1(t)}finally{wi(),i()}}}const dD={get(t,e){return fn(t,"get",""),t[e]}};function hD(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,dD),slots:t.slots,emit:t.emit,expose:e}}function nh(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(z_(j_(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in wl)return wl[n](t)},has(e,n){return n in e||n in wl}})):t.proxy}function fD(t,e=!0){return Ne(t)?t.displayName||t.name:t.name||e&&t.__name}function mD(t){return Ne(t)&&"__vccOpts"in t}const x=(t,e)=>u1(t,e,Bl);function ws(t,e,n){const r=arguments.length;return r===2?ct(e)&&!De(e)?Fl(e)?v(t,null,[e]):v(t,e):v(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Fl(n)&&(n=[n]),v(t,e,n))}const gD="3.5.18";/**
* @vue/runtime-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Im;const Zy=typeof window<"u"&&window.trustedTypes;if(Zy)try{Im=Zy.createPolicy("vue",{createHTML:t=>t})}catch{}const RS=Im?t=>Im.createHTML(t):t=>t,vD="http://www.w3.org/2000/svg",pD="http://www.w3.org/1998/Math/MathML",si=typeof document<"u"?document:null,ew=si&&si.createElement("template"),yD={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?si.createElementNS(vD,t):e==="mathml"?si.createElementNS(pD,t):n?si.createElement(t,{is:n}):si.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>si.createTextNode(t),createComment:t=>si.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>si.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{ew.innerHTML=RS(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=ew.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Li="transition",Ha="animation",sa=Symbol("_vtc"),OS={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},MS=Ut({},rS,OS),wD=t=>(t.displayName="Transition",t.props=MS,t),oo=wD((t,{slots:e})=>ws(y1,VS(t),e)),Ns=(t,e=[])=>{De(t)?t.forEach(n=>n(...e)):t&&t(...e)},tw=t=>t?De(t)?t.some(e=>e.length>1):t.length>1:!1;function VS(t){const e={};for(const A in t)A in OS||(e[A]=t[A]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,m=bD(i),g=m&&m[0],p=m&&m[1],{onBeforeEnter:y,onEnter:w,onEnterCancelled:T,onLeave:b,onLeaveCancelled:I,onBeforeAppear:S=y,onAppear:C=w,onAppearCancelled:D=T}=e,P=(A,O,j,J)=>{A._enterCancelled=J,ji(A,O?c:a),ji(A,O?u:o),j&&j()},$=(A,O)=>{A._isLeaving=!1,ji(A,d),ji(A,f),ji(A,h),O&&O()},q=A=>(O,j)=>{const J=A?C:w,ee=()=>P(O,A,j);Ns(J,[O,ee]),nw(()=>{ji(O,A?l:s),Pr(O,A?c:a),tw(J)||rw(O,r,g,ee)})};return Ut(e,{onBeforeEnter(A){Ns(y,[A]),Pr(A,s),Pr(A,o)},onBeforeAppear(A){Ns(S,[A]),Pr(A,l),Pr(A,u)},onEnter:q(!1),onAppear:q(!0),onLeave(A,O){A._isLeaving=!0;const j=()=>$(A,O);Pr(A,d),A._enterCancelled?(Pr(A,h),_m()):(_m(),Pr(A,h)),nw(()=>{A._isLeaving&&(ji(A,d),Pr(A,f),tw(b)||rw(A,r,p,j))}),Ns(b,[A,j])},onEnterCancelled(A){P(A,!1,void 0,!0),Ns(T,[A])},onAppearCancelled(A){P(A,!0,void 0,!0),Ns(D,[A])},onLeaveCancelled(A){$(A),Ns(I,[A])}})}function bD(t){if(t==null)return null;if(ct(t))return[Tf(t.enter),Tf(t.leave)];{const e=Tf(t);return[e,e]}}function Tf(t){return Px(t)}function Pr(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[sa]||(t[sa]=new Set)).add(e)}function ji(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[sa];n&&(n.delete(e),n.size||(t[sa]=void 0))}function nw(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let ID=0;function rw(t,e,n,r){const i=t._endId=++ID,s=()=>{i===t._endId&&r()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=LS(t,e);if(!o)return r();const u=o+"end";let c=0;const d=()=>{t.removeEventListener(u,h),s()},h=f=>{f.target===t&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),t.addEventListener(u,h)}function LS(t,e){const n=window.getComputedStyle(t),r=m=>(n[m]||"").split(", "),i=r(`${Li}Delay`),s=r(`${Li}Duration`),o=iw(i,s),a=r(`${Ha}Delay`),l=r(`${Ha}Duration`),u=iw(a,l);let c=null,d=0,h=0;e===Li?o>0&&(c=Li,d=o,h=s.length):e===Ha?u>0&&(c=Ha,d=u,h=l.length):(d=Math.max(o,u),c=d>0?o>u?Li:Ha:null,h=c?c===Li?s.length:l.length:0);const f=c===Li&&/\b(transform|all)(,|$)/.test(r(`${Li}Property`).toString());return{type:c,timeout:d,propCount:h,hasTransform:f}}function iw(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>sw(n)+sw(t[r])))}function sw(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function _m(){return document.body.offsetHeight}function _D(t,e,n){const r=t[sa];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const nd=Symbol("_vod"),FS=Symbol("_vsh"),Cn={beforeMount(t,{value:e},{transition:n}){t[nd]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Wa(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Wa(t,!0),r.enter(t)):r.leave(t,()=>{Wa(t,!1)}):Wa(t,e))},beforeUnmount(t,{value:e}){Wa(t,e)}};function Wa(t,e){t.style.display=e?t[nd]:"none",t[FS]=!e}const SD=Symbol(""),TD=/(^|;)\s*display\s*:/;function ED(t,e,n){const r=t.style,i=St(n);let s=!1;if(n&&!i){if(e)if(St(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Rc(r,a,"")}else for(const o in e)n[o]==null&&Rc(r,o,"");for(const o in n)o==="display"&&(s=!0),Rc(r,o,n[o])}else if(i){if(e!==n){const o=r[SD];o&&(n+=";"+o),r.cssText=n,s=TD.test(n)}}else e&&t.removeAttribute("style");nd in t&&(t[nd]=s?r.display:"",t[FS]&&(r.display="none"))}const ow=/\s*!important$/;function Rc(t,e,n){if(De(n))n.forEach(r=>Rc(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=CD(t,e);ow.test(n)?t.setProperty(Io(r),n.replace(ow,""),"important"):t[r]=n}}const aw=["Webkit","Moz","ms"],Ef={};function CD(t,e){const n=Ef[e];if(n)return n;let r=Pn(e);if(r!=="filter"&&r in t)return Ef[e]=r;r=Ti(r);for(let i=0;i<aw.length;i++){const s=aw[i]+r;if(s in t)return Ef[e]=s}return e}const lw="http://www.w3.org/1999/xlink";function uw(t,e,n,r,i,s=Lx(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(lw,e.slice(6,e.length)):t.setAttributeNS(lw,e,n):n==null||s&&!S_(n)?t.removeAttribute(e):t.setAttribute(e,s?"":ys(n)?String(n):n)}function cw(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?RS(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=S_(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function kD(t,e,n,r){t.addEventListener(e,n,r)}function AD(t,e,n,r){t.removeEventListener(e,n,r)}const dw=Symbol("_vei");function xD(t,e,n,r,i=null){const s=t[dw]||(t[dw]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=DD(e);if(r){const u=s[e]=RD(r,i);kD(t,a,u,l)}else o&&(AD(t,a,o,l),s[e]=void 0)}}const hw=/(?:Once|Passive|Capture)$/;function DD(t){let e;if(hw.test(t)){e={};let r;for(;r=t.match(hw);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Io(t.slice(2)),e]}let Cf=0;const PD=Promise.resolve(),ND=()=>Cf||(PD.then(()=>Cf=0),Cf=Date.now());function RD(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ir(OD(r,n.value),e,5,[r])};return n.value=t,n.attached=ND(),n}function OD(t,e){if(De(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const fw=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,MD=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?_D(t,r,o):e==="style"?ED(t,n,r):Gd(e)?Bg(e)||xD(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):VD(t,e,r,o))?(cw(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&uw(t,e,r,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!St(r))?cw(t,Pn(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),uw(t,e,r,o))};function VD(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&fw(e)&&Ne(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return fw(e)&&St(n)?!1:e in t}const BS=new WeakMap,$S=new WeakMap,rd=Symbol("_moveCb"),mw=Symbol("_enterCb"),LD=t=>(delete t.props.mode,t),FD=LD({name:"TransitionGroup",props:Ut({},MS,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Au(),r=nS();let i,s;return Jg(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!jD(i[0].el,n.vnode.el,o)){i=[];return}i.forEach(BD),i.forEach($D);const a=i.filter(UD);_m(),a.forEach(l=>{const u=l.el,c=u.style;Pr(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[rd]=h=>{h&&h.target!==u||(!h||/transform$/.test(h.propertyName))&&(u.removeEventListener("transitionend",d),u[rd]=null,ji(u,o))};u.addEventListener("transitionend",d)}),i=[]}),()=>{const o=ke(t),a=VS(o);let l=o.tag||Ee;if(i=[],s)for(let u=0;u<s.length;u++){const c=s[u];c.el&&c.el instanceof Element&&(i.push(c),so(c,Vl(c,a,r,n)),BS.set(c,c.el.getBoundingClientRect()))}s=e.default?Qg(e.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&so(c,Vl(c,a,r,n))}return v(l,null,s)}}}),iv=FD;function BD(t){const e=t.el;e[rd]&&e[rd](),e[mw]&&e[mw]()}function $D(t){$S.set(t,t.el.getBoundingClientRect())}function UD(t){const e=BS.get(t),n=$S.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function jD(t,e,n){const r=t.cloneNode(),i=t[sa];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:o}=LS(r);return s.removeChild(r),o}const qD=["ctrl","shift","alt","meta"],zD={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>qD.some(n=>t[`${n}Key`]&&!e.includes(n))},sv=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<e.length;o++){const a=zD[e[o]];if(a&&a(i,e))return}return t(i,...s)})},HD=Ut({patchProp:MD},yD);let gw;function WD(){return gw||(gw=q1(HD))}const GD=(...t)=>{const e=WD().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=YD(r);if(!i)return;const s=e._component;!Ne(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,KD(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function KD(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function YD(t){return St(t)?document.querySelector(t):t}var vw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},QD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},jS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(US(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new XD;const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JD=function(t){const e=US(t);return jS.encodeByteArray(e,!0)},id=function(t){return JD(t).replace(/\./g,"")},qS=function(t){try{return jS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sd(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!ZD(n)||(t[n]=sd(t[n],e[n]));return t}function ZD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=()=>eP().__FIREBASE_DEFAULTS__,nP=()=>{if(typeof process>"u"||typeof vw>"u")return;const t=vw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qS(t[1]);return e&&JSON.parse(e)},ov=()=>{try{return tP()||nP()||rP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zS=()=>{var t;return(t=ov())===null||t===void 0?void 0:t.config},iP=t=>{var e;return(e=ov())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[id(JSON.stringify(n)),id(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function av(){var t;const e=(t=ov())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lP(){return typeof self=="object"&&self.self===self}function HS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WS(){const t=Tt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uP(){return!av()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $l(){try{return typeof indexedDB=="object"}catch{return!1}}function cP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="FirebaseError";class An extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dP,Object.setPrototypeOf(this,An.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_o.prototype.create)}}class _o{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?hP(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new An(i,a,r)}}function hP(t,e){return t.replace(fP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const fP=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function mP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(yw(s)&&yw(o)){if(!Sm(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function yw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ol(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function GS(t,e){const n=new gP(t,e);return n.subscribe.bind(n)}class gP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=kf),i.error===void 0&&(i.error=kf),i.complete===void 0&&(i.complete=kf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t){return t&&t._delegate?t._delegate:t}class Xr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wP(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yP(t){return t===Ls?void 0:t}function wP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=[];var Qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qe||(Qe={}));const KS={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},IP=Qe.INFO,_P={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},SP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=_P[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rh{constructor(e){this.name=e,this._logLevel=IP,this._logHandler=SP,this._userLogHandler=null,uv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}function TP(t){uv.forEach(e=>{e.setLogLevel(t)})}function EP(t,e){for(const n of uv){let r=null;e&&e.level&&(r=KS[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:Qe[s].toLowerCase(),message:a,args:o,type:i.name})}}}const CP=(t,e)=>e.some(n=>t instanceof n);let ww,bw;function kP(){return ww||(ww=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AP(){return bw||(bw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YS=new WeakMap,Tm=new WeakMap,QS=new WeakMap,Af=new WeakMap,cv=new WeakMap;function xP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ji(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&YS.set(n,t)}).catch(()=>{}),cv.set(e,t),e}function DP(t){if(Tm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Tm.set(t,e)}let Em={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PP(t){Em=t(Em)}function NP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xf(this),e,...n);return QS.set(r,e.sort?e.sort():[e]),Ji(r)}:AP().includes(t)?function(...e){return t.apply(xf(this),e),Ji(YS.get(this))}:function(...e){return Ji(t.apply(xf(this),e))}}function RP(t){return typeof t=="function"?NP(t):(t instanceof IDBTransaction&&DP(t),CP(t,kP())?new Proxy(t,Em):t)}function Ji(t){if(t instanceof IDBRequest)return xP(t);if(Af.has(t))return Af.get(t);const e=RP(t);return e!==t&&(Af.set(t,e),cv.set(e,t)),e}const xf=t=>cv.get(t);function OP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ji(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ji(o.result),l.oldVersion,l.newVersion,Ji(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const MP=["get","getKey","getAll","getAllKeys","count"],VP=["put","add","delete","clear"],Df=new Map;function Iw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Df.get(e))return Df.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=VP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MP.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Df.set(e,s),s}PP(t=>({...t,get:(e,n,r)=>Iw(e,n)||t.get(e,n,r),has:(e,n)=>!!Iw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function FP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cm="@firebase/app",_w="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=new rh("@firebase/app"),BP="@firebase/app-compat",$P="@firebase/analytics-compat",UP="@firebase/analytics",jP="@firebase/app-check-compat",qP="@firebase/app-check",zP="@firebase/auth",HP="@firebase/auth-compat",WP="@firebase/database",GP="@firebase/database-compat",KP="@firebase/functions",YP="@firebase/functions-compat",QP="@firebase/installations",XP="@firebase/installations-compat",JP="@firebase/messaging",ZP="@firebase/messaging-compat",eN="@firebase/performance",tN="@firebase/performance-compat",nN="@firebase/remote-config",rN="@firebase/remote-config-compat",iN="@firebase/storage",sN="@firebase/storage-compat",oN="@firebase/firestore",aN="@firebase/firestore-compat",lN="firebase",uN="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="[DEFAULT]",cN={[Cm]:"fire-core",[BP]:"fire-core-compat",[UP]:"fire-analytics",[$P]:"fire-analytics-compat",[qP]:"fire-app-check",[jP]:"fire-app-check-compat",[zP]:"fire-auth",[HP]:"fire-auth-compat",[WP]:"fire-rtdb",[GP]:"fire-rtdb-compat",[KP]:"fire-fn",[YP]:"fire-fn-compat",[QP]:"fire-iid",[XP]:"fire-iid-compat",[JP]:"fire-fcm",[ZP]:"fire-fcm-compat",[eN]:"fire-perf",[tN]:"fire-perf-compat",[nN]:"fire-rc",[rN]:"fire-rc-compat",[iN]:"fire-gcs",[sN]:"fire-gcs-compat",[oN]:"fire-fst",[aN]:"fire-fst-compat","fire-js":"fire-js",[lN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new Map,Ul=new Map;function od(t,e){try{t.container.addComponent(e)}catch(n){ao.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function XS(t,e){t.container.addOrOverwriteComponent(e)}function rs(t){const e=t.name;if(Ul.has(e))return ao.debug(`There were multiple attempts to register component ${e}.`),!1;Ul.set(e,t);for(const n of ns.values())od(n,t);return!0}function JS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function dN(t,e,n=ts){JS(t,e).clearInstance(n)}function hN(){Ul.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},mi=new _o("app","Firebase",fN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mN=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mi.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=uN;function dv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ts,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw mi.create("bad-app-name",{appName:String(i)});if(n||(n=zS()),!n)throw mi.create("no-options");const s=ns.get(i);if(s){if(Sm(n,s.options)&&Sm(r,s.config))return s;throw mi.create("duplicate-app",{appName:i})}const o=new bP(i);for(const l of Ul.values())o.addComponent(l);const a=new mN(n,r,o);return ns.set(i,a),a}function gN(t=ts){const e=ns.get(t);if(!e&&t===ts&&zS())return dv();if(!e)throw mi.create("no-app",{appName:t});return e}function vN(){return Array.from(ns.values())}async function ZS(t){const e=t.name;ns.has(e)&&(ns.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Wr(t,e,n){var r;let i=(r=cN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ao.warn(a.join(" "));return}rs(new Xr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function e0(t,e){if(t!==null&&typeof t!="function")throw mi.create("invalid-log-argument");EP(t,e)}function t0(t){TP(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="firebase-heartbeat-database",yN=1,jl="firebase-heartbeat-store";let Pf=null;function n0(){return Pf||(Pf=OP(pN,yN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(jl)}}}).catch(t=>{throw mi.create("idb-open",{originalErrorMessage:t.message})})),Pf}async function wN(t){try{return await(await n0()).transaction(jl).objectStore(jl).get(r0(t))}catch(e){if(e instanceof An)ao.warn(e.message);else{const n=mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ao.warn(n.message)}}}async function Sw(t,e){try{const r=(await n0()).transaction(jl,"readwrite");await r.objectStore(jl).put(e,r0(t)),await r.done}catch(n){if(n instanceof An)ao.warn(n.message);else{const r=mi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ao.warn(r.message)}}}function r0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=1024,IN=30*24*60*60*1e3;class _N{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Tw();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=IN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Tw(),{heartbeatsToSend:n,unsentEntries:r}=SN(this._heartbeatsCache.heartbeats),i=id(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Tw(){return new Date().toISOString().substring(0,10)}function SN(t,e=bN){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Ew(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ew(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class TN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $l()?cP().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await wN(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Sw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Sw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ew(t){return id(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(t){rs(new Xr("platform-logger",e=>new LP(e),"PRIVATE")),rs(new Xr("heartbeat",e=>new _N(e),"PRIVATE")),Wr(Cm,_w,t),Wr(Cm,_w,"esm2017"),Wr("fire-js","")}EN("");const CN=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:An,SDK_VERSION:bs,_DEFAULT_ENTRY_NAME:ts,_addComponent:od,_addOrOverwriteComponent:XS,_apps:ns,_clearComponents:hN,_components:Ul,_getProvider:JS,_registerComponent:rs,_removeServiceInstance:dN,deleteApp:ZS,getApp:gN,getApps:vN,initializeApp:dv,onLog:e0,registerVersion:Wr,setLogLevel:t0},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n){this._delegate=e,this.firebase=n,od(e,new Xr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),ZS(this._delegate)))}_getService(e,n=ts){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=ts){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){od(this._delegate,e)}_addOrOverwriteComponent(e){XS(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Cw=new _o("app-compat","Firebase",AN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Wr,setLogLevel:t0,onLog:e0,apps:null,SDK_VERSION:bs,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:CN}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||ts,!pw(e,u))throw Cw.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,c={}){const d=dv(u,c);if(pw(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const c=u.name,d=c.replace("-compat","");if(rs(u)&&u.type==="PUBLIC"){const h=(f=i())=>{if(typeof f[d]!="function")throw Cw.create("invalid-app-argument",{appName:c});return f[d]()};u.serviceProps!==void 0&&sd(h,u.serviceProps),n[d]=h,t.prototype[d]=function(...f){return this._getService.bind(this,c).apply(this,u.multipleInstances?f:[])}}return u.type==="PUBLIC"?n[d]:null}function l(u,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(){const t=xN(kN);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:i0,extendNamespace:e,createSubscribe:GS,ErrorFactory:_o,deepExtend:sd});function e(n){sd(t,n)}return t}const DN=i0();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=new rh("@firebase/app-compat"),PN="@firebase/app-compat",NN="0.2.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(t){Wr(PN,NN,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(lP()&&self.firebase!==void 0){kw.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&kw.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Qn=DN;RN();var ON="firebase",MN="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qn.registerVersion(ON,MN,"app-compat");var VN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ae,hv=hv||{},Oe=VN||self;function ih(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function sh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function LN(t,e,n){return t.call.apply(t.bind,arguments)}function FN(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function wn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?wn=LN:wn=FN,wn.apply(null,arguments)}function mc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Qt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Is(){this.s=this.s,this.o=this.o}var BN=0;Is.prototype.s=!1;Is.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),BN!=0)};Is.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const s0=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function fv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Aw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ih(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function bn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}bn.prototype.h=function(){this.defaultPrevented=!0};var $N=function(){if(!Oe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Oe.addEventListener("test",()=>{},e),Oe.removeEventListener("test",()=>{},e)}catch{}return t}();function ql(t){return/^[\s\xa0]*$/.test(t)}function oh(){var t=Oe.navigator;return t&&(t=t.userAgent)?t:""}function Or(t){return oh().indexOf(t)!=-1}function mv(t){return mv[" "](t),t}mv[" "]=function(){};function UN(t,e){var n=OR;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var jN=Or("Opera"),oa=Or("Trident")||Or("MSIE"),o0=Or("Edge"),km=o0||oa,a0=Or("Gecko")&&!(oh().toLowerCase().indexOf("webkit")!=-1&&!Or("Edge"))&&!(Or("Trident")||Or("MSIE"))&&!Or("Edge"),qN=oh().toLowerCase().indexOf("webkit")!=-1&&!Or("Edge");function l0(){var t=Oe.document;return t?t.documentMode:void 0}var Am;e:{var Nf="",Rf=function(){var t=oh();if(a0)return/rv:([^\);]+)(\)|;)/.exec(t);if(o0)return/Edge\/([\d\.]+)/.exec(t);if(oa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(qN)return/WebKit\/(\S+)/.exec(t);if(jN)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Rf&&(Nf=Rf?Rf[1]:""),oa){var Of=l0();if(Of!=null&&Of>parseFloat(Nf)){Am=String(Of);break e}}Am=Nf}var xm;if(Oe.document&&oa){var xw=l0();xm=xw||parseInt(Am,10)||void 0}else xm=void 0;var zN=xm;function zl(t,e){if(bn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(a0){e:{try{mv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:HN[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&zl.$.h.call(this)}}Qt(zl,bn);var HN={2:"touch",3:"pen",4:"mouse"};zl.prototype.h=function(){zl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ah="closure_listenable_"+(1e6*Math.random()|0),WN=0;function GN(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++WN,this.fa=this.ia=!1}function lh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function gv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function KN(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function u0(t){const e={};for(const n in t)e[n]=t[n];return e}const Dw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function c0(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Dw.length;s++)n=Dw[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function uh(t){this.src=t,this.g={},this.h=0}uh.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Pm(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new GN(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Dm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=s0(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(lh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Pm(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var vv="closure_lm_"+(1e6*Math.random()|0),Mf={};function d0(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)d0(t,e[s],n,r,i);return null}return n=m0(n),t&&t[ah]?t.O(e,n,sh(r)?!!r.capture:!1,i):YN(t,e,n,!1,r,i)}function YN(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=sh(i)?!!i.capture:!!i,a=yv(t);if(a||(t[vv]=a=new uh(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=QN(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$N||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(f0(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function QN(){function t(n){return e.call(t.src,t.listener,n)}const e=XN;return t}function h0(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)h0(t,e[s],n,r,i);else r=sh(r)?!!r.capture:!!r,n=m0(n),t&&t[ah]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Pm(s,n,r,i),-1<n&&(lh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=yv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Pm(e,n,r,i)),(n=-1<t?e[t]:null)&&pv(n))}function pv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ah])Dm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(f0(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=yv(e))?(Dm(n,t),n.h==0&&(n.src=null,e[vv]=null)):lh(t)}}}function f0(t){return t in Mf?Mf[t]:Mf[t]="on"+t}function XN(t,e){if(t.fa)t=!0;else{e=new zl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&pv(t),t=n.call(r,e)}return t}function yv(t){return t=t[vv],t instanceof uh?t:null}var Vf="__closure_events_fn_"+(1e9*Math.random()>>>0);function m0(t){return typeof t=="function"?t:(t[Vf]||(t[Vf]=function(e){return t.handleEvent(e)}),t[Vf])}function Kt(){Is.call(this),this.i=new uh(this),this.S=this,this.J=null}Qt(Kt,Is);Kt.prototype[ah]=!0;Kt.prototype.removeEventListener=function(t,e,n,r){h0(this,t,e,n,r)};function sn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new bn(e,t);else if(e instanceof bn)e.target=e.target||t;else{var i=e;e=new bn(r,t),c0(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=gc(o,r,!0,e)&&i}if(o=e.g=t,i=gc(o,r,!0,e)&&i,i=gc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=gc(o,r,!1,e)&&i}Kt.prototype.N=function(){if(Kt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)lh(n[r]);delete t.g[e],t.h--}}this.J=null};Kt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Kt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function gc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Dm(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var wv=Oe.JSON.stringify;class JN{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function ZN(){var t=bv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class eR{constructor(){this.h=this.g=null}add(e,n){const r=g0.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var g0=new JN(()=>new tR,t=>t.reset());class tR{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function nR(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function rR(t){Oe.setTimeout(()=>{throw t},0)}let Hl,Wl=!1,bv=new eR,v0=()=>{const t=Oe.Promise.resolve(void 0);Hl=()=>{t.then(iR)}};var iR=()=>{for(var t;t=ZN();){try{t.h.call(t.g)}catch(n){rR(n)}var e=g0;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Wl=!1};function ch(t,e){Kt.call(this),this.h=t||1,this.g=e||Oe,this.j=wn(this.qb,this),this.l=Date.now()}Qt(ch,Kt);ae=ch.prototype;ae.ga=!1;ae.T=null;ae.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),sn(this,"tick"),this.ga&&(Iv(this),this.start()))}};ae.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Iv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ae.N=function(){ch.$.N.call(this),Iv(this),delete this.g};function _v(t,e,n){if(typeof t=="function")n&&(t=wn(t,n));else if(t&&typeof t.handleEvent=="function")t=wn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Oe.setTimeout(t,e||0)}function p0(t){t.g=_v(()=>{t.g=null,t.i&&(t.i=!1,p0(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class sR extends Is{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:p0(this)}N(){super.N(),this.g&&(Oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gl(t){Is.call(this),this.h=t,this.g={}}Qt(Gl,Is);var Pw=[];function y0(t,e,n,r){Array.isArray(n)||(n&&(Pw[0]=n.toString()),n=Pw);for(var i=0;i<n.length;i++){var s=d0(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function w0(t){gv(t.g,function(e,n){this.g.hasOwnProperty(n)&&pv(e)},t),t.g={}}Gl.prototype.N=function(){Gl.$.N.call(this),w0(this)};Gl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function dh(){this.g=!0}dh.prototype.Ea=function(){this.g=!1};function oR(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function aR(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function qo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+uR(t,n)+(r?" "+r:"")})}function lR(t,e){t.info(function(){return"TIMEOUT: "+e})}dh.prototype.info=function(){};function uR(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return wv(n)}catch{return e}}var So={},Nw=null;function hh(){return Nw=Nw||new Kt}So.Ta="serverreachability";function b0(t){bn.call(this,So.Ta,t)}Qt(b0,bn);function Kl(t){const e=hh();sn(e,new b0(e))}So.STAT_EVENT="statevent";function I0(t,e){bn.call(this,So.STAT_EVENT,t),this.stat=e}Qt(I0,bn);function kn(t){const e=hh();sn(e,new I0(e,t))}So.Ua="timingevent";function _0(t,e){bn.call(this,So.Ua,t),this.size=e}Qt(_0,bn);function Du(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Oe.setTimeout(function(){t()},e)}var fh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},S0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Sv(){}Sv.prototype.h=null;function Rw(t){return t.h||(t.h=t.i())}function T0(){}var Pu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Tv(){bn.call(this,"d")}Qt(Tv,bn);function Ev(){bn.call(this,"c")}Qt(Ev,bn);var Nm;function mh(){}Qt(mh,Sv);mh.prototype.g=function(){return new XMLHttpRequest};mh.prototype.i=function(){return{}};Nm=new mh;function Nu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Gl(this),this.P=cR,t=km?125:void 0,this.V=new ch(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new E0}function E0(){this.i=null,this.g="",this.h=!1}var cR=45e3,Rm={},ad={};ae=Nu.prototype;ae.setTimeout=function(t){this.P=t};function Om(t,e,n){t.L=1,t.v=vh(Ii(e)),t.s=n,t.S=!0,C0(t,null)}function C0(t,e){t.G=Date.now(),Ru(t),t.A=Ii(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),O0(n.i,"t",r),t.C=0,n=t.l.J,t.h=new E0,t.g=tT(t.l,n?e:null,!t.s),0<t.O&&(t.M=new sR(wn(t.Pa,t,t.g),t.O)),y0(t.U,t.g,"readystatechange",t.nb),e=t.I?u0(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Kl(),oR(t.j,t.u,t.A,t.m,t.W,t.s)}ae.nb=function(t){t=t.target;const e=this.M;e&&Br(t)==3?e.l():this.Pa(t)};ae.Pa=function(t){try{if(t==this.g)e:{const c=Br(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||km||this.g&&(this.h.h||this.g.ja()||Lw(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Kl(3):Kl(2)),gh(this);var n=this.g.da();this.ca=n;t:if(k0(this)){var r=Lw(this.g);t="";var i=r.length,s=Br(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hs(this),Il(this);var o="";break t}this.h.i=new Oe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,aR(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ql(a)){var u=a;break t}}u=null}if(n=u)qo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mm(this,n);else{this.i=!1,this.o=3,kn(12),Hs(this),Il(this);break e}}this.S?(A0(this,c,o),km&&this.i&&c==3&&(y0(this.U,this.V,"tick",this.mb),this.V.start())):(qo(this.j,this.m,o,null),Mm(this,o)),c==4&&Hs(this),this.i&&!this.J&&(c==4?X0(this.l,this):(this.i=!1,Ru(this)))}else PR(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,kn(12)):(this.o=0,kn(13)),Hs(this),Il(this)}}}catch{}finally{}};function k0(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function A0(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=dR(t,n),i==ad){e==4&&(t.o=4,kn(14),r=!1),qo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Rm){t.o=4,kn(15),qo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else qo(t.j,t.m,i,null),Mm(t,i);k0(t)&&i!=ad&&i!=Rm&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,kn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Pv(e),e.M=!0,kn(11))):(qo(t.j,t.m,n,"[Invalid Chunked Response]"),Hs(t),Il(t))}ae.mb=function(){if(this.g){var t=Br(this.g),e=this.g.ja();this.C<e.length&&(gh(this),A0(this,t,e),this.i&&t!=4&&Ru(this))}};function dR(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?ad:(n=Number(e.substring(n,r)),isNaN(n)?Rm:(r+=1,r+n>e.length?ad:(e=e.slice(r,r+n),t.C=r+n,e)))}ae.cancel=function(){this.J=!0,Hs(this)};function Ru(t){t.Y=Date.now()+t.P,x0(t,t.P)}function x0(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Du(wn(t.lb,t),e)}function gh(t){t.B&&(Oe.clearTimeout(t.B),t.B=null)}ae.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(lR(this.j,this.A),this.L!=2&&(Kl(),kn(17)),Hs(this),this.o=2,Il(this)):x0(this,this.Y-t)};function Il(t){t.l.H==0||t.J||X0(t.l,t)}function Hs(t){gh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Iv(t.V),w0(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Mm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Vm(n.i,t))){if(!t.K&&Vm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)cd(n),wh(n);else break e;Dv(n),kn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Du(wn(n.ib,n),6e3));if(1>=L0(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ws(n,11)}else if((t.K||n.g==t)&&cd(n),!ql(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Cv(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,ht(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=eT(r,r.J?r.pa:null,r.Y),o.K){F0(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(gh(a),Ru(a)),r.g=o}else Y0(r);0<n.j.length&&bh(n)}else u[0]!="stop"&&u[0]!="close"||Ws(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ws(n,7):xv(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Kl(4)}catch{}}function hR(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ih(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function fR(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ih(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function D0(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ih(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=fR(t),r=hR(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var P0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mR(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Js(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Js){this.h=t.h,ld(this,t.j),this.s=t.s,this.g=t.g,ud(this,t.m),this.l=t.l;var e=t.i,n=new Yl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Ow(this,n),this.o=t.o}else t&&(e=String(t).match(P0))?(this.h=!1,ld(this,e[1]||"",!0),this.s=al(e[2]||""),this.g=al(e[3]||"",!0),ud(this,e[4]),this.l=al(e[5]||"",!0),Ow(this,e[6]||"",!0),this.o=al(e[7]||"")):(this.h=!1,this.i=new Yl(null,this.h))}Js.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ll(e,Mw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ll(e,Mw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ll(n,n.charAt(0)=="/"?pR:vR,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ll(n,wR)),t.join("")};function Ii(t){return new Js(t)}function ld(t,e,n){t.j=n?al(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ud(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ow(t,e,n){e instanceof Yl?(t.i=e,bR(t.i,t.h)):(n||(e=ll(e,yR)),t.i=new Yl(e,t.h))}function ht(t,e,n){t.i.set(e,n)}function vh(t){return ht(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function al(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ll(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,gR),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function gR(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Mw=/[#\/\?@]/g,vR=/[#\?:]/g,pR=/[#\?]/g,yR=/[#\?@]/g,wR=/#/g;function Yl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function _s(t){t.g||(t.g=new Map,t.h=0,t.i&&mR(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ae=Yl.prototype;ae.add=function(t,e){_s(this),this.i=null,t=Ea(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function N0(t,e){_s(t),e=Ea(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function R0(t,e){return _s(t),e=Ea(t,e),t.g.has(e)}ae.forEach=function(t,e){_s(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ae.ta=function(){_s(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};ae.Z=function(t){_s(this);let e=[];if(typeof t=="string")R0(this,t)&&(e=e.concat(this.g.get(Ea(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ae.set=function(t,e){return _s(this),this.i=null,t=Ea(this,t),R0(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ae.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function O0(t,e,n){N0(t,e),0<n.length&&(t.i=null,t.g.set(Ea(t,e),fv(n)),t.h+=n.length)}ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Ea(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function bR(t,e){e&&!t.j&&(_s(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(N0(this,r),O0(this,i,n))},t)),t.j=e}var IR=class{constructor(t,e){this.g=t,this.map=e}};function M0(t){this.l=t||_R,Oe.PerformanceNavigationTiming?(t=Oe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Oe.g&&Oe.g.Ka&&Oe.g.Ka()&&Oe.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var _R=10;function V0(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function L0(t){return t.h?1:t.g?t.g.size:0}function Vm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Cv(t,e){t.g?t.g.add(e):t.h=e}function F0(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}M0.prototype.cancel=function(){if(this.i=B0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function B0(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return fv(t.i)}var SR=class{stringify(t){return Oe.JSON.stringify(t,void 0)}parse(t){return Oe.JSON.parse(t,void 0)}};function TR(){this.g=new SR}function ER(t,e,n){const r=n||"";try{D0(t,function(i,s){let o=i;sh(i)&&(o=wv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function CR(t,e){const n=new dh;if(Oe.Image){const r=new Image;r.onload=mc(vc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=mc(vc,n,r,"TestLoadImage: error",!1,e),r.onabort=mc(vc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=mc(vc,n,r,"TestLoadImage: timeout",!1,e),Oe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function vc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ou(t){this.l=t.fc||null,this.j=t.ob||!1}Qt(Ou,Sv);Ou.prototype.g=function(){return new ph(this.l,this.j)};Ou.prototype.i=function(t){return function(){return t}}({});function ph(t,e){Kt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=kv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qt(ph,Kt);var kv=0;ae=ph.prototype;ae.open=function(t,e){if(this.readyState!=kv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ql(this)};ae.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Oe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mu(this)),this.readyState=kv};ae.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ql(this)),this.g&&(this.readyState=3,Ql(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Oe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$0(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function $0(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ae.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Mu(this):Ql(this),this.readyState==3&&$0(this)}};ae.Za=function(t){this.g&&(this.response=this.responseText=t,Mu(this))};ae.Ya=function(t){this.g&&(this.response=t,Mu(this))};ae.ka=function(){this.g&&Mu(this)};function Mu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ql(t)}ae.setRequestHeader=function(t,e){this.v.append(t,e)};ae.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ae.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ql(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ph.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var kR=Oe.JSON.parse;function kt(t){Kt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=U0,this.L=this.M=!1}Qt(kt,Kt);var U0="",AR=/^https?$/i,xR=["POST","PUT"];ae=kt.prototype;ae.Oa=function(t){this.M=t};ae.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Nm.g(),this.C=this.u?Rw(this.u):Rw(Nm),this.g.onreadystatechange=wn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Vw(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Oe.FormData&&t instanceof Oe.FormData,!(0<=s0(xR,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{z0(this),0<this.B&&((this.L=DR(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wn(this.ua,this)):this.A=_v(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Vw(this,s)}};function DR(t){return oa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ae.ua=function(){typeof hv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,sn(this,"timeout"),this.abort(8))};function Vw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,j0(t),yh(t)}function j0(t){t.F||(t.F=!0,sn(t,"complete"),sn(t,"error"))}ae.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,sn(this,"complete"),sn(this,"abort"),yh(this))};ae.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yh(this,!0)),kt.$.N.call(this)};ae.La=function(){this.s||(this.G||this.v||this.l?q0(this):this.kb())};ae.kb=function(){q0(this)};function q0(t){if(t.h&&typeof hv<"u"&&(!t.C[1]||Br(t)!=4||t.da()!=2)){if(t.v&&Br(t)==4)_v(t.La,0,t);else if(sn(t,"readystatechange"),Br(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(P0)[1]||null;!i&&Oe.self&&Oe.self.location&&(i=Oe.self.location.protocol.slice(0,-1)),r=!AR.test(i?i.toLowerCase():"")}n=r}if(n)sn(t,"complete"),sn(t,"success");else{t.m=6;try{var s=2<Br(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",j0(t)}}finally{yh(t)}}}}function yh(t,e){if(t.g){z0(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||sn(t,"ready");try{n.onreadystatechange=r}catch{}}}function z0(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Oe.clearTimeout(t.A),t.A=null)}ae.isActive=function(){return!!this.g};function Br(t){return t.g?t.g.readyState:0}ae.da=function(){try{return 2<Br(this)?this.g.status:-1}catch{return-1}};ae.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ae.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),kR(e)}};function Lw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case U0:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function PR(t){const e={};t=(t.g&&2<=Br(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ql(t[r]))continue;var n=nR(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}KN(e,function(r){return r.join(", ")})}ae.Ia=function(){return this.m};ae.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function H0(t){let e="";return gv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Av(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=H0(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ht(t,e,n))}function Ga(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function W0(t){this.Ga=0,this.j=[],this.l=new dh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ga("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ga("baseRetryDelayMs",5e3,t),this.hb=Ga("retryDelaySeedMs",1e4,t),this.eb=Ga("forwardChannelMaxRetries",2,t),this.xa=Ga("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new M0(t&&t.concurrentRequestLimit),this.Ja=new TR,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ae=W0.prototype;ae.ra=8;ae.H=1;function xv(t){if(G0(t),t.H==3){var e=t.W++,n=Ii(t.I);if(ht(n,"SID",t.K),ht(n,"RID",e),ht(n,"TYPE","terminate"),Vu(t,n),e=new Nu(t,t.l,e),e.L=2,e.v=vh(Ii(n)),n=!1,Oe.navigator&&Oe.navigator.sendBeacon)try{n=Oe.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Oe.Image&&(new Image().src=e.v,n=!0),n||(e.g=tT(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ru(e)}Z0(t)}function wh(t){t.g&&(Pv(t),t.g.cancel(),t.g=null)}function G0(t){wh(t),t.u&&(Oe.clearTimeout(t.u),t.u=null),cd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Oe.clearTimeout(t.m),t.m=null)}function bh(t){if(!V0(t.i)&&!t.m){t.m=!0;var e=t.Na;Hl||v0(),Wl||(Hl(),Wl=!0),bv.add(e,t),t.C=0}}function NR(t,e){return L0(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Du(wn(t.Na,t,e),J0(t,t.C)),t.C++,!0)}ae.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Nu(this,this.l,t);let s=this.s;if(this.U&&(s?(s=u0(s),c0(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=K0(this,i,e),n=Ii(this.I),ht(n,"RID",t),ht(n,"CVER",22),this.F&&ht(n,"X-HTTP-Session-Id",this.F),Vu(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(H0(s)))+"&"+e:this.o&&Av(n,this.o,s)),Cv(this.i,i),this.bb&&ht(n,"TYPE","init"),this.P?(ht(n,"$req",e),ht(n,"SID","null"),i.aa=!0,Om(i,n,null)):Om(i,n,e),this.H=2}}else this.H==3&&(t?Fw(this,t):this.j.length==0||V0(this.i)||Fw(this))};function Fw(t,e){var n;e?n=e.m:n=t.W++;const r=Ii(t.I);ht(r,"SID",t.K),ht(r,"RID",n),ht(r,"AID",t.V),Vu(t,r),t.o&&t.s&&Av(r,t.o,t.s),n=new Nu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=K0(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Cv(t.i,n),Om(n,r,e)}function Vu(t,e){t.na&&gv(t.na,function(n,r){ht(e,r,n)}),t.h&&D0({},function(n,r){ht(e,r,n)})}function K0(t,e,n){n=Math.min(t.j.length,n);var r=t.h?wn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{ER(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Y0(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Hl||v0(),Wl||(Hl(),Wl=!0),bv.add(e,t),t.A=0}}function Dv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Du(wn(t.Ma,t),J0(t,t.A)),t.A++,!0)}ae.Ma=function(){if(this.u=null,Q0(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Du(wn(this.jb,this),t)}};ae.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,kn(10),wh(this),Q0(this))};function Pv(t){t.B!=null&&(Oe.clearTimeout(t.B),t.B=null)}function Q0(t){t.g=new Nu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ii(t.wa);ht(e,"RID","rpc"),ht(e,"SID",t.K),ht(e,"AID",t.V),ht(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ht(e,"TO",t.qa),ht(e,"TYPE","xmlhttp"),Vu(t,e),t.o&&t.s&&Av(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=vh(Ii(e)),n.s=null,n.S=!0,C0(n,t)}ae.ib=function(){this.v!=null&&(this.v=null,wh(this),Dv(this),kn(19))};function cd(t){t.v!=null&&(Oe.clearTimeout(t.v),t.v=null)}function X0(t,e){var n=null;if(t.g==e){cd(t),Pv(t),t.g=null;var r=2}else if(Vm(t.i,e))n=e.F,F0(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=hh(),sn(r,new _0(r,n)),bh(t)}else Y0(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&NR(t,e)||r==2&&Dv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ws(t,5);break;case 4:Ws(t,10);break;case 3:Ws(t,6);break;default:Ws(t,2)}}}function J0(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ws(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=wn(t.pb,t);n||(n=new Js("//www.google.com/images/cleardot.gif"),Oe.location&&Oe.location.protocol=="http"||ld(n,"https"),vh(n)),CR(n.toString(),r)}else kn(2);t.H=0,t.h&&t.h.za(e),Z0(t),G0(t)}ae.pb=function(t){t?(this.l.info("Successfully pinged google.com"),kn(2)):(this.l.info("Failed to ping google.com"),kn(1))};function Z0(t){if(t.H=0,t.ma=[],t.h){const e=B0(t.i);(e.length!=0||t.j.length!=0)&&(Aw(t.ma,e),Aw(t.ma,t.j),t.i.i.length=0,fv(t.j),t.j.length=0),t.h.ya()}}function eT(t,e,n){var r=n instanceof Js?Ii(n):new Js(n);if(r.g!="")e&&(r.g=e+"."+r.g),ud(r,r.m);else{var i=Oe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Js(null);r&&ld(s,r),e&&(s.g=e),i&&ud(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ht(r,n,e),ht(r,"VER",t.ra),Vu(t,r),r}function tT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new kt(new Ou({ob:!0})):new kt(t.va),e.Oa(t.J),e}ae.isActive=function(){return!!this.h&&this.h.isActive(this)};function nT(){}ae=nT.prototype;ae.Ba=function(){};ae.Aa=function(){};ae.za=function(){};ae.ya=function(){};ae.isActive=function(){return!0};ae.Va=function(){};function dd(){if(oa&&!(10<=Number(zN)))throw Error("Environmental error: no available transport.")}dd.prototype.g=function(t,e){return new Xn(t,e)};function Xn(t,e){Kt.call(this),this.g=new W0(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ql(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ql(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ca(this)}Qt(Xn,Kt);Xn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;kn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=eT(t,null,t.Y),bh(t)};Xn.prototype.close=function(){xv(this.g)};Xn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=wv(t),t=n);e.j.push(new IR(e.fb++,t)),e.H==3&&bh(e)};Xn.prototype.N=function(){this.g.h=null,delete this.j,xv(this.g),delete this.g,Xn.$.N.call(this)};function rT(t){Tv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Qt(rT,Tv);function iT(){Ev.call(this),this.status=1}Qt(iT,Ev);function Ca(t){this.g=t}Qt(Ca,nT);Ca.prototype.Ba=function(){sn(this.g,"a")};Ca.prototype.Aa=function(t){sn(this.g,new rT(t))};Ca.prototype.za=function(t){sn(this.g,new iT)};Ca.prototype.ya=function(){sn(this.g,"b")};function RR(){this.blockSize=-1}function _r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Qt(_r,RR);_r.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Lf(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}_r.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Lf(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Lf(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Lf(this,r),i=0;break}}this.h=i,this.i+=e};_r.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function it(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var OR={};function Nv(t){return-128<=t&&128>t?UN(t,function(e){return new it([e|0],0>e?-1:0)}):new it([t|0],0>t?-1:0)}function $r(t){if(isNaN(t)||!isFinite(t))return Qo;if(0>t)return tn($r(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Lm;return new it(e,0)}function sT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return tn(sT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=$r(Math.pow(e,8)),r=Qo,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=$r(Math.pow(e,s)),r=r.R(s).add($r(o))):(r=r.R(n),r=r.add($r(o)))}return r}var Lm=4294967296,Qo=Nv(0),Fm=Nv(1),Bw=Nv(16777216);ae=it.prototype;ae.ea=function(){if(sr(this))return-tn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Lm+r)*e,e*=Lm}return t};ae.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ui(this))return"0";if(sr(this))return"-"+tn(this).toString(t);for(var e=$r(Math.pow(t,6)),n=this,r="";;){var i=fd(n,e).g;n=hd(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ui(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};ae.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ui(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function sr(t){return t.h==-1}ae.X=function(t){return t=hd(this,t),sr(t)?-1:ui(t)?0:1};function tn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new it(n,~t.h).add(Fm)}ae.abs=function(){return sr(this)?tn(this):this};ae.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new it(n,n[n.length-1]&-2147483648?-1:0)};function hd(t,e){return t.add(tn(e))}ae.R=function(t){if(ui(this)||ui(t))return Qo;if(sr(this))return sr(t)?tn(this).R(tn(t)):tn(tn(this).R(t));if(sr(t))return tn(this.R(tn(t)));if(0>this.X(Bw)&&0>t.X(Bw))return $r(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,pc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,pc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,pc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,pc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new it(n,0)};function pc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ka(t,e){this.g=t,this.h=e}function fd(t,e){if(ui(e))throw Error("division by zero");if(ui(t))return new Ka(Qo,Qo);if(sr(t))return e=fd(tn(t),e),new Ka(tn(e.g),tn(e.h));if(sr(e))return e=fd(t,tn(e)),new Ka(tn(e.g),e.h);if(30<t.g.length){if(sr(t)||sr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Fm,r=e;0>=r.X(t);)n=$w(n),r=$w(r);var i=Po(n,1),s=Po(r,1);for(r=Po(r,2),n=Po(n,2);!ui(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Po(r,1),n=Po(n,1)}return e=hd(t,i.R(e)),new Ka(i,e)}for(i=Qo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=$r(n),o=s.R(e);sr(o)||0<o.X(t);)n-=r,s=$r(n),o=s.R(e);ui(s)&&(s=Fm),i=i.add(s),t=hd(t,o)}return new Ka(i,t)}ae.gb=function(t){return fd(this,t).h};ae.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new it(n,this.h&t.h)};ae.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new it(n,this.h|t.h)};ae.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new it(n,this.h^t.h)};function $w(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new it(n,t.h)}function Po(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new it(i,t.h)}dd.prototype.createWebChannel=dd.prototype.g;Xn.prototype.send=Xn.prototype.u;Xn.prototype.open=Xn.prototype.m;Xn.prototype.close=Xn.prototype.close;fh.NO_ERROR=0;fh.TIMEOUT=8;fh.HTTP_ERROR=6;S0.COMPLETE="complete";T0.EventType=Pu;Pu.OPEN="a";Pu.CLOSE="b";Pu.ERROR="c";Pu.MESSAGE="d";Kt.prototype.listen=Kt.prototype.O;kt.prototype.listenOnce=kt.prototype.P;kt.prototype.getLastError=kt.prototype.Sa;kt.prototype.getLastErrorCode=kt.prototype.Ia;kt.prototype.getStatus=kt.prototype.da;kt.prototype.getResponseJson=kt.prototype.Wa;kt.prototype.getResponseText=kt.prototype.ja;kt.prototype.send=kt.prototype.ha;kt.prototype.setWithCredentials=kt.prototype.Oa;_r.prototype.digest=_r.prototype.l;_r.prototype.reset=_r.prototype.reset;_r.prototype.update=_r.prototype.j;it.prototype.add=it.prototype.add;it.prototype.multiply=it.prototype.R;it.prototype.modulo=it.prototype.gb;it.prototype.compare=it.prototype.X;it.prototype.toNumber=it.prototype.ea;it.prototype.toString=it.prototype.toString;it.prototype.getBits=it.prototype.D;it.fromNumber=$r;it.fromString=sT;var MR=function(){return new dd},VR=function(){return hh()},Ff=fh,LR=S0,FR=So,Uw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},BR=Ou,yc=T0,$R=kt,UR=_r,Xo=it,jR={};const jw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ka="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new rh("@firebase/firestore");function Bm(){return is.logLevel}function qR(t){is.setLogLevel(t)}function W(t,...e){if(is.logLevel<=Qe.DEBUG){const n=e.map(Rv);is.debug(`Firestore (${ka}): ${t}`,...n)}}function Dt(t,...e){if(is.logLevel<=Qe.ERROR){const n=e.map(Rv);is.error(`Firestore (${ka}): ${t}`,...n)}}function Sr(t,...e){if(is.logLevel<=Qe.WARN){const n=e.map(Rv);is.warn(`Firestore (${ka}): ${t}`,...n)}}function Rv(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${ka}) INTERNAL ASSERTION FAILED: `+t;throw Dt(e),new Error(e)}function we(t,e){t||he()}function zR(t,e){t||he()}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class z extends An{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class WR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class GR{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Gt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Gt,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Gt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string"),new oT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string"),new Ht(e)}}class KR{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class YR{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new KR(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XR{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(we(typeof n.token=="string"),this.T=n.token,new QR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=JR(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ve(t,e){return t<e?-1:t>e?1:0}function aa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function lT(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new z(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new z(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new It(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ye(e)}static min(){return new ye(new It(0,0))}static max(){return new ye(new It(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Xe extends Xl{construct(e,n,r){return new Xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new z(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Xe(n)}static emptyPath(){return new Xe([])}}const ZR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends Xl{construct(e,n,r){return new Pt(e,n,r)}static isValidIdentifier(e){return ZR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new z(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new z(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new z(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new z(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(n)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Xe.fromString(e))}static fromName(e){return new ne(Xe.fromString(e).popFirst(5))}static empty(){return new ne(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Xe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function $m(t){return t.fields.find(e=>e.kind===2)}function Fs(t){return t.fields.filter(e=>e.kind!==2)}uT.UNKNOWN_ID=-1;class eO{constructor(e,n){this.fieldPath=e,this.kind=n}}class md{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new md(0,Jn.min())}}function cT(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(r===1e9?new It(n+1,0):new It(n,r));return new Jn(i,ne.empty(),e)}function dT(t){return new Jn(t.readTime,t.key,-1)}class Jn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Jn(ye.min(),ne.empty(),-1)}static max(){return new Jn(ye.max(),ne.empty(),-1)}}function Ov(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ss(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==hT)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new R((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof R?n:R.resolve(n)}catch(n){return R.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):R.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):R.reject(n)}static resolve(e){return new R((n,r)=>{n(e)})}static reject(e){return new R((n,r)=>{r(e)})}static waitFor(e){return new R((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=R.resolve(!1);for(const r of e)n=n.next(i=>i?R.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new R((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new R((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new Gt,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new _l(e,n.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=Mv(r.target.error);this.v.reject(new _l(e,i))}}static open(e,n,r,i){try{return new Ih(n,e.transaction(i,r))}catch(s){throw new _l(n,s)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(W("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new nO(n)}}class yr{constructor(e,n,r){this.name=e,this.version=n,this.V=r,yr.S(Tt())===12.2&&Dt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return W("SimpleDb","Removing database:",e),$s(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!$l())return!1;if(yr.C())return!0;const e=Tt(),n=yr.S(e),r=0<n&&n<10,i=yr.N(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=jR)===null||e===void 0?void 0:e.k)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async $(e){return this.db||(W("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new _l(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new z(M.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new z(M.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new _l(e,o))},i.onupgradeneeded=s=>{W("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.V.O(o,i.transaction,s.oldVersion,this.version).next(()=>{W("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.F&&(this.db.onversionchange=n=>this.F(n)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.$(e);const a=Ih.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.P(),u)).catch(u=>(a.abort(u),R.reject(u))).toPromise();return l.catch(()=>{}),await a.R,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(W("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class tO{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return $s(this.L.delete())}}class _l extends z{constructor(e,n){super(M.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ts(t){return t.name==="IndexedDbTransactionError"}class nO{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(W("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(W("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),$s(r)}add(e){return W("SimpleDb","ADD",this.store.name,e,e),$s(this.store.add(e))}get(e){return $s(this.store.get(e)).next(n=>(n===void 0&&(n=null),W("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return W("SimpleDb","DELETE",this.store.name,e),$s(this.store.delete(e))}count(){return W("SimpleDb","COUNT",this.store.name),$s(this.store.count())}j(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.W(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new R((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new R((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}J(e,n){W("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}X(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Z(e){const n=this.cursor({});return new R((r,i)=>{n.onerror=s=>{const o=Mv(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new R((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new tO(a),u=n(a.primaryKey,a.value,l);if(u instanceof R){const c=u.catch(d=>(l.done(),R.reject(d)));r.push(c)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>R.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function $s(t){return new R((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Mv(r.target.error);n(i)}})}let qw=!1;function Mv(t){const e=yr.S(Tt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new z("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qw||(qw=!0,setTimeout(()=>{throw r},0)),r}}return t}class rO{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}et(e){W("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{W("IndexBackiller",`Documents written: ${await this.tt.nt()}`)}catch(n){Ts(n)?W("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await Ss(n)}await this.et(6e4)})}}class iO{constructor(e,n){this.localStore=e,this.persistence=n}async nt(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.st(n,e))}st(e,n){const r=new Set;let i=n,s=!0;return R.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return W("IndexBackiller",`Processing collection: ${o}`),this.it(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}it(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.rt(i,s)).next(a=>(W("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}rt(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=dT(s);Ov(o,r)>0&&(r=o)}),new Jn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Ln.ct=-1;function Lu(t){return t==null}function Jl(t){return t===0&&1/t==-1/0}function mT(t){return typeof t=="number"&&Number.isInteger(t)&&!Jl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=zw(e)),e=sO(t.get(n),e);return zw(e)}function sO(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function zw(t){return t+""}function Ur(t){const e=t.length;if(we(e>=2),e===2)return we(t.charAt(0)===""&&t.charAt(1)===""),Xe.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&he(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:he()}s=o+2}return new Xe(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t,e){return[t,xn(e)]}function gT(t,e,n){return[t,xn(e),n]}const oO={},aO=["prefixPath","collectionGroup","readTime","documentId"],lO=["prefixPath","collectionGroup","documentId"],uO=["collectionGroup","readTime","prefixPath","documentId"],cO=["canonicalId","targetId"],dO=["targetId","path"],hO=["path","targetId"],fO=["collectionId","parent"],mO=["indexId","uid"],gO=["uid","sequenceNumber"],vO=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],pO=["indexId","uid","orderedDocumentKey"],yO=["userId","collectionPath","documentId"],wO=["userId","collectionPath","largestBatchId"],bO=["userId","collectionGroup","largestBatchId"],vT=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],IO=[...vT,"documentOverlays"],pT=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yT=pT,_O=[...yT,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um extends fT{constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function Xt(t,e){const n=oe(t);return yr.M(n.ht,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function To(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wc(this.root,e,this.comparator,!0)}}class wc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Zt.RED,this.left=i??Zt.EMPTY,this.right=s??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Zt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Zt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gw(this.data.getIterator())}getIteratorFrom(e){return new Gw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class Gw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function No(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new Fn([])}unionWith(e){let n=new gt(Pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return aa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new bT("Invalid base64 string: "+i):i}}(e);return new jt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const TO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(t){if(we(!!t),typeof t=="string"){let e=0;const n=TO.exec(t);if(we(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(t.seconds),nanos:Ct(t.nanos)}}function Ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function os(t){return typeof t=="string"?jt.fromBase64String(t):jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Vv(t){const e=t.mapValue.fields.__previous_value__;return _h(e)?Vv(e):e}function Zl(t){const e=ss(t.mapValue.fields.__local_write_time__.timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class as{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new as("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof as&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Mc={nullValue:"NULL_VALUE"};function lo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_h(t)?4:IT(t)?9007199254740991:10:he()}function Jr(t,e){if(t===e)return!0;const n=lo(t);if(n!==lo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zl(t).isEqual(Zl(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ss(r.timestampValue),o=ss(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return os(r.bytesValue).isEqual(os(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ct(r.geoPointValue.latitude)===Ct(i.geoPointValue.latitude)&&Ct(r.geoPointValue.longitude)===Ct(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ct(r.integerValue)===Ct(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ct(r.doubleValue),o=Ct(i.doubleValue);return s===o?Jl(s)===Jl(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return aa(t.arrayValue.values||[],e.arrayValue.values||[],Jr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Ww(s)!==Ww(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Jr(s[a],o[a])))return!1;return!0}(t,e);default:return he()}}function eu(t,e){return(t.values||[]).find(n=>Jr(n,e))!==void 0}function ls(t,e){if(t===e)return 0;const n=lo(t),r=lo(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ct(i.integerValue||i.doubleValue),a=Ct(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Kw(t.timestampValue,e.timestampValue);case 4:return Kw(Zl(t),Zl(e));case 5:return Ve(t.stringValue,e.stringValue);case 6:return function(i,s){const o=os(i),a=os(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Ve(o[l],a[l]);if(u!==0)return u}return Ve(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Ve(Ct(i.latitude),Ct(s.latitude));return o!==0?o:Ve(Ct(i.longitude),Ct(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=ls(o[l],a[l]);if(u)return u}return Ve(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Yi.mapValue&&s===Yi.mapValue)return 0;if(i===Yi.mapValue)return 1;if(s===Yi.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=Ve(a[c],u[c]);if(d!==0)return d;const h=ls(o[a[c]],l[u[c]]);if(h!==0)return h}return Ve(a.length,u.length)}(t.mapValue,e.mapValue);default:throw he()}}function Kw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=ss(t),r=ss(e),i=Ve(n.seconds,r.seconds);return i!==0?i:Ve(n.nanos,r.nanos)}function la(t){return jm(t)}function jm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ss(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?os(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ne.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=jm(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${jm(r.fields[a])}`;return s+"}"}(t.mapValue):he();var e,n}function uo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qm(t){return!!t&&"integerValue"in t}function tu(t){return!!t&&"arrayValue"in t}function Yw(t){return!!t&&"nullValue"in t}function Qw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vc(t){return!!t&&"mapValue"in t}function Sl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return To(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function IT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function CO(t){return"nullValue"in t?Mc:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?uo(as.empty(),ne.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:he()}function kO(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?uo(as.empty(),ne.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Yi:he()}function Xw(t,e){const n=ls(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Jw(t,e){const n=ls(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sl(n)}setAll(e){let n=Pt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Sl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Vc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Vc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){To(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new nn(Sl(this.value))}}function _T(t){const e=[];return To(t.fields,(n,r)=>{const i=new Pt([n]);if(Vc(r)){const s=_T(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ft(e,0,ye.min(),ye.min(),ye.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new ft(e,1,n,ye.min(),r,i,0)}static newNoDocument(e,n){return new ft(e,2,n,ye.min(),ye.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new ft(e,3,n,ye.min(),ye.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,n){this.position=e,this.inclusive=n}}function Zw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=ls(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function eb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n="asc"){this.field=e,this.dir=n}}function AO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{}class We extends ST{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new xO(e,n,r):n==="array-contains"?new NO(e,r):n==="in"?new xT(e,r):n==="not-in"?new RO(e,r):n==="array-contains-any"?new OO(e,r):new We(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new DO(e,r):new PO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ls(n,this.value)):n!==null&&lo(this.value)===lo(n)&&this.matchesComparison(ls(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class rt extends ST{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new rt(e,n)}matches(e){return ua(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ua(t){return t.op==="and"}function zm(t){return t.op==="or"}function Lv(t){return TT(t)&&ua(t)}function TT(t){for(const e of t.filters)if(e instanceof rt)return!1;return!0}function Hm(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+la(t.value);if(Lv(t))return t.filters.map(e=>Hm(e)).join(",");{const e=t.filters.map(n=>Hm(n)).join(",");return`${t.op}(${e})`}}function ET(t,e){return t instanceof We?function(n,r){return r instanceof We&&n.op===r.op&&n.field.isEqual(r.field)&&Jr(n.value,r.value)}(t,e):t instanceof rt?function(n,r){return r instanceof rt&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&ET(s,r.filters[o]),!0):!1}(t,e):void he()}function CT(t,e){const n=t.filters.concat(e);return rt.create(n,t.op)}function kT(t){return t instanceof We?function(e){return`${e.field.canonicalString()} ${e.op} ${la(e.value)}`}(t):t instanceof rt?function(e){return e.op.toString()+" {"+e.getFilters().map(kT).join(" ,")+"}"}(t):"Filter"}class xO extends We{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class DO extends We{constructor(e,n){super(e,"in",n),this.keys=AT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class PO extends We{constructor(e,n){super(e,"not-in",n),this.keys=AT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function AT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class NO extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tu(n)&&eu(n.arrayValue,this.value)}}class xT extends We{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eu(this.value.arrayValue,n)}}class RO extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!eu(this.value.arrayValue,n)}}class OO extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>eu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function Wm(t,e=null,n=[],r=[],i=null,s=null,o=null){return new MO(t,e,n,r,i,s,o)}function co(t){const e=oe(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Hm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Lu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>la(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>la(r)).join(",")),e.dt=n}return e.dt}function Fu(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!AO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ET(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eb(t.startAt,e.startAt)&&eb(t.endAt,e.endAt)}function gd(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function vd(t,e){return t.filters.filter(n=>n instanceof We&&n.field.isEqual(e))}function tb(t,e,n){let r=Mc,i=!0;for(const s of vd(t,e)){let o=Mc,a=!0;switch(s.op){case"<":case"<=":o=CO(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Mc}Xw({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];Xw({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function nb(t,e,n){let r=Yi,i=!0;for(const s of vd(t,e)){let o=Yi,a=!0;switch(s.op){case">=":case">":o=kO(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Yi}Jw({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];Jw({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function DT(t,e,n,r,i,s,o,a){return new Ai(t,e,n,r,i,s,o,a)}function Aa(t){return new Ai(t)}function rb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Fv(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Sh(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function Bv(t){return t.collectionGroup!==null}function Zs(t){const e=oe(t);if(e.wt===null){e.wt=[];const n=Sh(e),r=Fv(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Jo(n)),e.wt.push(new Jo(Pt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Jo(Pt.keyField(),s))}}}return e.wt}function jn(t){const e=oe(t);if(!e._t)if(e.limitType==="F")e._t=Wm(e.path,e.collectionGroup,Zs(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Zs(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Jo(s.field,o))}const r=e.endAt?new us(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new us(e.startAt.position,e.startAt.inclusive):null;e._t=Wm(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Gm(t,e){e.getFirstInequalityField(),Sh(t);const n=t.filters.concat([e]);return new Ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function pd(t,e,n){return new Ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bu(t,e){return Fu(jn(t),jn(e))&&t.limitType===e.limitType}function PT(t){return`${co(jn(t))}|lt:${t.limitType}`}function Km(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>kT(r)).join(", ")}]`),Lu(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>la(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>la(r)).join(",")),`Target(${n})`}(jn(t))}; limitType=${t.limitType})`}function $u(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ne.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Zs(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=Zw(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Zs(n),r)||n.endAt&&!function(i,s,o){const a=Zw(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Zs(n),r))}(t,e)}function NT(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RT(t){return(e,n)=>{let r=!1;for(const i of Zs(t)){const s=VO(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function VO(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?ls(a,l):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){To(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return wT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=new dt(ne.comparator);function Bn(){return LO}const OT=new dt(ne.comparator);function ul(...t){let e=OT;for(const n of t)e=e.insert(n.key,n);return e}function MT(t){let e=OT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function jr(){return Tl()}function VT(){return Tl()}function Tl(){return new Es(t=>t.toString(),(t,e)=>t.isEqual(e))}const FO=new dt(ne.comparator),BO=new gt(ne.comparator);function Le(...t){let e=BO;for(const n of t)e=e.add(n);return e}const $O=new gt(Ve);function $v(){return $O}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jl(e)?"-0":e}}function FT(t){return{integerValue:""+t}}function BT(t,e){return mT(e)?FT(e):LT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(){this._=void 0}}function UO(t,e,n){return t instanceof ca?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&_h(i)&&(i=Vv(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ho?UT(t,e):t instanceof fo?jT(t,e):function(r,i){const s=$T(r,i),o=ib(s)+ib(r.gt);return qm(s)&&qm(r.gt)?FT(o):LT(r.serializer,o)}(t,e)}function jO(t,e,n){return t instanceof ho?UT(t,e):t instanceof fo?jT(t,e):n}function $T(t,e){return t instanceof da?qm(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class ca extends Th{}class ho extends Th{constructor(e){super(),this.elements=e}}function UT(t,e){const n=qT(e);for(const r of t.elements)n.some(i=>Jr(i,r))||n.push(r);return{arrayValue:{values:n}}}class fo extends Th{constructor(e){super(),this.elements=e}}function jT(t,e){let n=qT(e);for(const r of t.elements)n=n.filter(i=>!Jr(i,r));return{arrayValue:{values:n}}}class da extends Th{constructor(e,n){super(),this.serializer=e,this.gt=n}}function ib(t){return Ct(t.integerValue||t.doubleValue)}function qT(t){return tu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n){this.field=e,this.transform=n}}function qO(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof ho&&r instanceof ho||n instanceof fo&&r instanceof fo?aa(n.elements,r.elements,Jr):n instanceof da&&r instanceof da?Jr(n.gt,r.gt):n instanceof ca&&r instanceof ca}(t.transform,e.transform)}class zO{constructor(e,n){this.version=e,this.transformResults=n}}class bt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bt}static exists(e){return new bt(void 0,e)}static updateTime(e){return new bt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Eh{}function zT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Da(t.key,bt.none()):new xa(t.key,t.data,bt.none());{const n=t.data,r=nn.empty();let i=new gt(Pt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new xi(t.key,r,new Fn(i.toArray()),bt.none())}}function HO(t,e,n){t instanceof xa?function(r,i,s){const o=r.value.clone(),a=ob(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof xi?function(r,i,s){if(!Lc(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=ob(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(HT(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function El(t,e,n,r){return t instanceof xa?function(i,s,o,a){if(!Lc(i.precondition,s))return o;const l=i.value.clone(),u=ab(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof xi?function(i,s,o,a){if(!Lc(i.precondition,s))return o;const l=ab(i.fieldTransforms,a,s),u=s.data;return u.setAll(HT(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Lc(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function WO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=$T(r.transform,i||null);s!=null&&(n===null&&(n=nn.empty()),n.set(r.field,s))}return n||null}function sb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&aa(n,r,(i,s)=>qO(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xa extends Eh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xi extends Eh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function HT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ob(t,e,n){const r=new Map;we(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,jO(o,a,n[i]))}return r}function ab(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,UO(s,o,e))}return r}class Da extends Eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Uv extends Eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&HO(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=El(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=El(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=zT(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&aa(this.mutations,e.mutations,(n,r)=>sb(n,r))&&aa(this.baseMutations,e.baseMutations,(n,r)=>sb(n,r))}}class qv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){we(e.mutations.length===r.length);let i=FO;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new qv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,Ye;function WT(t){switch(t){default:return he();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function GT(t){if(t===void 0)return Dt("GRPC error has no .code"),M.UNKNOWN;switch(t){case Lt.OK:return M.OK;case Lt.CANCELLED:return M.CANCELLED;case Lt.UNKNOWN:return M.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return M.INTERNAL;case Lt.UNAVAILABLE:return M.UNAVAILABLE;case Lt.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Lt.NOT_FOUND:return M.NOT_FOUND;case Lt.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Lt.ABORTED:return M.ABORTED;case Lt.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Lt.DATA_LOSS:return M.DATA_LOSS;default:return he()}}(Ye=Lt||(Lt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return bc}static getOrCreateInstance(){return bc===null&&(bc=new Hv),bc}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let bc=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=new Xo([4294967295,4294967295],0);function lb(t){const e=KT().encode(t),n=new UR;return n.update(e),new Uint8Array(n.digest())}function ub(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Xo([n,r],0),new Xo([i,s],0)]}class Wv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new cl(`Invalid padding: ${n}`);if(r<0)throw new cl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new cl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new cl(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Xo.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Xo.fromNumber(r)));return i.compare(KO)===1&&(i=new Xo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=lb(e),[r,i]=ub(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Wv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=lb(e),[r,i]=ub(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,qu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ju(ye.min(),i,new dt(Ve),Bn(),Le())}}class qu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qu(r,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class YT{constructor(e,n){this.targetId=e,this.Vt=n}}class QT{constructor(e,n,r=jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class cb{constructor(){this.St=0,this.Dt=hb(),this.Ct=jt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Le(),n=Le(),r=Le();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he()}}),new qu(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=hb()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class YO{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Bn(),this.zt=db(),this.Wt=new dt(Ve)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(gd(o))if(i===0){const a=new ne(o.path);this.Yt(r,a,ft.newNoDocument(a,ye.min()))}else we(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=Hv.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,d){var h,f,m,g,p,y;const w={localCacheCount:c,existenceFilterCount:d.count},T=d.unchangedNames;return T&&(w.bloomFilter={applied:u===0,hashCount:(h=T==null?void 0:T.hashCount)!==null&&h!==void 0?h:0,bitmapLength:(g=(m=(f=T==null?void 0:T.bits)===null||f===void 0?void 0:f.bitmap)===null||m===void 0?void 0:m.length)!==null&&g!==void 0?g:0,padding:(y=(p=T==null?void 0:T.bits)===null||p===void 0?void 0:p.padding)!==null&&y!==void 0?y:0}),w}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=os(s).toUint8Array()}catch(c){if(c instanceof bT)return Sr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new Wv(l,o,a)}catch(c){return Sr(c instanceof cl?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&gd(a.target)){const l=new ne(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,ft.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=Le();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new ju(e,n,this.Wt,this.jt,r);return this.jt=Bn(),this.zt=db(),this.Wt=new dt(Ve),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new cb,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new gt(Ve),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new cb),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function db(){return new dt(ne.comparator)}function hb(){return new dt(ne.comparator)}const QO={asc:"ASCENDING",desc:"DESCENDING"},XO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JO={and:"AND",or:"OR"};class ZO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ym(t,e){return t.useProto3Json||Lu(e)?e:{value:e}}function ha(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eM(t,e){return ha(t,e.toTimestamp())}function Ot(t){return we(!!t),ye.fromTimestamp(function(e){const n=ss(e);return new It(n.seconds,n.nanos)}(t))}function Gv(t,e){return function(n){return new Xe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function JT(t){const e=Xe.fromString(t);return we(aE(e)),e}function nu(t,e){return Gv(t.databaseId,e.path)}function Gr(t,e){const n=JT(e);if(n.get(1)!==t.databaseId.projectId)throw new z(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new z(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(eE(n))}function Qm(t,e){return Gv(t.databaseId,e)}function ZT(t){const e=JT(t);return e.length===4?Xe.emptyPath():eE(e)}function ru(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eE(t){return we(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function fb(t,e,n){return{name:nu(t,e),fields:n.value.mapValue.fields}}function tE(t,e,n){const r=Gr(t,e.name),i=Ot(e.updateTime),s=e.createTime?Ot(e.createTime):ye.min(),o=new nn({mapValue:{fields:e.fields}}),a=ft.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function tM(t,e){return"found"in e?function(n,r){we(!!r.found),r.found.name,r.found.updateTime;const i=Gr(n,r.found.name),s=Ot(r.found.updateTime),o=r.found.createTime?Ot(r.found.createTime):ye.min(),a=new nn({mapValue:{fields:r.found.fields}});return ft.newFoundDocument(i,s,o,a)}(t,e):"missing"in e?function(n,r){we(!!r.missing),we(!!r.readTime);const i=Gr(n,r.missing),s=Ot(r.readTime);return ft.newNoDocument(i,s)}(t,e):he()}function nM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(we(u===void 0||typeof u=="string"),jt.fromBase64String(u||"")):(we(u===void 0||u instanceof Uint8Array),jt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?M.UNKNOWN:GT(l.code);return new z(u,l.message||"")}(o);n=new QT(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gr(t,r.document.name),s=Ot(r.document.updateTime),o=r.document.createTime?Ot(r.document.createTime):ye.min(),a=new nn({mapValue:{fields:r.document.fields}}),l=ft.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Fc(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Gr(t,r.document),s=r.readTime?Ot(r.readTime):ye.min(),o=ft.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Fc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Gr(t,r.document),s=r.removedTargetIds||[];n=new Fc([],s,i,null)}else{if(!("filter"in e))return he();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new GO(i,s),a=r.targetId;n=new YT(a,o)}}return n}function iu(t,e){let n;if(e instanceof xa)n={update:fb(t,e.key,e.value)};else if(e instanceof Da)n={delete:nu(t,e.key)};else if(e instanceof xi)n={update:fb(t,e.key,e.data),updateMask:lM(e.fieldMask)};else{if(!(e instanceof Uv))return he();n={verify:nu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ca)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ho)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof fo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof da)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:eM(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:he()}(t,e.precondition)),n}function Xm(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?bt.updateTime(Ot(i.updateTime)):i.exists!==void 0?bt.exists(i.exists):bt.none()}(e.currentDocument):bt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let a=null;if("setToServerValue"in o)we(o.setToServerValue==="REQUEST_TIME"),a=new ca;else if("appendMissingElements"in o){const u=o.appendMissingElements.values||[];a=new ho(u)}else if("removeAllFromArray"in o){const u=o.removeAllFromArray.values||[];a=new fo(u)}else"increment"in o?a=new da(s,o.increment):he();const l=Pt.fromServerFormat(o.fieldPath);return new Uu(l,a)}(t,i)):[];if(e.update){e.update.name;const i=Gr(t,e.update.name),s=new nn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(a){const l=a.fieldPaths||[];return new Fn(l.map(u=>Pt.fromServerFormat(u)))}(e.updateMask);return new xi(i,s,o,n,r)}return new xa(i,s,n,r)}if(e.delete){const i=Gr(t,e.delete);return new Da(i,n)}if(e.verify){const i=Gr(t,e.verify);return new Uv(i,n)}return he()}function rM(t,e){return t&&t.length>0?(we(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Ot(r.updateTime):Ot(i);return s.isEqual(ye.min())&&(s=Ot(i)),new zO(s,r.transformResults||[])}(n,e))):[]}function nE(t,e){return{documents:[Qm(t,e.path)]}}function rE(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Qm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Qm(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return oE(rt.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Bo(c.field),direction:sM(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Ym(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function iE(t){let e=ZT(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){we(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=sE(c);return d instanceof rt&&Lv(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new Jo($o(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,Lu(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new us(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new us(h,d)}(n.endAt)),DT(e,i,o,s,a,"F",l,u)}function iM(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sE(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=$o(e.unaryFilter.field);return We.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=$o(e.unaryFilter.field);return We.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=$o(e.unaryFilter.field);return We.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=$o(e.unaryFilter.field);return We.create(s,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(e){return We.create($o(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return rt.create(e.compositeFilter.filters.map(n=>sE(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return he()}}(e.compositeFilter.op))}(t):he()}function sM(t){return QO[t]}function oM(t){return XO[t]}function aM(t){return JO[t]}function Bo(t){return{fieldPath:t.canonicalString()}}function $o(t){return Pt.fromServerFormat(t.fieldPath)}function oE(t){return t instanceof We?function(e){if(e.op==="=="){if(Qw(e.value))return{unaryFilter:{field:Bo(e.field),op:"IS_NAN"}};if(Yw(e.value))return{unaryFilter:{field:Bo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Qw(e.value))return{unaryFilter:{field:Bo(e.field),op:"IS_NOT_NAN"}};if(Yw(e.value))return{unaryFilter:{field:Bo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(e.field),op:oM(e.op),value:e.value}}}(t):t instanceof rt?function(e){const n=e.getFilters().map(r=>oE(r));return n.length===1?n[0]:{compositeFilter:{op:aM(e.op),filters:n}}}(t):he()}function lM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n,r,i,s=ye.min(),o=ye.min(),a=jt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ci(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e){this.fe=e}}function uM(t,e){let n;if(e.document)n=tE(t.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ne.fromSegments(e.noDocument.path),i=go(e.noDocument.readTime);n=ft.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return he();{const r=ne.fromSegments(e.unknownDocument.path),i=go(e.unknownDocument.version);n=ft.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new It(r[0],r[1]);return ye.fromTimestamp(i)}(e.readTime)),n}function mb(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:yd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,s){return{name:nu(i,s.key),fields:s.data.value.mapValue.fields,updateTime:ha(i,s.version.toTimestamp()),createTime:ha(i,s.createTime.toTimestamp())}}(t.fe,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:mo(e.version)};else{if(!e.isUnknownDocument())return he();r.unknownDocument={path:n.path.toArray(),version:mo(e.version)}}return r}function yd(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function mo(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function go(t){const e=new It(t.seconds,t.nanoseconds);return ye.fromTimestamp(e)}function Us(t,e){const n=(e.baseMutations||[]).map(s=>Xm(t.fe,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>Xm(t.fe,s)),i=It.fromMillis(e.localWriteTimeMs);return new jv(e.batchId,i,n,r)}function dl(t){const e=go(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?go(t.lastLimboFreeSnapshotVersion):ye.min();let r;var i;return t.query.documents!==void 0?(we((i=t.query).documents.length===1),r=jn(Aa(ZT(i.documents[0])))):r=function(s){return jn(iE(s))}(t.query),new ci(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,jt.fromBase64String(t.resumeToken))}function uE(t,e){const n=mo(e.snapshotVersion),r=mo(e.lastLimboFreeSnapshotVersion);let i;i=gd(e.target)?nE(t.fe,e.target):rE(t.fe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:co(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Kv(t){const e=iE({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?pd(e,e.limit,"L"):e}function Bf(t,e){return new zv(e.largestBatchId,Xm(t.fe,e.overlayMutation))}function gb(t,e){const n=e.path.lastSegment();return[t,xn(e.path.popLast()),n]}function vb(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:mo(r.readTime),documentKey:xn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{getBundleMetadata(e,n){return pb(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:go(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return pb(e).put({bundleId:(r=n).id,createTime:mo(Ot(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return yb(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:Kv(i.bundledQuery),readTime:go(i.readTime)};var i})}saveNamedQuery(e,n){return yb(e).put(function(r){return{name:r.name,readTime:mo(Ot(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function pb(t){return Xt(t,"bundles")}function yb(t){return Xt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){const r=n.uid||"";return new Ch(e,r)}getOverlay(e,n){return Ya(e).get(gb(this.userId,n)).next(r=>r?Bf(this.serializer,r):null)}getOverlays(e,n){const r=jr();return R.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new zv(n,o);i.push(this.we(e,a))}),R.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(xn(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Ya(e).J("collectionPathOverlayIndex",a))}),R.waitFor(s)}getOverlaysForCollection(e,n,r){const i=jr(),s=xn(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Ya(e).j("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=Bf(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=jr();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Ya(e).X({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const d=Bf(this.serializer,u);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):c.done()}).next(()=>s)}we(e,n){return Ya(e).put(function(r,i,s){const[o,a,l]=gb(i,s.mutation.key);return{userId:i,collectionPath:a,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:iu(r.fe,s.mutation)}}(this.serializer,this.userId,n))}}function Ya(t){return Xt(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Ct(e.integerValue));else if("doubleValue"in e){const r=Ct(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Jl(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),typeof r=="string"?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(os(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?IT(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):he()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),ne.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}js.Ve=new js;function dM(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function wb(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const s=dM(255&n[i]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}class hM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.De(r.value),r=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ne(r.value),r=n.next();this.ke()}Me(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=n.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=n.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const n=this.Fe(e),r=wb(n);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Le(e){const n=this.Fe(e),r=wb(n);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}De(e){const n=255&e;n===0?(this.Ue(0),this.Ue(255)):n===255?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;n===0?(this.Ge(0),this.Ge(255)):n===255?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class fM{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class mM{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Qa{constructor(){this.je=new hM,this.ze=new fM(this.je),this.We=new mM(this.je)}seed(e){this.je.seed(e)}He(e){return e===0?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new qs(this.indexId,this.documentKey,this.arrayValue,r)}}function Fi(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=bb(t.arrayValue,e.arrayValue),n!==0?n:(n=bb(t.directionalValue,e.directionalValue),n!==0?n:ne.comparator(t.documentKey,e.documentKey)))}function bb(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const r=n;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){we(e.collectionGroup===this.collectionId);const n=$m(e);if(n!==void 0&&!this.en(n))return!1;const r=Fs(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.en(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Ze!==void 0){if(!i.has(this.Ze.field.canonicalString())){const a=r[s];if(!this.nn(this.Ze,a)||!this.sn(this.Ye[o++],a))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Ye.length||!this.sn(this.Ye[o++],a))return!1}return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(t){var e,n;if(we(t instanceof We||t instanceof rt),t instanceof We){if(t instanceof xT){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>We.create(t.field,"==",s)))||[];return rt.create(i,"or")}return t}const r=t.filters.map(i=>cE(i));return rt.create(r,t.op)}function vM(t){if(t.getFilters().length===0)return[];const e=eg(cE(t));return we(dE(e)),Jm(e)||Zm(e)?[e]:e.getFilters()}function Jm(t){return t instanceof We}function Zm(t){return t instanceof rt&&Lv(t)}function dE(t){return Jm(t)||Zm(t)||function(e){if(e instanceof rt&&zm(e)){for(const n of e.getFilters())if(!Jm(n)&&!Zm(n))return!1;return!0}return!1}(t)}function eg(t){if(we(t instanceof We||t instanceof rt),t instanceof We)return t;if(t.filters.length===1)return eg(t.filters[0]);const e=t.filters.map(r=>eg(r));let n=rt.create(e,t.op);return n=wd(n),dE(n)?n:(we(n instanceof rt),we(ua(n)),we(n.filters.length>1),n.filters.reduce((r,i)=>Yv(r,i)))}function Yv(t,e){let n;return we(t instanceof We||t instanceof rt),we(e instanceof We||e instanceof rt),n=t instanceof We?e instanceof We?function(r,i){return rt.create([r,i],"and")}(t,e):Ib(t,e):e instanceof We?Ib(e,t):function(r,i){if(we(r.filters.length>0&&i.filters.length>0),ua(r)&&ua(i))return CT(r,i.getFilters());const s=zm(r)?r:i,o=zm(r)?i:r,a=s.filters.map(l=>Yv(l,o));return rt.create(a,"or")}(t,e),wd(n)}function Ib(t,e){if(ua(e))return CT(e,t.getFilters());{const n=e.filters.map(r=>Yv(t,r));return rt.create(n,"or")}}function wd(t){if(we(t instanceof We||t instanceof rt),t instanceof We)return t;const e=t.getFilters();if(e.length===1)return wd(e[0]);if(TT(t))return t;const n=e.map(i=>wd(i)),r=[];return n.forEach(i=>{i instanceof We?r.push(i):i instanceof rt&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:rt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(){this.rn=new Qv}addToCollectionParentIndex(e,n){return this.rn.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(Jn.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(Jn.min())}updateCollectionGroup(e,n,r){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}}class Qv{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gt(Xe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gt(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new Uint8Array(0);class yM{constructor(e,n){this.user=e,this.databaseId=n,this.on=new Qv,this.un=new Es(r=>co(r),(r,i)=>Fu(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const s={collectionId:r,parent:xn(i)};return _b(e).put(s)}return R.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[lT(n),""],!1,!0);return _b(e).j(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Ur(o.parent))}return r})}addFieldIndex(e,n){const r=_c(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=Ja(e);return s.next(a=>{o.put(vb(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=_c(e),i=Ja(e),s=Xa(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=Xa(e);let i=!0;const s=new Map;return R.forEach(this.cn(n),o=>this.an(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=Le();const a=[];return R.forEach(s,(l,u)=>{var c;W("IndexedDbIndexManager",`Using index ${c=l,`id=${c.indexId}|cg=${c.collectionGroup}|f=${c.fields.map(T=>`${T.fieldPath}:${T.kind}`).join(",")}`} to execute ${co(n)}`);const d=function(T,b){const I=$m(b);if(I===void 0)return null;for(const S of vd(T,I.fieldPath))switch(S.op){case"array-contains-any":return S.value.arrayValue.values||[];case"array-contains":return[S.value]}return null}(u,l),h=function(T,b){const I=new Map;for(const S of Fs(b))for(const C of vd(T,S.fieldPath))switch(C.op){case"==":case"in":I.set(S.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return I.set(S.fieldPath.canonicalString(),C.value),Array.from(I.values())}return null}(u,l),f=function(T,b){const I=[];let S=!0;for(const C of Fs(b)){const D=C.kind===0?tb(T,C.fieldPath,T.startAt):nb(T,C.fieldPath,T.startAt);I.push(D.value),S&&(S=D.inclusive)}return new us(I,S)}(u,l),m=function(T,b){const I=[];let S=!0;for(const C of Fs(b)){const D=C.kind===0?nb(T,C.fieldPath,T.endAt):tb(T,C.fieldPath,T.endAt);I.push(D.value),S&&(S=D.inclusive)}return new us(I,S)}(u,l),g=this.hn(l,u,f),p=this.hn(l,u,m),y=this.ln(l,u,h),w=this.fn(l.indexId,d,g,f.inclusive,p,m.inclusive,y);return R.forEach(w,T=>r.H(T,n.limit).next(b=>{b.forEach(I=>{const S=ne.fromSegments(I.documentKey);o.has(S)||(o=o.add(S),a.push(S))})}))}).next(()=>a)}return R.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=vM(rt.create(e.filters,"and")).map(r=>Wm(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),c=[];for(let d=0;d<l;++d){const h=n?this.dn(n[d/u]):Ic,f=this.wn(e,h,r[d%u],i),m=this._n(e,h,s[d%u],o),g=a.map(p=>this.wn(e,h,p,!0));c.push(...this.createRange(f,m,g))}return c}wn(e,n,r,i){const s=new qs(e,ne.empty(),n,r);return i?s:s.Je()}_n(e,n,r,i){const s=new qs(e,ne.empty(),n,r);return i?s.Je():s}an(e,n){const r=new gM(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.cn(n);return R.forEach(i,s=>this.an(e,s).next(o=>{o?r!==0&&o.fields.length<function(a){let l=new gt(Pt.comparator),u=!1;for(const c of a.filters)for(const d of c.getFlattenedFilters())d.field.isKeyField()||(d.op==="array-contains"||d.op==="array-contains-any"?u=!0:l=l.add(d.field));for(const c of a.orderBy)c.field.isKeyField()||(l=l.add(c.field));return l.size+(u?1:0)}(s)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}mn(e,n){const r=new Qa;for(const i of Fs(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.He(i.kind);js.Ve._e(s,o)}return r.Qe()}dn(e){const n=new Qa;return js.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const r=new Qa;return js.Ve._e(uo(this.databaseId,n),r.He(function(i){const s=Fs(i);return s.length===0?0:s[s.length-1].kind}(e))),r.Qe()}ln(e,n,r){if(r===null)return[];let i=[];i.push(new Qa);let s=0;for(const o of Fs(e)){const a=r[s++];for(const l of i)if(this.yn(n,o.fieldPath)&&tu(a))i=this.pn(i,o,a);else{const u=l.He(o.kind);js.Ve._e(a,u)}}return this.In(i)}hn(e,n,r){return this.ln(e,n,r.position)}In(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Qe();return n}pn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Qa;l.seed(a.Qe()),js.Ve._e(o,l.He(n.kind)),s.push(l)}return s}yn(e,n){return!!e.filters.find(r=>r instanceof We&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=_c(e),i=Ja(e);return(n?r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.j()).next(s=>{const o=[];return R.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(u,c){const d=c?new md(c.sequenceNumber,new Jn(go(c.readTime),new ne(Ur(c.documentKey)),c.largestBatchId)):md.empty(),h=u.fields.map(([f,m])=>new eO(Pt.fromServerFormat(f),m));return new uT(u.indexId,u.collectionGroup,h,d)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Ve(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=_c(e),s=Ja(e);return this.Tn(e).next(o=>i.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>R.forEach(a,l=>s.put(vb(l.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return R.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?R.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),R.forEach(a,l=>this.En(e,i,l).next(u=>{const c=this.An(s,l);return u.isEqual(c)?R.resolve():this.vn(e,s,l,u,c)}))))})}Rn(e,n,r,i){return Xa(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,r,i){return Xa(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,n.key),n.key.path.toArray()])}En(e,n,r){const i=Xa(e);let s=new gt(Fi);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,n)])},(o,a)=>{s=s.add(new qs(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}An(e,n){let r=new gt(Fi);const i=this.mn(n,e);if(i==null)return r;const s=$m(n);if(s!=null){const o=e.data.field(s.fieldPath);if(tu(o))for(const a of o.arrayValue.values||[])r=r.add(new qs(n.indexId,e.key,this.dn(a),i))}else r=r.add(new qs(n.indexId,e.key,Ic,i));return r}vn(e,n,r,i,s){W("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(a,l,u,c,d){const h=a.getIterator(),f=l.getIterator();let m=No(h),g=No(f);for(;m||g;){let p=!1,y=!1;if(m&&g){const w=u(m,g);w<0?y=!0:w>0&&(p=!0)}else m!=null?y=!0:p=!0;p?(c(g),g=No(f)):y?(d(m),m=No(h)):(m=No(h),g=No(f))}}(i,s,Fi,a=>{o.push(this.Rn(e,n,r,a))},a=>{o.push(this.Pn(e,n,r,a))}),R.waitFor(o)}Tn(e){let n=1;return Ja(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Fi(o,a)).filter((o,a,l)=>!a||Fi(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Fi(o,e),l=Fi(o,n);if(a===0)i[0]=e.Je();else if(a>0&&l<0)i.push(o),i.push(o.Je());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Ic,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Ic,[]];s.push(IDBKeyRange.bound(a,l))}return s}bn(e,n){return Fi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Sb)}getMinOffset(e,n){return R.mapArray(this.cn(n),r=>this.an(e,r).next(i=>i||he())).next(Sb)}}function _b(t){return Xt(t,"collectionParents")}function Xa(t){return Xt(t,"indexEntries")}function _c(t){return Xt(t,"indexConfiguration")}function Ja(t){return Xt(t,"indexState")}function Sb(t){we(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Ov(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Jn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class On{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.X({range:o},(c,d,h)=>(a++,h.delete()));s.push(l.next(()=>{we(a===1)}));const u=[];for(const c of n.mutations){const d=gT(e,c.key.path,n.batchId);s.push(i.delete(d)),u.push(c.key)}return R.waitFor(s).next(()=>u)}function bd(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw he();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(41943040,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);class kh{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,n,r,i){we(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new kh(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bi(e).X({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Uo(e),o=Bi(e);return o.add({}).next(a=>{we(typeof a=="number");const l=new jv(a,n,r,i),u=function(h,f,m){const g=m.baseMutations.map(y=>iu(h.fe,y)),p=m.mutations.map(y=>iu(h.fe,y));return{userId:f,batchId:m.batchId,localWriteTimeMs:m.localWriteTime.toMillis(),baseMutations:g,mutations:p}}(this.serializer,this.userId,l),c=[];let d=new gt((h,f)=>Ve(h.canonicalString(),f.canonicalString()));for(const h of i){const f=gT(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),c.push(o.put(u)),c.push(s.put(f,oO))}return d.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Vn[a]=l.keys()}),R.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return Bi(e).get(n).next(r=>r?(we(r.userId===this.userId),Us(this.serializer,r)):null)}Sn(e,n){return this.Vn[n]?R.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Vn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Bi(e).X({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(we(a.batchId>=r),s=Us(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Bi(e).X({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bi(e).j("userMutationsIndex",n).next(r=>r.map(i=>Us(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Oc(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Uo(e).X({range:i},(o,a,l)=>{const[u,c,d]=o,h=Ur(c);if(u===this.userId&&n.path.isEqual(h))return Bi(e).get(d).next(f=>{if(!f)throw he();we(f.userId===this.userId),s.push(Us(this.serializer,f))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(Ve);const i=[];return n.forEach(s=>{const o=Oc(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Uo(e).X({range:a},(u,c,d)=>{const[h,f,m]=u,g=Ur(f);h===this.userId&&s.path.isEqual(g)?r=r.add(m):d.done()});i.push(l)}),R.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Oc(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new gt(Ve);return Uo(e).X({range:o},(l,u,c)=>{const[d,h,f]=l,m=Ur(h);d===this.userId&&r.isPrefixOf(m)?m.length===i&&(a=a.add(f)):c.done()}).next(()=>this.Dn(e,a))}Dn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Bi(e).get(s).next(o=>{if(o===null)throw he();we(o.userId===this.userId),r.push(Us(this.serializer,o))}))}),R.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return hE(e.ht,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),R.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return R.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Uo(e).X({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Ur(s[1]);i.push(l)}else a.done()}).next(()=>{we(i.length===0)})})}containsKey(e,n){return fE(e,this.userId,n)}xn(e){return mE(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function fE(t,e,n){const r=Oc(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Uo(t).X({range:s,Y:!0},(a,l,u)=>{const[c,d,h]=a;c===e&&d===i&&(o=!0),u.done()}).next(()=>o)}function Bi(t){return Xt(t,"mutations")}function Uo(t){return Xt(t,"documentMutations")}function mE(t){return Xt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new vo(0)}static Mn(){return new vo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const r=new vo(n.highestTargetId);return n.highestTargetId=r.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>ye.fromTimestamp(new It(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.On(e,i)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(n,r),this.On(e,r))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ro(e).delete(n.targetId)).next(()=>this.$n(e)).next(r=>(we(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Ro(e).X((o,a)=>{const l=dl(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>R.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Ro(e).X((r,i)=>{const s=dl(i);n(s)})}$n(e){return Eb(e).get("targetGlobalKey").next(n=>(we(n!==null),n))}On(e,n){return Eb(e).put("targetGlobalKey",n)}Fn(e,n){return Ro(e).put(uE(this.serializer,n))}Bn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const r=co(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Ro(e).X({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=dl(a);Fu(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Gi(e);return n.forEach(o=>{const a=xn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),R.waitFor(i)}removeMatchingKeys(e,n,r){const i=Gi(e);return R.forEach(n,s=>{const o=xn(s.path);return R.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Gi(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Gi(e);let s=Le();return i.X({range:r,Y:!0},(o,a,l)=>{const u=Ur(o[1]),c=new ne(u);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=xn(n.path),i=IDBKeyRange.bound([r],[lT(r)],!1,!0);let s=0;return Gi(e).X({index:"documentTargetsIndex",Y:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}le(e,n){return Ro(e).get(n).next(r=>r?dl(r):null)}}function Ro(t){return Xt(t,"targets")}function Eb(t){return Xt(t,"targetGlobal")}function Gi(t){return Xt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb([t,e],[n,r]){const i=Ve(t,n);return i===0?Ve(e,r):i}class bM{constructor(e){this.Ln=e,this.buffer=new gt(Cb),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Cb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class IM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}Qn(e){W("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ts(n)?W("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ss(n)}await this.Qn(3e5)})}}class _M{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return R.resolve(Ln.ct);const r=new bM(n);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),R.resolve(Tb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tb):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),Bm()<=Qe.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),R.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function SM(t,e){return new _M(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,n){this.db=e,this.garbageCollector=SM(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Jn(e){let n=0;return this.Wn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(r,i)=>n(i))}addReference(e,n,r){return Sc(e,r)}removeReference(e,n,r){return Sc(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Sc(e,n)}Xn(e,n){return function(r,i){let s=!1;return mE(r).Z(o=>fE(r,o,i).next(a=>(a&&(s=!0),R.resolve(!a)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Yn(e,(o,a)=>{if(a<=n){const l=this.Xn(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ye.min()),Gi(e).delete([0,xn(o.path)])))});i.push(l)}}).next(()=>R.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Sc(e,n)}Yn(e,n){const r=Gi(e);let i,s=Ln.ct;return r.X({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==Ln.ct&&n(new ne(Ur(i)),s),s=u,i=l):s=Ln.ct}).next(()=>{s!==Ln.ct&&n(new ne(Ur(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Sc(t,e){return Gi(t).put(function(n,r){return{targetId:0,path:xn(n.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.changes=new Es(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?R.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Rs(e).put(r)}removeEntry(e,n,r){return Rs(e).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],yd(s),o[o.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Zn(e,r)))}getEntry(e,n){let r=ft.newInvalidDocument(n);return Rs(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Za(n))},(i,s)=>{r=this.ts(n,s)}).next(()=>r)}es(e,n){let r={size:0,document:ft.newInvalidDocument(n)};return Rs(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Za(n))},(i,s)=>{r={document:this.ts(n,s),size:bd(s)}}).next(()=>r)}getEntries(e,n){let r=Bn();return this.ns(e,n,(i,s)=>{const o=this.ts(i,s);r=r.insert(i,o)}).next(()=>r)}ss(e,n){let r=Bn(),i=new dt(ne.comparator);return this.ns(e,n,(s,o)=>{const a=this.ts(s,o);r=r.insert(s,a),i=i.insert(s,bd(o))}).next(()=>({documents:r,rs:i}))}ns(e,n,r){if(n.isEmpty())return R.resolve();let i=new gt(xb);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Za(i.first()),Za(i.last())),o=i.getIterator();let a=o.getNext();return Rs(e).X({index:"documentKeyIndex",range:s},(l,u,c)=>{const d=ne.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&xb(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?c.G(Za(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i){const s=n.path,o=[s.popLast().toArray(),s.lastSegment(),yd(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Rs(e).j(IDBKeyRange.bound(o,a,!0)).next(l=>{let u=Bn();for(const c of l){const d=this.ts(ne.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);d.isFoundDocument()&&($u(n,d)||i.has(d.key))&&(u=u.insert(d.key,d))}return u})}getAllFromCollectionGroup(e,n,r,i){let s=Bn();const o=Ab(n,r),a=Ab(n,Jn.max());return Rs(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,c)=>{const d=this.ts(ne.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(d.key,d),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new CM(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return kb(e).get("remoteDocumentGlobalKey").next(n=>(we(!!n),n))}Zn(e,n){return kb(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const r=uM(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ye.min())))return r}return ft.newInvalidDocument(e)}}function vE(t){return new EM(t)}class CM extends gE{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new Es(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new gt((s,o)=>Ve(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.us.get(s);if(n.push(this.os.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=mb(this.os.serializer,o);i=i.add(s.path.popLast());const u=bd(l);r+=u-a.size,n.push(this.os.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=mb(this.os.serializer,o.convertToNoDocument(ye.min()));n.push(this.os.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.os.updateMetadata(e,r)),R.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(r=>(this.us.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:r,rs:i})=>(i.forEach((s,o)=>{this.us.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function kb(t){return Xt(t,"remoteDocumentGlobal")}function Rs(t){return Xt(t,"remoteDocumentsV14")}function Za(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ab(t,e){const n=e.documentKey.path.toArray();return[t,yd(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function xb(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Ve(n[s],r[s]),i)return i;return i=Ve(n.length,r.length),i||(i=Ve(n[n.length-2],r[r.length-2]),i||Ve(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&El(r.mutation,i,Fn.empty(),It.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Le()){const i=jr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ul();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=jr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Le()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Bn();const o=Tl(),a=Tl();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof xi)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),El(c.mutation,u,c.mutation.getFieldMask(),It.now())):o.set(u.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new kM(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Tl();let i=new dt((o,a)=>o-a),s=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Fn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Le()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=VT();c.forEach(h=>{if(!s.has(h)){const f=zT(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return R.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return ne.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Bv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):R.resolve(jr());let a=-1,l=s;return o.next(u=>R.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?R.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Le())).next(c=>({batchId:a,changes:MT(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=ul();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=ul();return this.indexManager.getCollectionParents(e,i).next(o=>R.forEach(o,a=>{const l=function(u,c){return new Ai(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,ft.newInvalidDocument(u)))});let o=ul();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&El(u.mutation,l,Fn.empty(),It.now()),$u(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return R.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Ot(r.createTime)}),R.resolve()}getNamedQuery(e,n){return R.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:Kv(r.bundledQuery),readTime:Ot(r.readTime)}}(n)),R.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.overlays=new dt(ne.comparator),this.ls=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){const r=jr();return R.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),R.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),R.resolve()}getOverlaysForCollection(e,n,r){const i=jr(),s=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return R.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new dt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=jr(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=jr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return R.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new zv(n,r));let s=this.ls.get(n);s===void 0&&(s=Le(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(){this.fs=new gt(zt.ds),this.ws=new gt(zt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new zt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new zt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new ne(new Xe([])),r=new zt(n,e),i=new zt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new ne(new Xe([])),r=new zt(n,e),i=new zt(n,e+1);let s=Le();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new zt(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return ne.comparator(e.key,n.key)||Ve(e.As,n.As)}static _s(e,n){return Ve(e.As,n.As)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new gt(zt.ds)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new jv(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new zt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return R.resolve(o)}lookupMutationBatch(e,n){return R.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return R.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zt(n,0),i=new zt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),R.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(Ve);return n.forEach(i=>{const s=new zt(i,0),o=new zt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),R.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ne.isDocumentKey(s)||(s=s.child(""));const o=new zt(new ne(s),0);let a=new gt(Ve);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.As)),!0)},o),R.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){we(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return R.forEach(n.mutations,i=>{const s=new zt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new zt(n,0),i=this.Rs.firstAfterOrEqual(r);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.Ds=e,this.docs=new dt(ne.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():ft.newInvalidDocument(n))}getEntries(e,n){let r=Bn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ft.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Bn();const o=n.path,a=new ne(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Ov(dT(c),r)<=0||(i.has(c.key)||$u(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return R.resolve(s)}getAllFromCollectionGroup(e,n,r,i){he()}Cs(e,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new NM(this)}getSize(e){return R.resolve(this.size)}}class NM extends gE{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),R.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e){this.persistence=e,this.xs=new Es(n=>co(n),Fu),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Xv,this.targetCount=0,this.Ms=vo.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),R.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new vo(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.Fn(n),R.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),R.waitFor(s).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return R.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),R.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),R.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),R.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return R.resolve(r)}containsKey(e,n){return R.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n){this.$s={},this.overlays={},this.Os=new Ln(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new RM(this),this.indexManager=new pM,this.remoteDocumentCache=function(r){return new PM(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new lE(n),this.qs=new AM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new DM(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new OM(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return R.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class OM extends fT{constructor(e){super(),this.currentSequenceNumber=e}}class Ah{constructor(e){this.persistence=e,this.Qs=new Xv,this.js=null}static zs(e){return new Ah(e)}get Ws(){if(this.js)return this.js;throw he()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),R.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),R.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Ws,r=>{const i=ne.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,ye.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return R.or([()=>R.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e){this.serializer=e}O(e,n,r,i){const s=new Ih("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hw,{unique:!0}),a.createObjectStore("documentMutations")}(e),Db(e),function(a){a.createObjectStore("remoteDocuments")}(e));let o=R.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),Db(e)),o=o.next(()=>function(a){const l=a.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ye.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(a,l){return l.store("mutations").j().next(u=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hw,{unique:!0});const c=l.store("mutations"),d=u.map(h=>c.put(h));return R.waitFor(d)})}(e,s))),o=o.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Ys(s))),r<6&&i>=6&&(o=o.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(s)))),r<7&&i>=7&&(o=o.next(()=>this.Zs(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ei(s))),r<11&&i>=11&&(o=o.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(a){const l=a.createObjectStore("documentOverlays",{keyPath:yO});l.createIndex("collectionPathOverlayIndex",wO,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",bO,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(a){const l=a.createObjectStore("remoteDocumentsV14",{keyPath:aO});l.createIndex("documentKeyIndex",lO),l.createIndex("collectionGroupIndex",uO)}(e)).next(()=>this.ni(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:mO}).createIndex("sequenceNumberIndex",gO,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:vO}).createIndex("documentKeyIndex",pO,{unique:!1})}(e))),o}Xs(e){let n=0;return e.store("remoteDocuments").X((r,i)=>{n+=bd(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next(i=>R.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",o).next(a=>R.forEach(a,l=>{we(l.userId===s.userId);const u=Us(this.serializer,l);return hE(e,s.userId,u).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.X((o,a)=>{const l=new Xe(o),u=function(c){return[0,xn(c)]}(l);s.push(n.get(u).next(c=>c?R.resolve():(d=>n.put({targetId:0,path:xn(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>R.waitFor(s))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:fO});const r=n.store("collectionParents"),i=new Qv,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:xn(l)})}};return n.store("remoteDocuments").X({Y:!0},(o,a)=>{const l=new Xe(o);return s(l.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([o,a,l],u)=>{const c=Ur(a);return s(c.popLast())}))}ei(e){const n=e.store("targets");return n.X((r,i)=>{const s=dl(i),o=uE(this.serializer,s);return n.put(o)})}ni(e,n){const r=n.store("remoteDocuments"),i=[];return r.X((s,o)=>{const a=n.store("remoteDocumentsV14"),l=(u=o,u.document?new ne(Xe.fromString(u.document.name).popFirst(5)):u.noDocument?ne.fromSegments(u.noDocument.path):u.unknownDocument?ne.fromSegments(u.unknownDocument.path):he()).path.toArray();var u;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>R.waitFor(i))}si(e,n){const r=n.store("mutations"),i=vE(this.serializer),s=new yE(Ah.zs,this.serializer.fe);return r.j().next(o=>{const a=new Map;return o.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:Le();Us(this.serializer,l).keys().forEach(d=>c=c.add(d)),a.set(l.userId,c)}),R.forEach(a,(l,u)=>{const c=new Ht(u),d=Ch.de(this.serializer,c),h=s.getIndexManager(c),f=kh.de(c,this.serializer,h,s.referenceDelegate);return new pE(i,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new Um(n,Ln.ct),l).next()})})}}function Db(t){t.createObjectStore("targetDocuments",{keyPath:dO}).createIndex("documentTargetsIndex",hO,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",cO,{unique:!0}),t.createObjectStore("targetGlobal")}const $f="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Jv{constructor(e,n,r,i,s,o,a,l,u,c,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ii=s,this.window=o,this.document=a,this.ri=u,this.oi=c,this.ui=d,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=h=>Promise.resolve(),!Jv.D())throw new z(M.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new TM(this,i),this.di=n+"main",this.serializer=new lE(l),this.wi=new yr(this.di,this.ui,new MM(this.serializer)),this.Bs=new wM(this.referenceDelegate,this.serializer),this.remoteDocumentCache=vE(this.serializer),this.qs=new cM,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,c===!1&&Dt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new z(M.FAILED_PRECONDITION,$f);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Ln(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){return this.fi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Tc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if(Ts(e))return W("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return W("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return el(e).get("owner").next(n=>R.resolve(this.Ri(n)))}Pi(e){return Tc(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Xt(n,"clientMetadata");return r.j().next(i=>{const s=this.Si(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return R.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this._i)for(const n of e)this._i.removeItem(this.Di(n.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?R.resolve(!0):el(e).get("owner").next(n=>{if(n!==null&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new z(M.FAILED_PRECONDITION,$f);return!1}}return!(!this.networkEnabled||!this.inForeground)||Tc(e).j().next(r=>this.Si(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&W("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Um(e,Ln.ct);return this.Ai(n).next(()=>this.Pi(n))}),this.wi.close(),this.Mi()}Si(e,n){return e.filter(r=>this.Vi(r.updateTimeMs,n)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Tc(e).j().next(n=>this.Si(n,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return kh.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new yM(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Ch.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,r){W("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(o=this.ui)===15?_O:o===14?yT:o===13?pT:o===12?IO:o===11?vT:void he();var o;let a;return this.wi.runTransaction(e,i,s,l=>(a=new Um(l,this.Os?this.Os.next():Ln.ct),n==="readwrite-primary"?this.Ti(a).next(u=>!!u||this.Ei(a)).next(u=>{if(!u)throw Dt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new z(M.FAILED_PRECONDITION,hT);return r(a)}).next(u=>this.vi(a).next(()=>u)):this.Oi(a).next(()=>r(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Oi(e){return el(e).get("owner").next(n=>{if(n!==null&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new z(M.FAILED_PRECONDITION,$f)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return el(e).put("owner",n)}static D(){return yr.D()}Ai(e){const n=el(e);return n.get("owner").next(r=>this.Ri(r)?(W("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):R.resolve())}Vi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Dt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground=this.document.visibilityState==="visible")}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;uP()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const r=((n=this._i)===null||n===void 0?void 0:n.getItem(this.Di(e)))!==null;return W("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Dt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Dt("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function el(t){return Xt(t,"owner")}function Tc(t){return Xt(t,"clientMetadata")}function Zv(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=Le(),i=Le();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ep(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(rb(n))return R.resolve(null);let r=jn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=pd(n,null,"F"),r=jn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Le(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,o,l.readTime)?this.Ki(e,pd(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,i){return rb(n)||i.isEqual(ye.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(Bm()<=Qe.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Km(n)),this.Wi(e,o,n,cT(i,-1)))})}ji(e,n){let r=new gt(RT(e));return n.forEach((i,s)=>{$u(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return Bm()<=Qe.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",Km(n)),this.Ui.getDocumentsMatchingQuery(e,n,Jn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new dt(Ve),this.Yi=new Es(s=>co(s),Fu),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pE(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function bE(t,e,n,r){return new VM(t,e,n,r)}async function IE(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Le();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function LM(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=R.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(m=>{const g=l.docVersions.get(f);we(g!==null),m.version.compareTo(g)<0&&(c.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),u.addEntry(m)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Le();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function _E(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function FM(t,e){const n=oe(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(jt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(m,g,p){return m.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:p.addedDocuments.size+p.modifiedDocuments.size+p.removedDocuments.size>0}(h,f,c)&&a.push(n.Bs.updateTargetData(s,f))});let l=Bn(),u=Le();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(SE(s,o,e.documentUpdates).next(c=>{l=c.nr,u=c.sr})),!r.isEqual(ye.min())){const c=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return R.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ji=i,s))}function SE(t,e,n){let r=Le(),i=Le();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Bn();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ye.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):W("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:o,sr:i}})}function BM(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fa(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,R.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new ci(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function ma(t,e,n){const r=oe(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ts(o))throw o;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function Id(t,e,n){const r=oe(t);let i=ye.min(),s=Le();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=oe(a),d=c.Yi.get(u);return d!==void 0?R.resolve(c.Ji.get(d)):c.Bs.getTargetData(l,u)}(r,o,jn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:ye.min(),n?s:Le())).next(a=>(CE(r,NT(e),a),{documents:a,ir:s})))}function TE(t,e){const n=oe(t),r=oe(n.Bs),i=n.Ji.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.le(s,e).next(o=>o?o.target:null))}function EE(t,e){const n=oe(t),r=n.Xi.get(e)||ye.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Zi.getAllFromCollectionGroup(i,e,cT(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(CE(n,e,i),i))}function CE(t,e,n){let r=t.Xi.get(e)||ye.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}async function $M(t,e,n,r){const i=oe(t);let s=Le(),o=Bn();for(const u of n){const c=e.rr(u.metadata.name);u.document&&(s=s.add(c));const d=e.ur(u);d.setReadTime(e.cr(u.metadata.readTime)),o=o.insert(c,d)}const a=i.Zi.newChangeBuffer({trackRemovals:!0}),l=await fa(i,function(u){return jn(Aa(Xe.fromString(`__bundle__/docs/${u}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>SE(u,a,o).next(c=>(a.apply(u),c)).next(c=>i.Bs.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Bs.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,c.nr,c.sr)).next(()=>c.nr)))}async function UM(t,e,n=Le()){const r=await fa(t,jn(Kv(e.bundledQuery))),i=oe(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Ot(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.qs.saveNamedQuery(s,e);const a=r.withResumeToken(jt.EMPTY_BYTE_STRING,o);return i.Ji=i.Ji.insert(a.targetId,a),i.Bs.updateTargetData(s,a).next(()=>i.Bs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Bs.addMatchingKeys(s,n,r.targetId)).next(()=>i.qs.saveNamedQuery(s,e))})}function Pb(t,e){return`firestore_clients_${t}_${e}`}function Nb(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Uf(t,e){return`firestore_targets_${t}_${e}`}class _d{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static ar(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new z(i.error.code,i.error.message))),o?new _d(e,n,i.state,s):(Dt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cl{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static ar(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new z(r.error.code,r.error.message))),s?new Cl(e,r.state,i):(Dt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sd{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static ar(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=$v();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=mT(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new Sd(e,s):(Dt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class tp{constructor(e,n){this.clientId=e,this.onlineState=n}static ar(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new tp(n.clientId,n.onlineState):(Dt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class tg{constructor(){this.activeTargetIds=$v()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jf{constructor(e,n,r,i,s){this.window=e,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new dt(Ve),this.started=!1,this.yr=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=Pb(this.persistenceKey,this.wr),this.Ir=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new tg),this.Tr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vr=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this.Rr=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const r of e){if(r===this.wr)continue;const i=this.getItem(Pb(this.persistenceKey,r));if(i){const s=Sd.ar(r,i);s&&(this.gr=this.gr.insert(s.clientId,s))}}this.Pr();const n=this.storage.getItem(this.vr);if(n){const r=this.br(n);r&&this.Vr(r)}for(const r of this.yr)this.mr(r);this.yr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let n=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,n,r){this.Dr(e,n,r),this.Cr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Uf(this.persistenceKey,e));if(r){const i=Cl.ar(e,r);i&&(n=i.state)}}return this.Nr.lr(e),this.Pr(),n}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Uf(this.persistenceKey,e))}updateQueryState(e,n,r){this.kr(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return W("SharedClientState","READ",e,n),n}setItem(e,n){W("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){W("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){const n=e;if(n.storageArea===this.storage){if(W("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void Dt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Tr.test(n.key)){if(n.newValue==null){const r=this.Or(n.key);return this.Fr(r,null)}{const r=this.Br(n.key,n.newValue);if(r)return this.Fr(r.clientId,r)}}else if(this.Er.test(n.key)){if(n.newValue!==null){const r=this.Lr(n.key,n.newValue);if(r)return this.qr(r)}}else if(this.Ar.test(n.key)){if(n.newValue!==null){const r=this.Ur(n.key,n.newValue);if(r)return this.Kr(r)}}else if(n.key===this.vr){if(n.newValue!==null){const r=this.br(n.newValue);if(r)return this.Vr(r)}}else if(n.key===this.Ir){const r=function(i){let s=Ln.ct;if(i!=null)try{const o=JSON.parse(i);we(typeof o=="number"),s=o}catch(o){Dt("SharedClientState","Failed to read sequence number from WebStorage",o)}return s}(n.newValue);r!==Ln.ct&&this.sequenceNumberHandler(r)}else if(n.key===this.Rr){const r=this.Gr(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Qr(i)))}}}else this.yr.push(n)})}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,n,r){const i=new _d(this.currentUser,e,n,r),s=Nb(this.persistenceKey,this.currentUser,e);this.setItem(s,i.hr())}Cr(e){const n=Nb(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Mr(e){const n={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(n))}kr(e,n,r){const i=Uf(this.persistenceKey,e),s=new Cl(e,n,r);this.setItem(i,s.hr())}$r(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Tr.exec(e);return n?n[1]:null}Br(e,n){const r=this.Or(e);return Sd.ar(r,n)}Lr(e,n){const r=this.Er.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return _d.ar(new Ht(s),i,n)}Ur(e,n){const r=this.Ar.exec(e),i=Number(r[1]);return Cl.ar(i,n)}br(e){return tp.ar(e)}Gr(e){return JSON.parse(e)}async qr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.jr(e.batchId,e.state,e.error);W("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,n){const r=n?this.gr.insert(e,n):this.gr.remove(e),i=this.Sr(this.gr),s=this.Sr(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Wr(o,a).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let n=$v();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class kE{constructor(){this.Hr=new tg,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new tg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec=null;function qf(){return Ec===null?Ec=268435456+Math.round(2147483648*Math.random()):Ec++,"0x"+Ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class HM extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=qf(),a=this.To(e,n);W("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(u=>(W("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw Sr("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ka,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=qM[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=qf();return new Promise((o,a)=>{const l=new $R;l.setWithCredentials(!0),l.listenOnce(LR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ff.NO_ERROR:const c=l.getResponseJson();W(dn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Ff.TIMEOUT:W(dn,`RPC '${e}' ${s} timed out`),a(new z(M.DEADLINE_EXCEEDED,"Request time out"));break;case Ff.HTTP_ERROR:const d=l.getStatus();if(W(dn,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const m=function(g){const p=g.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(p)>=0?p:M.UNKNOWN}(f.status);a(new z(m,f.message))}else a(new z(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new z(M.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{W(dn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);W(dn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=qf(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=MR(),a=VR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new BR({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");W(dn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,f=!1;const m=new zM({ro:p=>{f?W(dn,`Not sending because RPC '${e}' stream ${i} is closed:`,p):(h||(W(dn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),W(dn,`RPC '${e}' stream ${i} sending:`,p),d.send(p))},oo:()=>d.close()}),g=(p,y,w)=>{p.listen(y,T=>{try{w(T)}catch(b){setTimeout(()=>{throw b},0)}})};return g(d,yc.EventType.OPEN,()=>{f||W(dn,`RPC '${e}' stream ${i} transport opened.`)}),g(d,yc.EventType.CLOSE,()=>{f||(f=!0,W(dn,`RPC '${e}' stream ${i} transport closed`),m.wo())}),g(d,yc.EventType.ERROR,p=>{f||(f=!0,Sr(dn,`RPC '${e}' stream ${i} transport errored:`,p),m.wo(new z(M.UNAVAILABLE,"The operation could not be completed")))}),g(d,yc.EventType.MESSAGE,p=>{var y;if(!f){const w=p.data[0];we(!!w);const T=w,b=T.error||((y=T[0])===null||y===void 0?void 0:y.error);if(b){W(dn,`RPC '${e}' stream ${i} received error:`,b);const I=b.status;let S=function(D){const P=Lt[D];if(P!==void 0)return GT(P)}(I),C=b.message;S===void 0&&(S=M.INTERNAL,C="Unknown error status: "+I+" with message "+b.message),f=!0,m.wo(new z(S,C)),d.close()}else W(dn,`RPC '${e}' stream ${i} received:`,w),m._o(w)}}),g(a,FR.STAT_EVENT,p=>{p.stat===Uw.PROXY?W(dn,`RPC '${e}' stream ${i} detected buffering proxy`):p.stat===Uw.NOPROXY&&W(dn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.fo()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(){return typeof window<"u"?window:null}function Bc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(t){return new ZO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new np(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Dt(n.toString()),Dt("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new z(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WM extends xE{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=nM(this.serializer,e),r=function(i){if(!("targetChange"in i))return ye.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ye.min():s.readTime?Ot(s.readTime):ye.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=ru(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=gd(a)?{documents:nE(i,a)}:{query:rE(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=XT(i,s.resumeToken);const l=Ym(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(ye.min())>0){o.readTime=ha(i,s.snapshotVersion.toTimestamp());const l=Ym(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=iM(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=ru(this.serializer),n.removeTarget=e,this.Wo(n)}}class GM extends xE{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(we(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=rM(e.writeResults,e.commitTime),r=Ot(e.commitTime);return this.listener.cu(r,n)}return we(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ru(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>iu(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new z(M.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new z(M.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(M.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class YM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Dt(n),this.mu=!1):W("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{Cs(this)&&(W("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=oe(a);l.vu.add(4),await Pa(l),l.bu.set("Unknown"),l.vu.delete(4),await Hu(l)}(this))})}),this.bu=new YM(r,i)}}async function Hu(t){if(Cs(t))for(const e of t.Ru)await e(!0)}async function Pa(t){for(const e of t.Ru)await e(!1)}function xh(t,e){const n=oe(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),sp(n)?ip(n):Ra(n).Ko()&&rp(n,e))}function su(t,e){const n=oe(t),r=Ra(n);n.Au.delete(e),r.Ko()&&DE(n,e),n.Au.size===0&&(r.Ko()?r.jo():Cs(n)&&n.bu.set("Unknown"))}function rp(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ra(t).su(e)}function DE(t,e){t.Vu.qt(e),Ra(t).iu(e)}function ip(t){t.Vu=new YO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Ra(t).start(),t.bu.gu()}function sp(t){return Cs(t)&&!Ra(t).Uo()&&t.Au.size>0}function Cs(t){return oe(t).vu.size===0}function PE(t){t.Vu=void 0}async function XM(t){t.Au.forEach((e,n)=>{rp(t,e)})}async function JM(t,e){PE(t),sp(t)?(t.bu.Iu(e),ip(t)):t.bu.set("Unknown")}async function ZM(t,e,n){if(t.bu.set("Online"),e instanceof QT&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Td(t,r)}else if(e instanceof Fc?t.Vu.Ht(e):e instanceof YT?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ye.min()))try{const r=await _E(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(l);u&&i.Au.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(jt.EMPTY_BYTE_STRING,u.snapshotVersion)),DE(i,a);const c=new ci(u.target,a,l,u.sequenceNumber);rp(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){W("RemoteStore","Failed to raise snapshot:",r),await Td(t,r)}}async function Td(t,e,n){if(!Ts(e))throw e;t.vu.add(1),await Pa(t),t.bu.set("Offline"),n||(n=()=>_E(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Hu(t)})}function NE(t,e){return e().catch(n=>Td(t,n,e))}async function Na(t){const e=oe(t),n=cs(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;eV(e);)try{const i=await BM(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,tV(e,i)}catch(i){await Td(e,i)}RE(e)&&OE(e)}function eV(t){return Cs(t)&&t.Eu.length<10}function tV(t,e){t.Eu.push(e);const n=cs(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function RE(t){return Cs(t)&&!cs(t).Uo()&&t.Eu.length>0}function OE(t){cs(t).start()}async function nV(t){cs(t).hu()}async function rV(t){const e=cs(t);for(const n of t.Eu)e.uu(n.mutations)}async function iV(t,e,n){const r=t.Eu.shift(),i=qv.from(r,e,n);await NE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Na(t)}async function sV(t,e){e&&cs(t).ou&&await async function(n,r){if(i=r.code,WT(i)&&i!==M.ABORTED){const s=n.Eu.shift();cs(n).Qo(),await NE(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Na(n)}var i}(t,e),RE(t)&&OE(t)}async function Ob(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const r=Cs(n);n.vu.add(3),await Pa(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Hu(n)}async function ng(t,e){const n=oe(t);e?(n.vu.delete(2),await Hu(n)):e||(n.vu.add(2),await Pa(n),n.bu.set("Unknown"))}function Ra(t){return t.Su||(t.Su=function(e,n,r){const i=oe(e);return i.fu(),new WM(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:XM.bind(null,t),ao:JM.bind(null,t),nu:ZM.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),sp(t)?ip(t):t.bu.set("Unknown")):(await t.Su.stop(),PE(t))})),t.Su}function cs(t){return t.Du||(t.Du=function(e,n,r){const i=oe(e);return i.fu(),new GM(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:nV.bind(null,t),ao:sV.bind(null,t),au:rV.bind(null,t),cu:iV.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Na(t)):(await t.Du.stop(),t.Eu.length>0&&(W("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Gt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new op(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Oa(t,e){if(Dt("AsyncQueue",`${e}: ${t}`),Ts(t))return new z(M.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=ul(),this.sortedSet=new dt(this.comparator)}static emptySet(e){return new Zo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Zo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(){this.Cu=new dt(ne.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):he():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ga{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ga(e,n,Zo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this.Nu=void 0,this.listeners=[]}}class aV{constructor(){this.queries=new Es(e=>PT(e),Bu),this.onlineState="Unknown",this.ku=new Set}}async function ap(t,e){const n=oe(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new oV),i)try{s.Nu=await n.onListen(r)}catch(o){const a=Oa(o,`Initialization of query '${Km(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&up(n)}async function lp(t,e){const n=oe(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function lV(t,e){const n=oe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&up(n)}function uV(t,e,n){const r=oe(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function up(t){t.ku.forEach(e=>{e.next()})}class cp{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ga(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=ga.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,n){this.Gu=e,this.byteLength=n}Qu(){return"metadata"in this.Gu}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e){this.serializer=e}rr(e){return Gr(this.serializer,e)}ur(e){return e.metadata.exists?tE(this.serializer,e.document,!1):ft.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Ot(e)}}class dV{constructor(e,n,r){this.ju=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ME(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++n;const r=Xe.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Wu(e){const n=new Map,r=new Vb(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.rr(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||Le()).add(s);n.set(o,a)}}return n}async complete(){const e=await $M(this.localStore,new Vb(this.serializer),this.documents,this.ju.id),n=this.Wu(this.documents);for(const r of this.queries)await UM(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:e}}}function ME(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e){this.key=e}}class LE{constructor(e){this.key=e}}class FE{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Le(),this.mutatedKeys=Le(),this.tc=RT(e),this.ec=new Zo(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Mb,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=$u(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let p=!1;h&&f?h.data.isEqual(f.data)?m!==g&&(r.track({type:3,doc:f}),p=!0):this.rc(h,f)||(r.track({type:2,doc:f}),p=!0,(l&&this.tc(f,l)>0||u&&this.tc(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),p=!0):h&&!f&&(r.track({type:1,doc:h}),p=!0,(l||u)&&(a=!0)),p&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((u,c)=>function(d,h){const f=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return f(d)-f(h)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new ga(this.query,e.ec,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Mb,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Le(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new LE(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new VE(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Le();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return ga.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class hV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fV{constructor(e){this.key=e,this.fc=!1}}class mV{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Es(a=>PT(a),Bu),this._c=new Map,this.mc=new Set,this.gc=new dt(ne.comparator),this.yc=new Map,this.Ic=new Xv,this.Tc={},this.Ec=new Map,this.Ac=vo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function gV(t,e){const n=gp(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await fa(n.localStore,jn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await dp(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&xh(n.remoteStore,o)}return i}async function dp(t,e,n,r,i){t.Rc=(d,h,f)=>async function(m,g,p,y){let w=g.view.sc(p);w.zi&&(w=await Id(m.localStore,g.query,!1).then(({documents:I})=>g.view.sc(I,w)));const T=y&&y.targetChanges.get(g.targetId),b=g.view.applyChanges(w,m.isPrimaryClient,T);return rg(m,g.targetId,b.cc),b.snapshot}(t,d,h,f);const s=await Id(t.localStore,e,!0),o=new FE(e,s.ir),a=o.sc(s.documents),l=qu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);rg(t,n,u.cc);const c=new hV(e,n,o);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function vV(t,e){const n=oe(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Bu(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ma(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),su(n.remoteStore,r.targetId),va(n,r.targetId)}).catch(Ss)):(va(n,r.targetId),await ma(n.localStore,r.targetId,!0))}async function pV(t,e,n){const r=vp(t);try{const i=await function(s,o){const a=oe(s),l=It.now(),u=o.reduce((h,f)=>h.add(f.key),Le());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Bn(),m=Le();return a.Zi.getEntries(h,u).next(g=>{f=g,f.forEach((p,y)=>{y.isValidDocument()||(m=m.add(p))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{c=g;const p=[];for(const y of o){const w=WO(y,c.get(y.key).overlayedDocument);w!=null&&p.push(new xi(y.key,w,_T(w.value.mapValue),bt.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,p,o)}).next(g=>{d=g;const p=g.applyToLocalDocumentSet(c,m);return a.documentOverlayCache.saveOverlays(h,g.batchId,p)})}).then(()=>({batchId:d.batchId,changes:MT(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new dt(Ve)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await Di(r,i.changes),await Na(r.remoteStore)}catch(i){const s=Oa(i,"Failed to persist write");n.reject(s)}}async function BE(t,e){const n=oe(t);try{const r=await FM(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(we(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?we(o.fc):i.removedDocuments.size>0&&(we(o.fc),o.fc=!1))}),await Di(n,r,e)}catch(r){await Ss(r)}}function Lb(t,e,n){const r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=oe(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Mu(o)&&(l=!0)}),l&&up(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yV(t,e,n){const r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new dt(ne.comparator);o=o.insert(s,ft.newNoDocument(s,ye.min()));const a=Le().add(s),l=new ju(ye.min(),new Map,new dt(Ve),o,a);await BE(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),mp(r)}else await ma(r.localStore,e,!1).then(()=>va(r,e,n)).catch(Ss)}async function wV(t,e){const n=oe(t),r=e.batch.batchId;try{const i=await LM(n.localStore,e);fp(n,r,null),hp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Di(n,i)}catch(i){await Ss(i)}}async function bV(t,e,n){const r=oe(t);try{const i=await function(s,o){const a=oe(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(we(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);fp(r,e,n),hp(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Di(r,i)}catch(i){await Ss(i)}}async function IV(t,e){const n=oe(t);Cs(n.remoteStore)||W("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(s){const o=oe(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>o.mutationQueue.getHighestUnacknowledgedBatchId(a))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Ec.get(r)||[];i.push(e),n.Ec.set(r,i)}catch(r){const i=Oa(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function hp(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function fp(t,e,n){const r=oe(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function va(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||$E(t,r)})}function $E(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(su(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),mp(t))}function rg(t,e,n){for(const r of n)r instanceof VE?(t.Ic.addReference(r.key,e),_V(t,r)):r instanceof LE?(W("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||$E(t,r.key)):he()}function _V(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(W("SyncEngine","New document in limbo: "+n),t.mc.add(r),mp(t))}function mp(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new ne(Xe.fromString(e)),r=t.Ac.next();t.yc.set(r,new fV(n)),t.gc=t.gc.insert(n,r),xh(t.remoteStore,new ci(jn(Aa(n.path)),r,"TargetPurposeLimboResolution",Ln.ct))}}async function Di(t,e,n){const r=oe(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=ep.Li(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const u=oe(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>R.forEach(l,d=>R.forEach(d.Fi,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>R.forEach(d.Bi,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!Ts(c))throw c;W("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const h=u.Ji.get(d),f=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(f);u.Ji=u.Ji.insert(d,m)}}}(r.localStore,s))}async function SV(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());const r=await IE(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new z(M.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Di(n,r.er)}}function TV(t,e){const n=oe(t),r=n.yc.get(e);if(r&&r.fc)return Le().add(r.key);{let i=Le();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}async function EV(t,e){const n=oe(t),r=await Id(n.localStore,e.query,!0),i=e.view.hc(r);return n.isPrimaryClient&&rg(n,e.targetId,i.cc),i}async function CV(t,e){const n=oe(t);return EE(n.localStore,e).then(r=>Di(n,r))}async function kV(t,e,n,r){const i=oe(t),s=await function(o,a){const l=oe(o),u=oe(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",c=>u.Sn(c,a).next(d=>d?l.localDocuments.getDocuments(c,d):R.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await Na(i.remoteStore):n==="acknowledged"||n==="rejected"?(fp(i,e,r||null),hp(i,e),function(o,a){oe(oe(o).mutationQueue).Cn(a)}(i.localStore,e)):he(),await Di(i,s)):W("SyncEngine","Cannot apply mutation batch with id: "+e)}async function AV(t,e){const n=oe(t);if(gp(n),vp(n),e===!0&&n.vc!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await Fb(n,r.toArray());n.vc=!0,await ng(n.remoteStore,!0);for(const s of i)xh(n.remoteStore,s)}else if(e===!1&&n.vc!==!1){const r=[];let i=Promise.resolve();n._c.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(va(n,o),ma(n.localStore,o,!0))),su(n.remoteStore,o)}),await i,await Fb(n,r),function(s){const o=oe(s);o.yc.forEach((a,l)=>{su(o.remoteStore,l)}),o.Ic.Ts(),o.yc=new Map,o.gc=new dt(ne.comparator)}(n),n.vc=!1,await ng(n.remoteStore,!1)}}async function Fb(t,e,n){const r=oe(t),i=[],s=[];for(const o of e){let a;const l=r._c.get(o);if(l&&l.length!==0){a=await fa(r.localStore,jn(l[0]));for(const u of l){const c=r.wc.get(u),d=await EV(r,c);d.snapshot&&s.push(d.snapshot)}}else{const u=await TE(r.localStore,o);a=await fa(r.localStore,u),await dp(r,UE(u),o,!1,a.resumeToken)}i.push(a)}return r.dc.nu(s),i}function UE(t){return DT(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function xV(t){const e=oe(t);return oe(oe(e.localStore).persistence).$i()}async function DV(t,e,n,r){const i=oe(t);if(i.vc)return void W("SyncEngine","Ignoring unexpected query state notification.");const s=i._c.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await EE(i.localStore,NT(s[0])),a=ju.createSynthesizedRemoteEventForCurrentChange(e,n==="current",jt.EMPTY_BYTE_STRING);await Di(i,o,a);break}case"rejected":await ma(i.localStore,e,!0),va(i,e,r);break;default:he()}}async function PV(t,e,n){const r=gp(t);if(r.vc){for(const i of e){if(r._c.has(i)){W("SyncEngine","Adding an already active target "+i);continue}const s=await TE(r.localStore,i),o=await fa(r.localStore,s);await dp(r,UE(s),o.targetId,!1,o.resumeToken),xh(r.remoteStore,o)}for(const i of n)r._c.has(i)&&await ma(r.localStore,i,!1).then(()=>{su(r.remoteStore,i),va(r,i)}).catch(Ss)}}function gp(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yV.bind(null,e),e.dc.nu=lV.bind(null,e.eventManager),e.dc.Pc=uV.bind(null,e.eventManager),e}function vp(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bV.bind(null,e),e}function NV(t,e,n){const r=oe(t);(async function(i,s,o){try{const a=await s.getMetadata();if(await function(d,h){const f=oe(d),m=Ot(h.createTime);return f.persistence.runTransaction("hasNewerBundle","readonly",g=>f.qs.getBundleMetadata(g,h.id)).then(g=>!!g&&g.createTime.compareTo(m)>=0)}(i.localStore,a))return await s.close(),o._completeWith(function(d){return{taskState:"Success",documentsLoaded:d.totalDocuments,bytesLoaded:d.totalBytes,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}(a)),Promise.resolve(new Set);o._updateProgress(ME(a));const l=new dV(a,i.localStore,s.serializer);let u=await s.bc();for(;u;){const d=await l.zu(u);d&&o._updateProgress(d),u=await s.bc()}const c=await l.complete();return await Di(i,c.Ju,void 0),await function(d,h){const f=oe(d);return f.persistence.runTransaction("Save bundle","readwrite",m=>f.qs.saveBundleMetadata(m,h))}(i.localStore,a),o._completeWith(c.progress),Promise.resolve(c.Hu)}catch(a){return Sr("SyncEngine",`Loading bundle failed with ${a}`),o._failWith(a),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class ig{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=zu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return bE(this.persistence,new wE,e.initialUser,this.serializer)}createPersistence(e){return new yE(Ah.zs,this.serializer)}createSharedClientState(e){return new kE}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class jE extends ig{constructor(e,n,r){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await vp(this.Vc.syncEngine),await Na(this.Vc.remoteStore),await this.persistence.Ii(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return bE(this.persistence,new wE,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new IM(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new iO(n,this.persistence);return new rO(e.asyncQueue,r)}createPersistence(e){const n=Zv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new Jv(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,AE(),Bc(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new kE}}class RV extends jE{constructor(e,n){super(e,n,!1),this.Vc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Vc.syncEngine;this.sharedClientState instanceof jf&&(this.sharedClientState.syncEngine={jr:kV.bind(null,n),zr:DV.bind(null,n),Wr:PV.bind(null,n),$i:xV.bind(null,n),Qr:CV.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ii(async r=>{await AV(this.Vc.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=AE();if(!jf.D(n))throw new z(M.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Zv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new jf(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class pp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Lb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SV.bind(null,this.syncEngine),await ng(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new aV}createDatastore(e){const n=zu(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new HM(i));var i;return function(s,o,a,l){return new KM(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Lb(this.syncEngine,a,0),o=Rb.D()?new Rb:new jM,new QM(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new mV(r,i,s,o,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=oe(e);W("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Pa(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Dt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,n){this.Cc=e,this.serializer=n,this.metadata=new Gt,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}async getMetadata(){return this.metadata.promise}async bc(){return await this.getMetadata(),this.Nc()}async Nc(){const e=await this.kc();if(e===null)return null;const n=this.xc.decode(e),r=Number(n);isNaN(r)&&this.Mc(`length string (${n}) is not valid number`);const i=await this.$c(r);return new cV(JSON.parse(i),e.length+r)}Oc(){return this.buffer.findIndex(e=>e===123)}async kc(){for(;this.Oc()<0&&!await this.Fc(););if(this.buffer.length===0)return null;const e=this.Oc();e<0&&this.Mc("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $c(e){for(;this.buffer.length<e;)await this.Fc()&&this.Mc("Reached the end of bundle when more is expected.");const n=this.xc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}async Fc(){const e=await this.Cc.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new z(M.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,i){const s=oe(r),o=ru(s.serializer)+"/documents",a={documents:i.map(d=>nu(s.serializer,d))},l=await s.vo("BatchGetDocuments",o,a,i.length),u=new Map;l.forEach(d=>{const h=tM(s.serializer,d);u.set(h.key.toString(),h)});const c=[];return i.forEach(d=>{const h=u.get(d.toString());we(!!h),c.push(h)}),c}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Da(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=ne.fromPath(r);this.mutations.push(new Uv(i,this.precondition(i)))}),await async function(n,r){const i=oe(n),s=ru(i.serializer)+"/documents",o={writes:r.map(a=>iu(i.serializer,a))};await i.Io("Commit",s,o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw he();n=ye.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new z(M.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ye.min())?bt.exists(!1):bt.updateTime(n):bt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ye.min()))throw new z(M.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bt.updateTime(n)}return bt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Bc=r.maxAttempts,this.qo=new np(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No(async()=>{const e=new MV(this.datastore),n=this.qc(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Uc(i)}))}).catch(r=>{this.Uc(r)})})}qc(e){try{const n=this.updateFunction(e);return!Lu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!WT(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ht.UNAUTHENTICATED,this.clientId=aT.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{W("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(W("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new z(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Oa(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $c(t,e){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await IE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function sg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await yp(t);W("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Ob(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Ob(e.remoteStore,s)),t._onlineComponents=e}function qE(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function yp(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{await $c(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!qE(n))throw n;Sr("Error using user provided cache. Falling back to memory cache: "+n),await $c(t,new ig)}}else W("FirestoreClient","Using default OfflineComponentProvider"),await $c(t,new ig);return t._offlineComponents}async function Ph(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),await sg(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),await sg(t,new pp))),t._onlineComponents}function zE(t){return yp(t).then(e=>e.persistence)}function wp(t){return yp(t).then(e=>e.localStore)}function HE(t){return Ph(t).then(e=>e.remoteStore)}function bp(t){return Ph(t).then(e=>e.syncEngine)}function FV(t){return Ph(t).then(e=>e.datastore)}async function pa(t){const e=await Ph(t),n=e.eventManager;return n.onListen=gV.bind(null,e.syncEngine),n.onUnlisten=vV.bind(null,e.syncEngine),n}function BV(t){return t.asyncQueue.enqueue(async()=>{const e=await zE(t),n=await HE(t);return e.setNetworkEnabled(!0),function(r){const i=oe(r);return i.vu.delete(0),Hu(i)}(n)})}function $V(t){return t.asyncQueue.enqueue(async()=>{const e=await zE(t),n=await HE(t);return e.setNetworkEnabled(!1),async function(r){const i=oe(r);i.vu.add(0),await Pa(i),i.bu.set("Offline")}(n)})}function UV(t,e){const n=new Gt;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await function(a,l){const u=oe(a);return u.persistence.runTransaction("read document","readonly",c=>u.localDocuments.getDocument(c,l))}(r,i);o.isFoundDocument()?s.resolve(o):o.isNoDocument()?s.resolve(null):s.reject(new z(M.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const a=Oa(o,`Failed to get document '${i} from cache`);s.reject(a)}}(await wp(t),e,n)),n.promise}function WE(t,e,n={}){const r=new Gt;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new Dh({next:d=>{s.enqueueAndForget(()=>lp(i,c));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new z(M.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&a.source==="server"?l.reject(new z(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new cp(Aa(o.path),u,{includeMetadataChanges:!0,Ku:!0});return ap(i,c)}(await pa(t),t.asyncQueue,e,n,r)),r.promise}function jV(t,e){const n=new Gt;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await Id(r,i,!0),a=new FE(i,o.ir),l=a.sc(o.documents),u=a.applyChanges(l,!1);s.resolve(u.snapshot)}catch(o){const a=Oa(o,`Failed to execute query '${i} against cache`);s.reject(a)}}(await wp(t),e,n)),n.promise}function GE(t,e,n={}){const r=new Gt;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new Dh({next:d=>{s.enqueueAndForget(()=>lp(i,c)),d.fromCache&&a.source==="server"?l.reject(new z(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new cp(o,u,{includeMetadataChanges:!0,Ku:!0});return ap(i,c)}(await pa(t),t.asyncQueue,e,n,r)),r.promise}function qV(t,e){const n=new Dh(e);return t.asyncQueue.enqueueAndForget(async()=>function(r,i){oe(r).ku.add(i),i.next()}(await pa(t),n)),()=>{n.Dc(),t.asyncQueue.enqueueAndForget(async()=>function(r,i){oe(r).ku.delete(i)}(await pa(t),n))}}function zV(t,e,n,r){const i=function(s,o){let a;return a=typeof s=="string"?KT().encode(s):s,function(l,u){return new OV(l,u)}(function(l,u){if(l instanceof Uint8Array)return Bb(l,u);if(l instanceof ArrayBuffer)return Bb(new Uint8Array(l),u);if(l instanceof ReadableStream)return l.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),o)}(n,zu(e));t.asyncQueue.enqueueAndForget(async()=>{NV(await bp(t),i,r)})}function HV(t,e){return t.asyncQueue.enqueue(async()=>function(n,r){const i=oe(n);return i.persistence.runTransaction("Get named query","readonly",s=>i.qs.getNamedQuery(s,r))}(await wp(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(t,e,n){if(!n)throw new z(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YE(t,e,n,r){if(e===!0&&r===!0)throw new z(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ub(t){if(!ne.isDocumentKey(t))throw new z(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jb(t){if(ne.isDocumentKey(t))throw new z(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Nh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function Je(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new z(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nh(t);throw new z(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function QE(t,e){if(e<=0)throw new z(M.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new z(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new z(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new z(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new z(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class Wu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qb({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new z(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new z(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qb(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new HR;switch(n.type){case"firstParty":return new YR(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new z(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=$b.get(e);n&&(W("ComponentProvider","Removing Datastore"),$b.delete(e),n.terminate())}(this),Promise.resolve()}}function WV(t,e,n,r={}){var i;const s=(t=Je(t,Wu))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Sr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ht.MOCK_USER;else{a=oP(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new z(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ht(u)}t._authCredentials=new WR(new oT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}}class an{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new an(this.firestore,e,this._query)}}class Kr extends an{constructor(e,n,r){super(e,n,Aa(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new ne(e))}withConverter(e){return new Kr(this.firestore,e,this._path)}}function XE(t,e,...n){if(t=Ce(t),Ip("collection","path",e),t instanceof Wu){const r=Xe.fromString(e,...n);return jb(r),new Kr(t,null,r)}{if(!(t instanceof vt||t instanceof Kr))throw new z(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return jb(r),new Kr(t.firestore,null,r)}}function GV(t,e){if(t=Je(t,Wu),Ip("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new z(M.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new an(t,null,function(n){return new Ai(Xe.emptyPath(),n)}(e))}function Ed(t,e,...n){if(t=Ce(t),arguments.length===1&&(e=aT.A()),Ip("doc","path",e),t instanceof Wu){const r=Xe.fromString(e,...n);return Ub(r),new vt(t,null,new ne(r))}{if(!(t instanceof vt||t instanceof Kr))throw new z(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return Ub(r),new vt(t.firestore,t instanceof Kr?t.converter:null,new ne(r))}}function JE(t,e){return t=Ce(t),e=Ce(e),(t instanceof vt||t instanceof Kr)&&(e instanceof vt||e instanceof Kr)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function ZE(t,e){return t=Ce(t),e=Ce(e),t instanceof an&&e instanceof an&&t.firestore===e.firestore&&Bu(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new np(this,"async_queue_retry"),this.Xc=()=>{const n=Bc();n&&W("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Bc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Bc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Gt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Ts(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Dt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=op.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&he()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function og(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class YV{constructor(){this._progressObserver={},this._taskCompletionResolver=new Gt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=-1;class At extends Wu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new KV,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||eC(this),this._firestoreClient.terminate()}}function Jt(t){return t._firestoreClient||eC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function eC(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new EO(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,KE(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new LV(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function XV(t,e){nC(t=Je(t,At));const n=Jt(t);if(n._uninitializedComponentsProvider)throw new z(M.FAILED_PRECONDITION,"SDK cache is already specified.");Sr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new pp;return tC(n,i,new jE(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function JV(t){nC(t=Je(t,At));const e=Jt(t);if(e._uninitializedComponentsProvider)throw new z(M.FAILED_PRECONDITION,"SDK cache is already specified.");Sr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new pp;return tC(e,r,new RV(r,n.cacheSizeBytes))}function tC(t,e,n){const r=new Gt;return t.asyncQueue.enqueue(async()=>{try{await $c(t,n),await sg(t,e),r.resolve()}catch(i){const s=i;if(!qE(s))throw s;Sr("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function ZV(t){if(t._initialized&&!t._terminated)throw new z(M.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Gt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!yr.D())return Promise.resolve();const r=n+"main";await yr.delete(r)}(Zv(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function eL(t){return function(e){const n=new Gt;return e.asyncQueue.enqueueAndForget(async()=>IV(await bp(e),n)),n.promise}(Jt(t=Je(t,At)))}function tL(t){return BV(Jt(t=Je(t,At)))}function nL(t){return $V(Jt(t=Je(t,At)))}function rL(t,e){const n=Jt(t=Je(t,At)),r=new YV;return zV(n,t._databaseId,e,r),r}function iL(t,e){return HV(Jt(t=Je(t,At)),e).then(n=>n?new an(t,null,n.query):null)}function nC(t){if(t._initialized||t._terminated)throw new z(M.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zr(jt.fromBase64String(e))}catch(n){throw new z(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zr(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new z(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new z(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new z(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=/^__.*__$/;class oL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xi(e,this.data,this.fieldMask,n,this.fieldTransforms):new xa(e,this.data,n,this.fieldTransforms)}}class rC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new xi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class Oh{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Oh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Cd(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(iC(this.ca)&&sL.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class aL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zu(e)}ya(e,n,r,i=!1){return new Oh({ca:e,methodName:n,ga:r,path:Pt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Co(t){const e=t._freezeSettings(),n=zu(t._databaseId);return new aL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Mh(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);Ep("Data must be an object, but it was:",o,r);const a=aC(r,o);let l,u;if(s.merge)l=new Fn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=ag(e,d,n);if(!o.contains(h))throw new z(M.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);uC(c,h)||c.push(h)}l=new Fn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new oL(new nn(a),l,u)}class Gu extends Eo{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gu}}function sC(t,e,n){return new Oh({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class _p extends Eo{_toFieldTransform(e){return new Uu(e.path,new ca)}isEqual(e){return e instanceof _p}}class lL extends Eo{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=sC(this,e,!0),r=this.pa.map(s=>ko(s,n)),i=new ho(r);return new Uu(e.path,i)}isEqual(e){return this===e}}class uL extends Eo{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=sC(this,e,!0),r=this.pa.map(s=>ko(s,n)),i=new fo(r);return new Uu(e.path,i)}isEqual(e){return this===e}}class cL extends Eo{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new da(e.serializer,BT(e.serializer,this.Ia));return new Uu(e.path,n)}isEqual(e){return this===e}}function Sp(t,e,n,r){const i=t.ya(1,e,n);Ep("Data must be an object, but it was:",i,r);const s=[],o=nn.empty();To(r,(l,u)=>{const c=Cp(e,l,n);u=Ce(u);const d=i.da(c);if(u instanceof Gu)s.push(c);else{const h=ko(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new Fn(s);return new rC(o,a,i.fieldTransforms)}function Tp(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[ag(e,r,n)],l=[i];if(s.length%2!=0)throw new z(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(ag(e,s[h])),l.push(s[h+1]);const u=[],c=nn.empty();for(let h=a.length-1;h>=0;--h)if(!uC(u,a[h])){const f=a[h];let m=l[h];m=Ce(m);const g=o.da(f);if(m instanceof Gu)u.push(f);else{const p=ko(m,g);p!=null&&(u.push(f),c.set(f,p))}}const d=new Fn(u);return new rC(c,d,o.fieldTransforms)}function oC(t,e,n,r=!1){return ko(n,t.ya(r?4:3,e))}function ko(t,e){if(lC(t=Ce(t)))return Ep("Unsupported field value:",e,t),aC(t,e);if(t instanceof Eo)return function(n,r){if(!iC(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=ko(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Ce(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return BT(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=It.fromDate(n);return{timestampValue:ha(r.serializer,i)}}if(n instanceof It){const i=new It(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ha(r.serializer,i)}}if(n instanceof Rh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Zr)return{bytesValue:XT(r.serializer,n._byteString)};if(n instanceof vt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Gv(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Nh(n)}`)}(t,e)}function aC(t,e){const n={};return wT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):To(t,(r,i)=>{const s=ko(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function lC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof It||t instanceof Rh||t instanceof Zr||t instanceof vt||t instanceof Eo)}function Ep(t,e,n){if(!lC(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Nh(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function ag(t,e,n){if((e=Ce(e))instanceof ds)return e._internalPath;if(typeof e=="string")return Cp(t,e);throw Cd("Field path arguments must be of type string or ",t,!1,void 0,n)}const dL=new RegExp("[~\\*/\\[\\]]");function Cp(t,e,n){if(e.search(dL)>=0)throw Cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ds(...e.split("."))._internalPath}catch{throw Cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new z(M.INVALID_ARGUMENT,a+t+l)}function uC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hL extends ou{data(){return super.data()}}function Vh(t,e){return typeof e=="string"?Cp(t,e):e instanceof ds?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new z(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kp{}class Ku extends kp{}function $i(t,e,...n){let r=[];e instanceof kp&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Ap).length,o=i.filter(a=>a instanceof Lh).length;if(s>1||s>0&&o>0)throw new z(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Lh extends Ku{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Lh(e,n,r)}_apply(e){const n=this._parse(e);return hC(e._query,n),new an(e.firestore,e.converter,Gm(e._query,n))}_parse(e){const n=Co(e.firestore);return function(i,s,o,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new z(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Hb(c,u);const h=[];for(const f of c)h.push(zb(a,i,f));d={arrayValue:{values:h}}}else d=zb(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Hb(c,u),d=oC(o,s,c,u==="in"||u==="not-in");return We.create(l,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function fL(t,e,n){const r=e,i=Vh("where",t);return Lh._create(i,r,n)}class Ap extends kp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ap(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:rt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)hC(s,a),s=Gm(s,a)}(e._query,n),new an(e.firestore,e.converter,Gm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xp extends Ku{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new xp(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new z(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new z(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Jo(i,s);return function(a,l){if(Fv(a)===null){const u=Sh(a);u!==null&&fC(a,u,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new an(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Ai(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function mL(t,e="asc"){const n=e,r=Vh("orderBy",t);return xp._create(r,n)}class Fh extends Ku{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Fh(e,n,r)}_apply(e){return new an(e.firestore,e.converter,pd(e._query,this._limit,this._limitType))}}function gL(t){return QE("limit",t),Fh._create("limit",t,"F")}function vL(t){return QE("limitToLast",t),Fh._create("limitToLast",t,"L")}class Bh extends Ku{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Bh(e,n,r)}_apply(e){const n=dC(e,this.type,this._docOrFields,this._inclusive);return new an(e.firestore,e.converter,function(r,i){return new Ai(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}}function pL(...t){return Bh._create("startAt",t,!0)}function yL(...t){return Bh._create("startAfter",t,!1)}class $h extends Ku{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new $h(e,n,r)}_apply(e){const n=dC(e,this.type,this._docOrFields,this._inclusive);return new an(e.firestore,e.converter,function(r,i){return new Ai(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)}(e._query,n))}}function wL(...t){return $h._create("endBefore",t,!1)}function bL(...t){return $h._create("endAt",t,!0)}function dC(t,e,n,r){if(n[0]=Ce(n[0]),n[0]instanceof ou)return function(i,s,o,a,l){if(!a)throw new z(M.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const c of Zs(i))if(c.field.isKeyField())u.push(uo(s,a.key));else{const d=a.data.field(c.field);if(_h(d))throw new z(M.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const h=c.field.canonicalString();throw new z(M.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}u.push(d)}return new us(u,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Co(t.firestore);return function(s,o,a,l,u,c){const d=s.explicitOrderBy;if(u.length>d.length)throw new z(M.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const h=[];for(let f=0;f<u.length;f++){const m=u[f];if(d[f].field.isKeyField()){if(typeof m!="string")throw new z(M.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof m}`);if(!Bv(s)&&m.indexOf("/")!==-1)throw new z(M.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${m}' contains a slash.`);const g=s.path.child(Xe.fromString(m));if(!ne.isDocumentKey(g))throw new z(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${g}' is not because it contains an odd number of segments.`);const p=new ne(g);h.push(uo(o,p))}else{const g=oC(a,l,m);h.push(g)}}return new us(h,c)}(t._query,t.firestore._databaseId,i,e,n,r)}}function zb(t,e,n){if(typeof(n=Ce(n))=="string"){if(n==="")throw new z(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bv(e)&&n.indexOf("/")!==-1)throw new z(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Xe.fromString(n));if(!ne.isDocumentKey(r))throw new z(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uo(t,new ne(r))}if(n instanceof vt)return uo(t,n._key);throw new z(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nh(n)}.`)}function Hb(t,e){if(!Array.isArray(t)||t.length===0)throw new z(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hC(t,e){if(e.isInequality()){const r=Sh(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new z(M.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=Fv(t);s!==null&&fC(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new z(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new z(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function fC(t,e,n){if(!n.isEqual(e))throw new z(M.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Dp{convertValue(e,n="none"){switch(lo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw he()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return To(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Rh(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const n=ss(e);return new It(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xe.fromString(e);we(aE(r));const i=new as(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||Dt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class IL extends Dp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _i extends ou{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Vh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class kl extends _i{data(e={}){return super.data(e)}}class hs{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Gs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new kl(this._firestore,this._userDataWriter,r.key,r,new Gs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new z(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new kl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Gs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new kl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Gs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:_L(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function _L(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}function mC(t,e){return t instanceof _i&&e instanceof _i?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof hs&&e instanceof hs&&t._firestore===e._firestore&&ZE(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(t){t=Je(t,vt);const e=Je(t.firestore,At);return WE(Jt(e),t._key).then(n=>Pp(e,t,n))}class Ao extends Dp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}function TL(t){t=Je(t,vt);const e=Je(t.firestore,At),n=Jt(e),r=new Ao(e);return UV(n,t._key).then(i=>new _i(e,r,t._key,i,new Gs(i!==null&&i.hasLocalMutations,!0),t.converter))}function EL(t){t=Je(t,vt);const e=Je(t.firestore,At);return WE(Jt(e),t._key,{source:"server"}).then(n=>Pp(e,t,n))}function CL(t){t=Je(t,an);const e=Je(t.firestore,At),n=Jt(e),r=new Ao(e);return cC(t._query),GE(n,t._query).then(i=>new hs(e,r,t,i))}function kL(t){t=Je(t,an);const e=Je(t.firestore,At),n=Jt(e),r=new Ao(e);return jV(n,t._query).then(i=>new hs(e,r,t,i))}function AL(t){t=Je(t,an);const e=Je(t.firestore,At),n=Jt(e),r=new Ao(e);return GE(n,t._query,{source:"server"}).then(i=>new hs(e,r,t,i))}function Wb(t,e,n){t=Je(t,vt);const r=Je(t.firestore,At),i=Uh(t.converter,e,n);return Yu(r,[Mh(Co(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,bt.none())])}function Gb(t,e,n,...r){t=Je(t,vt);const i=Je(t.firestore,At),s=Co(i);let o;return o=typeof(e=Ce(e))=="string"||e instanceof ds?Tp(s,"updateDoc",t._key,e,n,r):Sp(s,"updateDoc",t._key,e),Yu(i,[o.toMutation(t._key,bt.exists(!0))])}function xL(t){return Yu(Je(t.firestore,At),[new Da(t._key,bt.none())])}function DL(t,e){const n=Je(t.firestore,At),r=Ed(t),i=Uh(t.converter,e);return Yu(n,[Mh(Co(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,bt.exists(!1))]).then(()=>r)}function gC(t,...e){var n,r,i;t=Ce(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||og(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(og(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof vt)u=Je(t.firestore,At),c=Aa(t._key.path),l={next:d=>{e[o]&&e[o](Pp(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Je(t,an);u=Je(d.firestore,At),c=d._query;const h=new Ao(u);l={next:f=>{e[o]&&e[o](new hs(u,h,d,f))},error:e[o+1],complete:e[o+2]},cC(t._query)}return function(d,h,f,m){const g=new Dh(m),p=new cp(h,g,f);return d.asyncQueue.enqueueAndForget(async()=>ap(await pa(d),p)),()=>{g.Dc(),d.asyncQueue.enqueueAndForget(async()=>lp(await pa(d),p))}}(Jt(u),c,a,l)}function PL(t,e){return qV(Jt(t=Je(t,At)),og(e)?e:{next:e})}function Yu(t,e){return function(n,r){const i=new Gt;return n.asyncQueue.enqueueAndForget(async()=>pV(await bp(n),r,i)),i.promise}(Jt(t),e)}function Pp(t,e,n){const r=n.docs.get(e._key),i=new Ao(t);return new _i(t,i,e._key,r,new Gs(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Co(e)}set(e,n,r){this._verifyNotCommitted();const i=Ki(e,this._firestore),s=Uh(i.converter,n,r),o=Mh(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,bt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Ki(e,this._firestore);let o;return o=typeof(n=Ce(n))=="string"||n instanceof ds?Tp(this._dataReader,"WriteBatch.update",s._key,n,r,i):Sp(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,bt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ki(e,this._firestore);return this._mutations=this._mutations.concat(new Da(n._key,bt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new z(M.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ki(t,e){if((t=Ce(t)).firestore!==e)throw new z(M.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Co(e)}get(e){const n=Ki(e,this._firestore),r=new IL(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return he();const s=i[0];if(s.isFoundDocument())return new ou(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new ou(this._firestore,r,n._key,null,n.converter);throw he()})}set(e,n,r){const i=Ki(e,this._firestore),s=Uh(i.converter,n,r),o=Mh(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=Ki(e,this._firestore);let o;return o=typeof(n=Ce(n))=="string"||n instanceof ds?Tp(this._dataReader,"Transaction.update",s._key,n,r,i):Sp(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=Ki(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ki(e,this._firestore),r=new Ao(this._firestore);return super.get(e).then(i=>new _i(this._firestore,r,n._key,i._document,new Gs(!1,!1),n.converter))}}function ML(t,e,n){t=Je(t,At);const r=Object.assign(Object.assign({},NL),n);return function(i){if(i.maxAttempts<1)throw new z(M.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,o){const a=new Gt;return i.asyncQueue.enqueueAndForget(async()=>{const l=await FV(i);new VV(i.asyncQueue,l,o,s,a).run()}),a.promise}(Jt(t),i=>e(new OL(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(){return new Gu("deleteField")}function LL(){return new _p("serverTimestamp")}function FL(...t){return new lL("arrayUnion",t)}function BL(...t){return new uL("arrayRemove",t)}function $L(t){return new cL("increment",t)}(function(t,e=!0){(function(n){ka=n})(bs),rs(new Xr("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new At(new GR(n.getProvider("auth-internal")),new XR(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new z(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new as(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Wr(jw,"3.13.0",t),Wr(jw,"3.13.0","esm2017")})();const UL="@firebase/firestore-compat",jL="0.3.12";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new z("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(){if(typeof Uint8Array>"u")throw new z("unimplemented","Uint8Arrays are not available in this environment.")}function Yb(){if(!SO())throw new z("unimplemented","Blobs are unavailable in Firestore in this environment.")}class au{constructor(e){this._delegate=e}static fromBase64String(e){return Yb(),new au(Zr.fromBase64String(e))}static fromUint8Array(e){return Kb(),new au(Zr.fromUint8Array(e))}toBase64(){return Yb(),this._delegate.toBase64()}toUint8Array(){return Kb(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(t){return qL(t,["next","error","complete"])}function qL(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{enableIndexedDbPersistence(e,n){return XV(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return JV(e._delegate)}clearIndexedDbPersistence(e){return ZV(e._delegate)}}class vC{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof as||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Sr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){WV(this._delegate,e,n,r)}enableNetwork(){return tL(this._delegate)}disableNetwork(){return nL(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,YE("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return eL(this._delegate)}onSnapshotsInSync(e){return PL(this._delegate,e)}get app(){if(!this._appCompat)throw new z("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ya(this,XE(this._delegate,e))}catch(n){throw Tn(n,"collection()","Firestore.collection()")}}doc(e){try{return new or(this,Ed(this._delegate,e))}catch(n){throw Tn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Sn(this,GV(this._delegate,e))}catch(n){throw Tn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return ML(this._delegate,n=>e(new pC(this,n)))}batch(){return Jt(this._delegate),new yC(new RL(this._delegate,e=>Yu(this._delegate,e)))}loadBundle(e){return rL(this._delegate,e)}namedQuery(e){return iL(this._delegate,e).then(n=>n?new Sn(this,n):null)}}class jh extends Dp{constructor(e){super(),this.firestore=e}convertBytes(e){return new au(new Zr(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return or.forKey(n,this.firestore,null)}}function HL(t){qR(t)}class pC{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new jh(e)}get(e){const n=Ks(e);return this._delegate.get(n).then(r=>new lu(this._firestore,new _i(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Ks(e);return r?(Np("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Ks(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Ks(e);return this._delegate.delete(n),this}}class yC{constructor(e){this._delegate=e}set(e,n,r){const i=Ks(e);return r?(Np("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Ks(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Ks(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class po{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new kl(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new uu(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=po.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new po(e,new jh(e),n),i.set(n,s)),s}}po.INSTANCES=new WeakMap;class or{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new jh(e)}static forPath(e,n,r){if(e.length%2!==0)throw new z("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new or(n,new vt(n._delegate,r,new ne(e)))}static forKey(e,n,r){return new or(n,new vt(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ya(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ya(this.firestore,XE(this._delegate,e))}catch(n){throw Tn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ce(e),e instanceof vt?JE(this._delegate,e):!1}set(e,n){n=Np("DocumentReference.set",n);try{return n?Wb(this._delegate,e,n):Wb(this._delegate,e)}catch(r){throw Tn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?Gb(this._delegate,e):Gb(this._delegate,e,n,...r)}catch(i){throw Tn(i,"updateDoc()","DocumentReference.update()")}}delete(){return xL(this._delegate)}onSnapshot(...e){const n=wC(e),r=bC(e,i=>new lu(this.firestore,new _i(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return gC(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=TL(this._delegate):(e==null?void 0:e.source)==="server"?n=EL(this._delegate):n=SL(this._delegate),n.then(r=>new lu(this.firestore,new _i(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new or(this.firestore,e?this._delegate.withConverter(po.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Tn(t,e,n){return t.message=t.message.replace(e,n),t}function wC(t){for(const e of t)if(typeof e=="object"&&!lg(e))return e;return{}}function bC(t,e){var n,r;let i;return lg(t[0])?i=t[0]:lg(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class lu{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new or(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return mC(this._delegate,e._delegate)}}class uu extends lu{data(e){const n=this._delegate.data(e);return zR(n!==void 0),n}}class Sn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new jh(e)}where(e,n,r){try{return new Sn(this.firestore,$i(this._delegate,fL(e,n,r)))}catch(i){throw Tn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Sn(this.firestore,$i(this._delegate,mL(e,n)))}catch(r){throw Tn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Sn(this.firestore,$i(this._delegate,gL(e)))}catch(n){throw Tn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Sn(this.firestore,$i(this._delegate,vL(e)))}catch(n){throw Tn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Sn(this.firestore,$i(this._delegate,pL(...e)))}catch(n){throw Tn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Sn(this.firestore,$i(this._delegate,yL(...e)))}catch(n){throw Tn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Sn(this.firestore,$i(this._delegate,wL(...e)))}catch(n){throw Tn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Sn(this.firestore,$i(this._delegate,bL(...e)))}catch(n){throw Tn(n,"endAt()","Query.endAt()")}}isEqual(e){return ZE(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=kL(this._delegate):(e==null?void 0:e.source)==="server"?n=AL(this._delegate):n=CL(this._delegate),n.then(r=>new ug(this.firestore,new hs(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=wC(e),r=bC(e,i=>new ug(this.firestore,new hs(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return gC(this._delegate,n,r)}withConverter(e){return new Sn(this.firestore,e?this._delegate.withConverter(po.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class WL{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new uu(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ug{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Sn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new uu(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new WL(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new uu(this._firestore,r))})}isEqual(e){return mC(this._delegate,e._delegate)}}class ya extends Sn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new or(this.firestore,e):null}doc(e){try{return e===void 0?new or(this.firestore,Ed(this._delegate)):new or(this.firestore,Ed(this._delegate,e))}catch(n){throw Tn(n,"doc()","CollectionReference.doc()")}}add(e){return DL(this._delegate,e).then(n=>new or(this.firestore,n))}isEqual(e){return JE(this._delegate,e._delegate)}withConverter(e){return new ya(this.firestore,e?this._delegate.withConverter(po.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ks(t){return Je(t,vt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(...e){this._delegate=new ds(...e)}static documentId(){return new Rp(Pt.keyField().canonicalString())}isEqual(e){return e=Ce(e),e instanceof ds?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this._delegate=e}static serverTimestamp(){const e=LL();return e._methodName="FieldValue.serverTimestamp",new zs(e)}static delete(){const e=VL();return e._methodName="FieldValue.delete",new zs(e)}static arrayUnion(...e){const n=FL(...e);return n._methodName="FieldValue.arrayUnion",new zs(n)}static arrayRemove(...e){const n=BL(...e);return n._methodName="FieldValue.arrayRemove",new zs(n)}static increment(e){const n=$L(e);return n._methodName="FieldValue.increment",new zs(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL={Firestore:vC,GeoPoint:Rh,Timestamp:It,Blob:au,Transaction:pC,WriteBatch:yC,DocumentReference:or,DocumentSnapshot:lu,Query:Sn,QueryDocumentSnapshot:uu,QuerySnapshot:ug,CollectionReference:ya,FieldPath:Rp,FieldValue:zs,setLogLevel:HL,CACHE_SIZE_UNLIMITED:QV};function KL(t,e){t.INTERNAL.registerComponent(new Xr("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},GL)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(t){KL(t,(e,n)=>new vC(e,n,new zL)),t.registerVersion(UL,jL)}YL(Qn);function Op(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const tl={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Oo={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}}function IC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XL=QL,JL=IC,_C=new _o("auth","Firebase",IC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=new rh("@firebase/auth");function ZL(t,...e){kd.logLevel<=Qe.WARN&&kd.warn(`Auth (${bs}): ${t}`,...e)}function Uc(t,...e){kd.logLevel<=Qe.ERROR&&kd.error(`Auth (${bs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t,...e){throw Mp(t,...e)}function on(t,...e){return Mp(t,...e)}function SC(t,e,n){const r=Object.assign(Object.assign({},JL()),{[e]:n});return new _o("auth","Firebase",r).create(e,{appName:t.name})}function Ma(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ln(t,"argument-error"),SC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _C.create(t,...e)}function X(t,e,...n){if(!t)throw Mp(e,...n)}function qr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uc(e),new Error(e)}function Tr(t,e){t||qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Vp(){return Qb()==="http:"||Qb()==="https:"}function Qb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Vp()||HS()||"connection"in navigator)?navigator.onLine:!0}function tF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Tr(n>e,"Short delay should be less than long delay!"),this.isMobile=aP()||lv()}get(){return eF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(t,e){Tr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF=new Qu(3e4,6e4);function Bt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qt(t,e,n,r,i={}){return EC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ta(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),TC.fetch()(CC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function EC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},nF),e);try{const i=new iF(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw hl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw hl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw hl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw hl(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw SC(t,c,u);ln(t,c)}}catch(i){if(i instanceof An)throw i;ln(t,"network-request-failed",{message:String(i)})}}async function Pi(t,e,n,r,i={}){const s=await qt(t,e,n,r,i);return"mfaPendingCredential"in s&&ln(t,"multi-factor-auth-required",{_serverResponse:s}),s}function CC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Lp(t.config,i):`${t.config.apiScheme}://${i}`}class iF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(on(this.auth,"network-request-failed")),rF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=on(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sF(t,e){return qt(t,"POST","/v1/accounts:delete",e)}async function oF(t,e){return qt(t,"POST","/v1/accounts:update",e)}async function aF(t,e){return qt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lF(t,e=!1){const n=Ce(t),r=await n.getIdToken(e),i=qh(r);X(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Al(zf(i.auth_time)),issuedAtTime:Al(zf(i.iat)),expirationTime:Al(zf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function zf(t){return Number(t)*1e3}function qh(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{const i=qS(n);return i?JSON.parse(i):(Uc("Failed to decode base64 JWT payload"),null)}catch(i){return Uc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function uF(t){const e=qh(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Si(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof An&&cF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function cF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Si(t,aF(n,{idToken:r}));X(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?mF(s.providerUserInfo):[],a=fF(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new kC(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function hF(t){const e=Ce(t);await du(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function mF(t){return t.map(e=>{var{providerId:n}=e,r=Op(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gF(t,e){const n=await EC(t,{},async()=>{const r=Ta({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=CC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",TC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uF(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return X(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await gF(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new hu;return r&&(X(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(X(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(X(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hu,this.toJSON())}_performRefresh(){return qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class eo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Op(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new kC(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Si(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lF(this,e)}reload(){return hF(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new eo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await du(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Si(this,sF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,p=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:T,emailVerified:b,isAnonymous:I,providerData:S,stsTokenManager:C}=n;X(T&&C,e,"internal-error");const D=hu.fromJSON(this.name,C);X(typeof T=="string",e,"internal-error"),Ui(d,e.name),Ui(h,e.name),X(typeof b=="boolean",e,"internal-error"),X(typeof I=="boolean",e,"internal-error"),Ui(f,e.name),Ui(m,e.name),Ui(g,e.name),Ui(p,e.name),Ui(y,e.name),Ui(w,e.name);const P=new eo({uid:T,auth:e,email:h,emailVerified:b,displayName:d,isAnonymous:I,photoURL:m,phoneNumber:f,tenantId:g,stsTokenManager:D,createdAt:y,lastLoginAt:w});return S&&Array.isArray(S)&&(P.providerData=S.map($=>Object.assign({},$))),p&&(P._redirectEventId=p),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new hu;i.updateFromServerResponse(n);const s=new eo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await du(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=new Map;function Yn(t){Tr(t instanceof Function,"Expected a class definition");let e=Xb.get(t);return e?(Tr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Xb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AC.type="NONE";const wa=AC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(t,e,n){return`firebase:${t}:${e}:${n}`}class ea{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=to(this.userKey,i.apiKey,s),this.fullPersistenceKey=to("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?eo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ea(Yn(wa),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Yn(wa);const o=to(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=eo._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ea(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ea(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NC(e))return"Blackberry";if(RC(e))return"Webos";if(Fp(e))return"Safari";if((e.includes("chrome/")||DC(e))&&!e.includes("edge/"))return"Chrome";if(Xu(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xC(t=Tt()){return/firefox\//i.test(t)}function Fp(t=Tt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DC(t=Tt()){return/crios\//i.test(t)}function PC(t=Tt()){return/iemobile/i.test(t)}function Xu(t=Tt()){return/android/i.test(t)}function NC(t=Tt()){return/blackberry/i.test(t)}function RC(t=Tt()){return/webos/i.test(t)}function Va(t=Tt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vF(t=Tt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function pF(t=Tt()){var e;return Va(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yF(){return WS()&&document.documentMode===10}function OC(t=Tt()){return Va(t)||Xu(t)||RC(t)||NC(t)||/windows phone/i.test(t)||PC(t)}function wF(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(t,e=[]){let n;switch(t){case"Browser":n=Jb(Tt());break;case"Worker":n=`${Jb(Tt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bs}/${r}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bF(t){return(await qt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function VC(t,e){return qt(t,"GET","/v2/recaptchaConfig",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(t){return t!==void 0&&t.getResponse!==void 0}function eI(t){return t!==void 0&&t.enterprise!==void 0}class LC{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Bp(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=on("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",IF().appendChild(r)})}function FC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const _F="https://www.google.com/recaptcha/enterprise.js?render=",SF="recaptcha-enterprise",TF="NO_RECAPTCHA";class BC{constructor(e){this.type=SF,this.auth=Mt(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{VC(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new LC(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;eI(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(TF)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&eI(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}Bp(_F+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function fs(t,e,n,r=!1){const i=new BC(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tI(this),this.idTokenSubscription=new tI(this),this.beforeStateQueue=new EF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_C,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ea.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await du(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ce(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Yn(e))})}async initializeRecaptchaConfig(){const e=await VC(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new LC(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new BC(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _o("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yn(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=await ea.create(this,[Yn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return X(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ZL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Mt(t){return Ce(t)}class tI{constructor(e){this.auth=e,this.observer=null,this.addObserver=GS(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function kF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function AF(t,e,n){const r=Mt(t);X(r._canInitEmulator,r,"emulator-config-failed"),X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=$C(e),{host:o,port:a}=xF(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||DF()}function $C(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xF(t){const e=$C(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:nI(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:nI(o)}}}function nI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function DF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qr("not implemented")}_getIdTokenResponse(e){return qr("not implemented")}_linkToIdToken(e,n){return qr("not implemented")}_getReauthenticationResolver(e){return qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(t,e){return qt(t,"POST","/v1/accounts:resetPassword",Bt(t,e))}async function jC(t,e){return qt(t,"POST","/v1/accounts:update",e)}async function PF(t,e){return qt(t,"POST","/v1/accounts:update",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hf(t,e){return Pi(t,"POST","/v1/accounts:signInWithPassword",Bt(t,e))}async function zh(t,e){return qt(t,"POST","/v1/accounts:sendOobCode",Bt(t,e))}async function NF(t,e){return zh(t,e)}async function Wf(t,e){return zh(t,e)}async function Gf(t,e){return zh(t,e)}async function RF(t,e){return zh(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OF(t,e){return Pi(t,"POST","/v1/accounts:signInWithEmailLink",Bt(t,e))}async function MF(t,e){return Pi(t,"POST","/v1/accounts:signInWithEmailLink",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends La{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new fu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new fu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await fs(e,r,"signInWithPassword");return Hf(e,i)}else return Hf(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await fs(e,r,"signInWithPassword");return Hf(e,s)}else return Promise.reject(i)});case"emailLink":return OF(e,{email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return jC(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return MF(e,{idToken:n,email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gi(t,e){return Pi(t,"POST","/v1/accounts:signInWithIdp",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF="http://localhost";class ei extends La{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ei(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Op(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ei(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return gi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,gi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gi(e,n)}buildRequest(){const e={requestUri:VF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ta(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LF(t,e){return qt(t,"POST","/v1/accounts:sendVerificationCode",Bt(t,e))}async function FF(t,e){return Pi(t,"POST","/v1/accounts:signInWithPhoneNumber",Bt(t,e))}async function BF(t,e){const n=await Pi(t,"POST","/v1/accounts:signInWithPhoneNumber",Bt(t,e));if(n.temporaryProof)throw hl(t,"account-exists-with-different-credential",n);return n}const $F={USER_NOT_FOUND:"user-not-found"};async function UF(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Pi(t,"POST","/v1/accounts:signInWithPhoneNumber",Bt(t,n),$F)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends La{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new no({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new no({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return FF(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return BF(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return UF(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new no({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qF(t){const e=jo(ol(t)).link,n=e?jo(ol(e)).deep_link_id:null,r=jo(ol(t)).deep_link_id;return(r?jo(ol(r)).link:null)||r||n||e||t}class Hh{constructor(e){var n,r,i,s,o,a;const l=jo(ol(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=jF((i=l.mode)!==null&&i!==void 0?i:null);X(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=qF(e);try{return new Hh(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){this.providerId=ks.PROVIDER_ID}static credential(e,n){return fu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Hh.parseLink(n);return X(r,"argument-error"),fu._fromEmailAndCode(e,r.code,r.tenantId)}}ks.PROVIDER_ID="password";ks.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ks.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends Ni{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ta extends Fa{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return X("providerId"in n&&"signInMethod"in n,"argument-error"),ei._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return X(e.idToken||e.accessToken,"argument-error"),ei._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ta.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ta.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new ta(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Fa{constructor(){super("facebook.com")}static credential(e){return ei._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mr.credential(e.oauthAccessToken)}catch{return null}}}Mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Fa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ei._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Vr.credential(n,r)}catch{return null}}}Vr.GOOGLE_SIGN_IN_METHOD="google.com";Vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Fa{constructor(){super("github.com")}static credential(e){return ei._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.GITHUB_SIGN_IN_METHOD="github.com";Lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF="http://localhost";class ba extends La{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return gi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,gi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gi(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new ba(r,s)}static _create(e,n){return new ba(e,n)}buildRequest(){return{requestUri:zF,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF="saml.";class Ad extends Ni{constructor(e){X(e.startsWith(HF),"argument-error"),super(e)}static credentialFromResult(e){return Ad.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Ad.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=ba.fromJSON(e);return X(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return ba._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends Fa{constructor(){super("twitter.com")}static credential(e,n){return ei._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fr.credential(n,r)}catch{return null}}}Fr.TWITTER_SIGN_IN_METHOD="twitter.com";Fr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jc(t,e){return Pi(t,"POST","/v1/accounts:signUp",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await eo._fromIdTokenResponse(e,r,i),o=rI(r);return new hr({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=rI(r);return new hr({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function rI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WF(t){var e;const n=Mt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new hr({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await jc(n,{returnSecureToken:!0}),i=await hr._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd extends An{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,xd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new xd(e,n,r,i)}}function qC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?xd._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GF(t,e){const n=Ce(t);await Wh(!0,n,e);const{providerUserInfo:r}=await oF(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=zC(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function $p(t,e,n=!1){const r=await Si(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return hr._forOperation(t,"link",r)}async function Wh(t,e,n){await du(e);const r=zC(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";X(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HC(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Si(t,qC(r,i,e,t),n);X(s.idToken,r,"internal-error");const o=qh(s.idToken);X(o,r,"internal-error");const{sub:a}=o;return X(t.uid===a,r,"user-mismatch"),hr._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ln(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(t,e,n=!1){const r="signIn",i=await qC(t,r,e),s=await hr._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Gh(t,e){return WC(Mt(t),e)}async function GC(t,e){const n=Ce(t);return await Wh(!1,n,e.providerId),$p(n,e)}async function KC(t,e){return HC(Ce(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KF(t,e){return Pi(t,"POST","/v1/accounts:signInWithCustomToken",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YF(t,e){const n=Mt(t),r=await KF(n,{token:e,returnSecureToken:!0}),i=await hr._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?Up._fromServerResponse(e,n):"totpInfo"in n?jp._fromServerResponse(e,n):ln(e,"internal-error")}}class Up extends Ju{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new Up(n)}}class jp extends Ju{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new jp(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(t,e,n){var r;X(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),X(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(X(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(X(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QF(t,e,n){var r;const i=Mt(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await fs(i,s,"getOobCode",!0);n&&na(i,o,n),await Wf(i,o)}else n&&na(i,s,n),await Wf(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await fs(i,s,"getOobCode",!0);n&&na(i,a,n),await Wf(i,a)}else return Promise.reject(o)})}async function XF(t,e,n){await UC(Ce(t),{oobCode:e,newPassword:n})}async function JF(t,e){await PF(Ce(t),{oobCode:e})}async function YC(t,e){const n=Ce(t),r=await UC(n,{oobCode:e}),i=r.requestType;switch(X(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":X(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":X(r.mfaInfo,n,"internal-error");default:X(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Ju._fromServerResponse(Mt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function ZF(t,e){const{data:n}=await YC(Ce(t),e);return n.email}async function eB(t,e,n){var r;const i=Mt(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await fs(i,s,"signUpPassword");o=jc(i,u)}else o=jc(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await fs(i,s,"signUpPassword");return jc(i,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await hr._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function tB(t,e,n){return Gh(Ce(t),ks.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nB(t,e,n){var r;const i=Mt(t),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(a,l){X(l.handleCodeInApp,i,"argument-error"),l&&na(i,a,l)}if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const a=await fs(i,s,"getOobCode",!0);o(a,n),await Gf(i,a)}else o(s,n),await Gf(i,s).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const l=await fs(i,s,"getOobCode",!0);o(l,n),await Gf(i,l)}else return Promise.reject(a)})}function rB(t,e){const n=Hh.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function iB(t,e,n){const r=Ce(t),i=ks.credentialWithLink(e,n||cu());return X(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Gh(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sB(t,e){return qt(t,"POST","/v1/accounts:createAuthUri",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oB(t,e){const n=Vp()?cu():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await sB(Ce(t),r);return i||[]}async function aB(t,e){const n=Ce(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&na(n.auth,i,e);const{email:s}=await NF(n.auth,i);s!==t.email&&await t.reload()}async function lB(t,e,n){const r=Ce(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&na(r.auth,s,n);const{email:o}=await RF(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uB(t,e){return qt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cB(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ce(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Si(r,uB(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function dB(t,e){return QC(Ce(t),e,null)}function hB(t,e){return QC(Ce(t),null,e)}async function QC(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Si(t,jC(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=qh(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new ra(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new mB(s,i);case"github.com":return new gB(s,i);case"google.com":return new vB(s,i);case"twitter.com":return new pB(s,i,t.screenName||null);case"custom":case"anonymous":return new ra(s,null);default:return new ra(s,r,i)}}class ra{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class XC extends ra{constructor(e,n,r,i){super(e,n,r),this.username=i}}class mB extends ra{constructor(e,n){super(e,"facebook.com",n)}}class gB extends XC{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class vB extends ra{constructor(e,n){super(e,"google.com",n)}}class pB extends XC{constructor(e,n,r){super(e,"twitter.com",n,r)}}function yB(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:fB(n)}class Ys{constructor(e,n,r){this.type=e,this.credential=n,this.auth=r}static _fromIdtoken(e,n){return new Ys("enroll",e,n)}static _fromMfaPendingCredential(e){return new Ys("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Ys._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Ys._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Mt(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>Ju._fromServerResponse(r,a));X(i.mfaPendingCredential,r,"internal-error");const o=Ys._fromMfaPendingCredential(i.mfaPendingCredential);return new qp(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const u=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const c=await hr._fromIdTokenResponse(r,n.operationType,u);return await r._updateCurrentUser(c.user),c;case"reauthenticate":return X(n.user,r,"internal-error"),hr._forOperation(n.user,n.operationType,u);default:ln(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function wB(t,e){var n;const r=Ce(t),i=e;return X(e.customData.operationType,r,"argument-error"),X((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),qp._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bB(t,e){return qt(t,"POST","/v2/accounts/mfaEnrollment:start",Bt(t,e))}function IB(t,e){return qt(t,"POST","/v2/accounts/mfaEnrollment:finalize",Bt(t,e))}function _B(t,e){return qt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Bt(t,e))}class zp{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Ju._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new zp(e)}async getSession(){return Ys._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,n){const r=e,i=await this.getSession(),s=await Si(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Si(this.user,_B(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Kf=new WeakMap;function SB(t){const e=Ce(t);return Kf.has(e)||Kf.set(e,zp._fromUser(e)),Kf.get(e)}const Dd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dd,"1"),this.storage.removeItem(Dd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TB(){const t=Tt();return Fp(t)||Va(t)}const EB=1e3,CB=10;class ZC extends JC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=TB()&&wF(),this.fallbackToPolling=OC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);yF()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,CB):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},EB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZC.type="LOCAL";const Hp=ZC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek extends JC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ek.type="SESSION";const yo=ek;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Kh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await kB(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Zu("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(){return window}function xB(t){Ft().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(){return typeof Ft().WorkerGlobalScope<"u"&&typeof Ft().importScripts=="function"}async function DB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function NB(){return Wp()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="firebaseLocalStorageDb",RB=1,Pd="firebaseLocalStorage",nk="fbase_key";class ec{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yh(t,e){return t.transaction([Pd],e?"readwrite":"readonly").objectStore(Pd)}function OB(){const t=indexedDB.deleteDatabase(tk);return new ec(t).toPromise()}function cg(){const t=indexedDB.open(tk,RB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pd,{keyPath:nk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pd)?e(r):(r.close(),await OB(),e(await cg()))})})}async function iI(t,e,n){const r=Yh(t,!0).put({[nk]:e,value:n});return new ec(r).toPromise()}async function MB(t,e){const n=Yh(t,!1).get(e),r=await new ec(n).toPromise();return r===void 0?null:r.value}function sI(t,e){const n=Yh(t,!0).delete(e);return new ec(n).toPromise()}const VB=800,LB=3;class rk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>LB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Wp()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kh._getInstance(NB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await DB(),!this.activeServiceWorker)return;this.sender=new AB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cg();return await iI(e,Dd,"1"),await sI(e,Dd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>iI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>MB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Yh(i,!1).getAll();return new ec(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rk.type="LOCAL";const mu=rk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FB(t,e){return qt(t,"POST","/v2/accounts/mfaSignIn:start",Bt(t,e))}function BB(t,e){return qt(t,"POST","/v2/accounts/mfaSignIn:finalize",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B=500,UB=6e4,Cc=1e12;class jB{constructor(e){this.auth=e,this.counter=Cc,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new qB(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||Cc;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||Cc;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||Cc;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class qB{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;X(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=zB(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},UB)},$B))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function zB(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=FC("rcb"),HB=new Qu(3e4,6e4),WB="https://www.google.com/recaptcha/api.js?";class GB{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Ft().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return X(KB(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Zb(Ft().grecaptcha)?Promise.resolve(Ft().grecaptcha):new Promise((r,i)=>{const s=Ft().setTimeout(()=>{i(on(e,"network-request-failed"))},HB.get());Ft()[Yf]=()=>{Ft().clearTimeout(s),delete Ft()[Yf];const a=Ft().grecaptcha;if(!a||!Zb(a)){i(on(e,"internal-error"));return}const l=a.render;a.render=(u,c)=>{const d=l(u,c);return this.counter++,d},this.hostLanguage=n,r(a)};const o=`${WB}?${Ta({onload:Yf,render:"explicit",hl:n})}`;Bp(o).catch(()=>{clearTimeout(s),i(on(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Ft().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function KB(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class YB{async load(e){return new jB(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="recaptcha",QB={theme:"light",type:"image"};let XB=class{constructor(e,n=Object.assign({},QB),r){this.parameters=n,this.type=ik,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mt(r),this.isInvisible=this.parameters.size==="invisible",X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof e=="string"?document.getElementById(e):e;X(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new YB:new GB,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){X(!this.parameters.sitekey,this.auth,"argument-error"),X(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=Ft()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){X(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){X(Vp()&&!Wp(),this.auth,"internal-error"),await JB(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await bF(this.auth);X(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return X(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function JB(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=no._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function ZB(t,e,n){const r=Mt(t),i=await Qh(r,e,Ce(n));return new Gp(i,s=>Gh(r,s))}async function e$(t,e,n){const r=Ce(t);await Wh(!1,r,"phone");const i=await Qh(r.auth,e,Ce(n));return new Gp(i,s=>GC(r,s))}async function t$(t,e,n){const r=Ce(t),i=await Qh(r.auth,e,Ce(n));return new Gp(i,s=>KC(r,s))}async function Qh(t,e,n){var r;const i=await n.verify();try{X(typeof i=="string",t,"argument-error"),X(n.type===ik,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return X(o.type==="enroll",t,"internal-error"),(await bB(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{X(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return X(a,t,"missing-multi-factor-info"),(await FB(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await LF(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function n$(t,e){await $p(Ce(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo=class qc{constructor(e){this.providerId=qc.PROVIDER_ID,this.auth=Mt(e)}verifyPhoneNumber(e,n){return Qh(this.auth,e,Ce(n))}static credential(e,n){return no._fromVerification(e,n)}static credentialFromResult(e){const n=e;return qc.credentialFromTaggedObject(n)}static credentialFromError(e){return qc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?no._fromTokenResponse(n,r):null}};wo.PROVIDER_ID="phone";wo.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(t,e){return e?Yn(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp extends La{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function r$(t){return WC(t.auth,new Kp(t),t.bypassAuthState)}function i$(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),HC(n,new Kp(t),t.bypassAuthState)}async function s$(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),$p(n,new Kp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return r$;case"linkViaPopup":case"linkViaRedirect":return s$;case"reauthViaPopup":case"reauthViaRedirect":return i$;default:ln(this.auth,"internal-error")}}resolve(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$=new Qu(2e3,1e4);async function a$(t,e,n){const r=Mt(t);Ma(t,e,Ni);const i=xo(r,n);return new di(r,"signInViaPopup",e,i).executeNotNull()}async function l$(t,e,n){const r=Ce(t);Ma(r.auth,e,Ni);const i=xo(r.auth,n);return new di(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function u$(t,e,n){const r=Ce(t);Ma(r.auth,e,Ni);const i=xo(r.auth,n);return new di(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class di extends sk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,di.currentPopupAction&&di.currentPopupAction.cancel(),di.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return X(e,this.auth,"internal-error"),e}async onExecution(){Tr(this.filter.length===1,"Popup operations only handle one event");const e=Zu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(on(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(on(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,di.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(on(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,o$.get())};e()}}di.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c$="pendingRedirect",xl=new Map;class d$ extends sk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=xl.get(this.auth._key());if(!e){try{const r=await h$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xl.set(this.auth._key(),e)}return this.bypassAuthState||xl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function h$(t,e){const n=ak(e),r=ok(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function Yp(t,e){return ok(t)._set(ak(e),"true")}function f$(){xl.clear()}function Qp(t,e){xl.set(t._key(),e)}function ok(t){return Yn(t._redirectPersistence)}function ak(t){return to(c$,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m$(t,e,n){return g$(t,e,n)}async function g$(t,e,n){const r=Mt(t);Ma(t,e,Ni),await r._initializationPromise;const i=xo(r,n);return await Yp(i,r),i._openRedirect(r,e,"signInViaRedirect")}function v$(t,e,n){return p$(t,e,n)}async function p$(t,e,n){const r=Ce(t);Ma(r.auth,e,Ni),await r.auth._initializationPromise;const i=xo(r.auth,n);await Yp(i,r.auth);const s=await lk(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function y$(t,e,n){return w$(t,e,n)}async function w$(t,e,n){const r=Ce(t);Ma(r.auth,e,Ni),await r.auth._initializationPromise;const i=xo(r.auth,n);await Wh(!1,r,e.providerId),await Yp(i,r.auth);const s=await lk(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function b$(t,e){return await Mt(t)._initializationPromise,Xh(t,e,!1)}async function Xh(t,e,n=!1){const r=Mt(t),i=xo(r,e),o=await new d$(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function lk(t){const e=Zu(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$=10*60*1e3;class uk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ck(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(on(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=I$&&this.cachedEventUids.clear(),this.cachedEventUids.has(oI(e))}saveEventToCache(e){this.cachedEventUids.add(oI(e)),this.lastProcessedEventTime=Date.now()}}function oI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ck({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ck(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk(t,e={}){return qt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T$=/^https?/;async function E$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dk(t);for(const n of e)try{if(C$(n))return}catch{}ln(t,"unauthorized-domain")}function C$(t){const e=cu(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!T$.test(n))return!1;if(S$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$=new Qu(3e4,6e4);function aI(){const t=Ft().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function A$(t){return new Promise((e,n)=>{var r,i,s;function o(){aI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aI(),n(on(t,"network-request-failed"))},timeout:k$.get()})}if(!((i=(r=Ft().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ft().gapi)===null||s===void 0)&&s.load)o();else{const a=FC("iframefcb");return Ft()[a]=()=>{gapi.load?o():n(on(t,"network-request-failed"))},Bp(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw zc=null,e})}let zc=null;function x$(t){return zc=zc||A$(t),zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$=new Qu(5e3,15e3),P$="__/auth/iframe",N$="emulator/auth/iframe",R$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M$(t){const e=t.config;X(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Lp(e,N$):`https://${t.config.authDomain}/${P$}`,r={apiKey:e.apiKey,appName:t.name,v:bs},i=O$.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ta(r).slice(1)}`}async function V$(t){const e=await x$(t),n=Ft().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:M$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=on(t,"network-request-failed"),a=Ft().setTimeout(()=>{s(o)},D$.get());function l(){Ft().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},F$=500,B$=600,$$="_blank",U$="http://localhost";class lI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function j$(t,e,n,r=F$,i=B$){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},L$),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Tt().toLowerCase();n&&(a=DC(u)?$$:n),xC(u)&&(e=e||U$,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,m])=>`${h}${f}=${m},`,"");if(pF(u)&&a!=="_self")return q$(e||"",a),new lI(null);const d=window.open(e||"",a,c);X(d,t,"popup-blocked");try{d.focus()}catch{}return new lI(d)}function q$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$="__/auth/handler",H$="emulator/auth/handler",W$=encodeURIComponent("fac");async function dg(t,e,n,r,i,s){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:bs,eventId:i};if(e instanceof Ni){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",mP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof Fa){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${W$}=${encodeURIComponent(l)}`:"";return`${G$(t)}?${Ta(a).slice(1)}${u}`}function G$({config:t}){return t.emulator?Lp(t,H$):`https://${t.authDomain}/${z$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf="webStorageSupport";class K${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yo,this._completeRedirectFn=Xh,this._overrideRedirectResult=Qp}async _openPopup(e,n,r,i){var s;Tr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await dg(e,n,r,cu(),i);return j$(e,o,Zu())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await dg(e,n,r,cu(),i);return xB(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Tr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await V$(e),r=new uk(e);return n.register("authEvent",i=>(X(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qf,{type:Qf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Qf];o!==void 0&&n(!!o),ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=E$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return OC()||Fp()||Va()}}const Y$=K$;class Q${constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return qr("unexpected MultiFactorSessionType")}}}class Xp extends Q${constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Xp(e)}_finalizeEnroll(e,n,r){return IB(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return BB(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class hk{constructor(){}static assertion(e){return Xp._fromCredential(e)}}hk.FACTOR_ID="phone";var uI="@firebase/auth",cI="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Z$(t){rs(new Xr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;X(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MC(t)},u=new CF(r,i,s,l);return kF(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),rs(new Xr("auth-internal",e=>{const n=Mt(e.getProvider("auth").getImmediate());return(r=>new X$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(uI,cI,J$(t)),Wr(uI,cI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=5*60;iP("authIdTokenMaxAge");Z$("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=2e3;async function n2(t,e,n){var r;const{BuildInfo:i}=bo();Tr(e.sessionId,"AuthEvent did not contain a session ID");const s=await a2(e.sessionId),o={};return Va()?o.ibi=i.packageName:Xu()?o.apn=i.packageName:ln(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,dg(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function r2(t){const{BuildInfo:e}=bo(),n={};Va()?n.iosBundleId=e.packageName:Xu()?n.androidPackageName=e.packageName:ln(t,"operation-not-supported-in-this-environment"),await dk(t,n)}function i2(t){const{cordova:e}=bo();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,vF()?"_blank":"_system","location=yes"),n(i)})})}async function s2(t,e,n){const{cordova:r}=bo();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var d;s();const h=(d=r.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof h=="function"&&h(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function u(){a||(a=window.setTimeout(()=>{o(on(t,"redirect-cancelled-by-user"))},t2))}function c(){(document==null?void 0:document.visibilityState)==="visible"&&u()}e.addPassiveListener(l),document.addEventListener("resume",u,!1),Xu()&&document.addEventListener("visibilitychange",c,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}})}finally{i()}}function o2(t){var e,n,r,i,s,o,a,l,u,c;const d=bo();X(typeof((e=d==null?void 0:d.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),X(typeof((n=d==null?void 0:d.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),X(typeof((s=(i=(r=d==null?void 0:d.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),X(typeof((l=(a=(o=d==null?void 0:d.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),X(typeof((c=(u=d==null?void 0:d.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||c===void 0?void 0:c.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function a2(t){const e=l2(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function l2(t){if(Tr(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=20;class c2 extends uk{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function d2(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:m2(),postBody:null,tenantId:t.tenantId,error:on(t,"no-auth-event")}}function h2(t,e){return hg()._set(fg(t),e)}async function dI(t){const e=await hg()._get(fg(t));return e&&await hg()._remove(fg(t)),e}function f2(t,e){var n,r;const i=v2(e);if(i.includes("/__/auth/callback")){const s=Hc(i),o=s.firebaseError?g2(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?on(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function m2(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<u2;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function hg(){return Yn(Hp)}function fg(t){return to("authEvent",t.config.apiKey,t.name)}function g2(t){try{return JSON.parse(t)}catch{return null}}function v2(t){const e=Hc(t),n=e.link?decodeURIComponent(e.link):void 0,r=Hc(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Hc(i).link||i||r||n||t}function Hc(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return jo(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=500;class y2{constructor(){this._redirectPersistence=yo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Xh,this._overrideRedirectResult=Qp}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new c2(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){ln(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){o2(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),f$(),await this._originValidation(e);const o=d2(e,r,i);await h2(e,o);const a=await n2(e,o,n),l=await i2(a);return s2(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=r2(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=bo(),o=setTimeout(async()=>{await dI(e),n.onEvent(hI())},p2),a=async c=>{clearTimeout(o);const d=await dI(e);let h=null;d&&(c!=null&&c.url)&&(h=f2(d,c.url)),n.onEvent(h||hI())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,u=`${s.packageName.toLowerCase()}://`;bo().handleOpenURL=async c=>{if(c.toLowerCase().startsWith(u)&&a({url:c}),typeof l=="function")try{l(c)}catch(d){console.error(d)}}}}const w2=y2;function hI(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:on("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(t,e){Mt(t)._logFramework(e)}var I2="@firebase/auth-compat",_2="0.4.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=1e3;function Dl(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function T2(){return Dl()==="http:"||Dl()==="https:"}function fk(t=Tt()){return!!((Dl()==="file:"||Dl()==="ionic:"||Dl()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function E2(){return lv()||av()}function C2(){return WS()&&(document==null?void 0:document.documentMode)===11}function k2(t=Tt()){return/Edge\/\d+/.test(t)}function A2(t=Tt()){return C2()||k2(t)}function mk(){try{const t=self.localStorage,e=Zu();if(t)return t.setItem(e,"1"),t.removeItem(e),A2()?$l():!0}catch{return Jp()&&$l()}return!1}function Jp(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xf(){return(T2()||HS()||fk())&&!E2()&&mk()&&!Jp()}function gk(){return fk()&&typeof document<"u"}async function x2(){return gk()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},S2);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function D2(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn={LOCAL:"local",NONE:"none",SESSION:"session"},nl=X,vk="persistence";function P2(t,e){if(nl(Object.values(zn).includes(e),t,"invalid-persistence-type"),lv()){nl(e!==zn.SESSION,t,"unsupported-persistence-type");return}if(av()){nl(e===zn.NONE,t,"unsupported-persistence-type");return}if(Jp()){nl(e===zn.NONE||e===zn.LOCAL&&$l(),t,"unsupported-persistence-type");return}nl(e===zn.NONE||mk(),t,"unsupported-persistence-type")}async function mg(t){await t._initializationPromise;const e=pk(),n=to(vk,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function N2(t,e){const n=pk();if(!n)return[];const r=to(vk,t,e);switch(n.getItem(r)){case zn.NONE:return[wa];case zn.LOCAL:return[mu,yo];case zn.SESSION:return[yo];default:return[]}}function pk(){var t;try{return((t=D2())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=X;class Qi{constructor(){this.browserResolver=Yn(Y$),this.cordovaResolver=Yn(w2),this.underlyingResolver=null,this._redirectPersistence=yo,this._completeRedirectFn=Xh,this._overrideRedirectResult=Qp}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return gk()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return R2(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await x2();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(t){return t.unwrap()}function O2(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t){return wk(t)}function V2(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new L2(t,wB(t,e))}else if(r){const i=wk(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function wk(t){const{_tokenResponse:e}=t instanceof An?t.customData:t;if(!e)return null;if(!(t instanceof An)&&"temporaryProof"in e&&"phoneNumber"in e)return wo.credentialFromResult(t);const n=e.providerId;if(!n||n===tl.PASSWORD)return null;let r;switch(n){case tl.GOOGLE:r=Vr;break;case tl.FACEBOOK:r=Mr;break;case tl.GITHUB:r=Lr;break;case tl.TWITTER:r=Fr;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?ba._create(n,a):ei._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new ta(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof An?r.credentialFromError(t):r.credentialFromResult(t)}function Mn(t,e){return e.catch(n=>{throw n instanceof An&&V2(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:M2(n),additionalUserInfo:yB(n),user:hi.getOrCreate(i)}})}async function gg(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Mn(t,n.confirm(r))}}class L2{constructor(e,n){this.resolver=n,this.auth=O2(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Mn(yk(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this._delegate=e,this.multiFactor=SB(e)}static getOrCreate(e){return hi.USER_MAP.has(e)||hi.USER_MAP.set(e,new hi(e)),hi.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Mn(this.auth,GC(this._delegate,e))}async linkWithPhoneNumber(e,n){return gg(this.auth,e$(this._delegate,e,n))}async linkWithPopup(e){return Mn(this.auth,u$(this._delegate,e,Qi))}async linkWithRedirect(e){return await mg(Mt(this.auth)),y$(this._delegate,e,Qi)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Mn(this.auth,KC(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return gg(this.auth,t$(this._delegate,e,n))}reauthenticateWithPopup(e){return Mn(this.auth,l$(this._delegate,e,Qi))}async reauthenticateWithRedirect(e){return await mg(Mt(this.auth)),v$(this._delegate,e,Qi)}sendEmailVerification(e){return aB(this._delegate,e)}async unlink(e){return await GF(this._delegate,e),this}updateEmail(e){return dB(this._delegate,e)}updatePassword(e){return hB(this._delegate,e)}updatePhoneNumber(e){return n$(this._delegate,e)}updateProfile(e){return cB(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return lB(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}hi.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=X;class vg{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;rl(r,"invalid-api-key",{appName:e.name}),rl(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Qi:void 0;this._delegate=n.initialize({options:{persistence:F2(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(XL),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?hi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){AF(this._delegate,e,n)}applyActionCode(e){return JF(this._delegate,e)}checkActionCode(e){return YC(this._delegate,e)}confirmPasswordReset(e,n){return XF(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Mn(this._delegate,eB(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return oB(this._delegate,e)}isSignInWithEmailLink(e){return rB(this._delegate,e)}async getRedirectResult(){rl(Xf(),this._delegate,"operation-not-supported-in-this-environment");const e=await b$(this._delegate,Qi);return e?Mn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){b2(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=fI(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=fI(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return nB(this._delegate,e,n)}sendPasswordResetEmail(e,n){return QF(this._delegate,e,n||void 0)}async setPersistence(e){P2(this._delegate,e);let n;switch(e){case zn.SESSION:n=yo;break;case zn.LOCAL:n=await Yn(mu)._isAvailable()?mu:Hp;break;case zn.NONE:n=wa;break;default:return ln("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Mn(this._delegate,WF(this._delegate))}signInWithCredential(e){return Mn(this._delegate,Gh(this._delegate,e))}signInWithCustomToken(e){return Mn(this._delegate,YF(this._delegate,e))}signInWithEmailAndPassword(e,n){return Mn(this._delegate,tB(this._delegate,e,n))}signInWithEmailLink(e,n){return Mn(this._delegate,iB(this._delegate,e,n))}signInWithPhoneNumber(e,n){return gg(this._delegate,ZB(this._delegate,e,n))}async signInWithPopup(e){return rl(Xf(),this._delegate,"operation-not-supported-in-this-environment"),Mn(this._delegate,a$(this._delegate,e,Qi))}async signInWithRedirect(e){return rl(Xf(),this._delegate,"operation-not-supported-in-this-environment"),await mg(this._delegate),m$(this._delegate,e,Qi)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return ZF(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}vg.Persistence=zn;function fI(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&hi.getOrCreate(o)),error:e,complete:n}}function F2(t,e){const n=N2(t,e);if(typeof self<"u"&&!n.includes(mu)&&n.push(mu),typeof window<"u")for(const r of[Hp,yo])n.includes(r)||n.push(r);return n.includes(wa)||n.push(wa),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(){this.providerId="phone",this._delegate=new wo(yk(Qn.auth()))}static credential(e,n){return wo.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}Zp.PHONE_SIGN_IN_METHOD=wo.PHONE_SIGN_IN_METHOD;Zp.PROVIDER_ID=wo.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=X;class $2{constructor(e,n,r=Qn.app()){var i;B2((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new XB(e,n,r.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="auth-compat";function j2(t){t.INTERNAL.registerComponent(new Xr(U2,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new vg(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Oo.EMAIL_SIGNIN,PASSWORD_RESET:Oo.PASSWORD_RESET,RECOVER_EMAIL:Oo.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Oo.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Oo.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Oo.VERIFY_EMAIL}},EmailAuthProvider:ks,FacebookAuthProvider:Mr,GithubAuthProvider:Lr,GoogleAuthProvider:Vr,OAuthProvider:ta,SAMLAuthProvider:Ad,PhoneAuthProvider:Zp,PhoneMultiFactorGenerator:hk,RecaptchaVerifier:$2,TwitterAuthProvider:Fr,Auth:vg,AuthCredential:La,Error:An}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(I2,_2)}j2(Qn);const q2={apiKey:"AIzaSyArnrHZPft_F6a-5sNUxQNViFddzshIlEo",authDomain:"msdatabase-e2d25.firebaseapp.com",projectId:"msdatabase-e2d25",storageBucket:"msdatabase-e2d25.firebasestorage.app",messagingSenderId:"525846107898",appId:"1:525846107898:web:41a6740fa50a0e84b91b43",measurementId:"G-0VV0VG0LT6"};Qn.apps.length||Qn.initializeApp(q2);const mn=Qn.firestore(),ey=Qn.auth(),z2=()=>{const t=new Qn.auth.GoogleAuthProvider;return ey.signInWithPopup(t).catch(e=>{throw console.error(":",e),e})},H2=()=>ey.signOut(),W2=t=>ey.onAuthStateChanged(t),Jf={loginWithGoogle:z2,logout:H2,onAuthStateChanged:W2},G2=t=>{if(!t)throw new Error("User ID is required to load initial data.");try{return Promise.all([mn.collection("accounts").get(),mn.collection("character_masters").get(),mn.collection("itemMasters").get(),mn.collectionGroup("owned_characters").get(),mn.collection("gachaMasters").get(),mn.collection("teams").where("userId","==",t).orderBy("createdAt","desc").get()])}catch(e){throw console.error("Database: Failed to load initial data.",e),e}},K2=async t=>{const[e,n,r,i,s,o]=await G2(t),a=e.docs.map(p=>{const y=p.data();return{id:p.id,name:y.Name||`${y.id}`,numericId:y.id,indexNumber:y.indexNumber}}).sort((p,y)=>(p.numericId||999)-(y.numericId||999)),l=n.docs.map(p=>({...p.data(),id:p.id})).sort((p,y)=>(p.indexNumber||999999)-(y.indexNumber||999999)),u=new Map(l.map(p=>[p.id,p])),c=r.docs.map(p=>({...p.data(),id:Number(p.data().id)})).sort((p,y)=>p.id-y.id),d=new Map(c.map(p=>[p.id,p.name])),h=s.docs.map(p=>p.data()).sort((p,y)=>p.id-y.id),f=o.docs.map(p=>({...p.data(),id:p.id})),m=new Map,g=new Map;return i.forEach(p=>{const y=p.data(),w=p.ref.parent.parent.id,b=`${y.characterMasterId}-${w}`;g.set(b,(g.get(b)||0)+1),m.has(w)||m.set(w,[]),m.get(w).push({...y,id:p.id})}),{accounts:a,characterMasters:l,characterMastersMap:u,itemMasters:c,itemMastersMap:d,gachaMasters:h,teams:f,ownedCharactersData:m,ownedCountMap:g}},Y2=(t,e)=>mn.collection("accounts").doc(t).collection("owned_characters").add(e),Q2=(t,e,n)=>mn.collection("accounts").doc(t).collection("owned_characters").doc(e).update({items:n}),X2=(t,e,n)=>{const r=mn.batch(),i=mn.collection("accounts").doc(t).collection("owned_characters").doc(e.id),s=mn.collection("accounts").doc(t).collection("owned_characters").doc(n.id);return r.update(i,{items:e.items}),r.update(s,{items:n.items}),r.commit()},J2=t=>mn.collection("character_masters").add(t),Z2=(t,e)=>mn.collection("character_masters").doc(t).update(e),eU=(t,e)=>t?mn.collection("teams").doc(t).update(e):mn.collection("teams").add(e),tU=t=>mn.collection("teams").doc(t).delete(),ms={loadAndProcessInitialData:K2,addOwnedCharacter:Y2,updateCharacterItems:Q2,moveCharacterItems:X2,addCharacterMaster:J2,updateCharacterMaster:Z2,saveTeam:eU,deleteTeam:tU},tt=typeof window<"u",ty=tt&&"IntersectionObserver"in window,nU=tt&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),rU=tt&&"matchMedia"in window&&typeof window.matchMedia=="function";function mI(t,e,n){iU(t,e),e.set(t,n)}function iU(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function gI(t,e,n){return t.set(bk(t,e),n),n}function ii(t,e){return t.get(bk(t,e))}function bk(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Ik(t,e,n){const r=e.length-1;if(r<0)return t===void 0?n:t;for(let i=0;i<r;i++){if(t==null)return n;t=t[e[i]]}return t==null||t[e[r]]===void 0?n:t[e[r]]}function lr(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime()||t!==Object(t)||e!==Object(e))return!1;const n=Object.keys(t);return n.length!==Object.keys(e).length?!1:n.every(r=>lr(t[r],e[r]))}function pg(t,e,n){return t==null||!e||typeof e!="string"?n:t[e]!==void 0?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),Ik(t,e.split("."),n))}function pr(t,e,n){if(e===!0)return t===void 0?n:t;if(e==null||typeof e=="boolean")return n;if(t!==Object(t)){if(typeof e!="function")return n;const i=e(t,n);return typeof i>"u"?n:i}if(typeof e=="string")return pg(t,e,n);if(Array.isArray(e))return Ik(t,e,n);if(typeof e!="function")return n;const r=e(t,n);return typeof r>"u"?n:r}function _k(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(n,r)=>e+r)}function Ae(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(t==null||t==="")return;const n=Number(t);return isNaN(n)?String(t):isFinite(n)?`${n}${e}`:void 0}function Nd(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function vI(t){let e;return t!==null&&typeof t=="object"&&((e=Object.getPrototypeOf(t))===Object.prototype||e===null)}function Sk(t){if(t&&"$el"in t){const e=t.$el;return(e==null?void 0:e.nodeType)===Node.TEXT_NODE?e.nextElementSibling:e}return t}function Tk(t){return Object.keys(t)}function Zf(t,e){return e.every(n=>t.hasOwnProperty(n))}function tc(t,e){const n={};for(const r of e)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function pI(t,e,n){const r=Object.create(null),i=Object.create(null);for(const s in t)e.some(o=>o instanceof RegExp?o.test(s):o===s)?r[s]=t[s]:i[s]=t[s];return[r,i]}function ti(t,e){const n={...t};return e.forEach(r=>delete n[r]),n}const Ek=/^on[^a-z]/,Ck=t=>Ek.test(t),sU=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function ny(t){const[e,n]=pI(t,[Ek]),r=ti(e,sU),[i,s]=pI(n,["class","style","id",/^data-/]);return Object.assign(i,e),Object.assign(s,r),[i,s]}function br(t){return t==null?[]:Array.isArray(t)?t:[t]}function oU(t,e){let n=0;const r=function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];clearTimeout(n),n=setTimeout(()=>t(...s),li(e))};return r.clear=()=>{clearTimeout(n)},r.immediate=t,r}function ur(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(e,Math.min(n,t))}function yI(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+n.repeat(Math.max(0,e-t.length))}function wI(t,e){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,e-t.length))+t}function aU(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let r=0;for(;r<t.length;)n.push(t.substr(r,e)),r+=e;return n}function yn(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r={};for(const i in t)r[i]=t[i];for(const i in e){const s=t[i],o=e[i];if(vI(s)&&vI(o)){r[i]=yn(s,o,n);continue}if(n&&Array.isArray(s)&&Array.isArray(o)){r[i]=n(s,o);continue}r[i]=o}return r}function kk(t){return t.map(e=>e.type===Ee?kk(e.children):e).flat()}function ro(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(ro.cache.has(t))return ro.cache.get(t);const e=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return ro.cache.set(t,e),e}ro.cache=new Map;function zo(t,e){if(!e||typeof e!="object")return[];if(Array.isArray(e))return e.map(n=>zo(t,n)).flat(1);if(e.suspense)return zo(t,e.ssContent);if(Array.isArray(e.children))return e.children.map(n=>zo(t,n)).flat(1);if(e.component){if(Object.getOwnPropertySymbols(e.component.provides).includes(t))return[e.component];if(e.component.subTree)return zo(t,e.component.subTree).flat(1)}return[]}var Mo=new WeakMap,Os=new WeakMap;class lU{constructor(e){mI(this,Mo,[]),mI(this,Os,0),this.size=e}get isFull(){return ii(Mo,this).length===this.size}push(e){ii(Mo,this)[ii(Os,this)]=e,gI(Os,this,(ii(Os,this)+1)%this.size)}values(){return ii(Mo,this).slice(ii(Os,this)).concat(ii(Mo,this).slice(0,ii(Os,this)))}clear(){ii(Mo,this).length=0,gI(Os,this,0)}}function ry(t){const e=wt({});dr(()=>{const r=t();for(const i in r)e[i]=r[i]},{flush:"sync"});const n={};for(const r in e)n[r]=V(()=>e[r]);return n}function Rd(t,e){return t.includes(e)}function Ak(t){return t[2].toLowerCase()+t.slice(3)}const $n=()=>[Function,Array];function bI(t,e){return e="on"+Ti(e),!!(t[e]||t[`${e}Once`]||t[`${e}Capture`]||t[`${e}OnceCapture`]||t[`${e}CaptureOnce`])}function xk(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(Array.isArray(t))for(const i of t)i(...n);else typeof t=="function"&&t(...n)}function Od(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(r=>`${r}${e?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...t.querySelectorAll(n)]}function Dk(t,e,n){let r,i=t.indexOf(document.activeElement);const s=e==="next"?1:-1;do i+=s,r=t[i];while((!r||r.offsetParent==null||!((n==null?void 0:n(r))??!0))&&i<t.length&&i>=0);return r}function Pl(t,e){var r,i,s,o;const n=Od(t);if(e==null)(t===document.activeElement||!t.contains(document.activeElement))&&((r=n[0])==null||r.focus());else if(e==="first")(i=n[0])==null||i.focus();else if(e==="last")(s=n.at(-1))==null||s.focus();else if(typeof e=="number")(o=n[e])==null||o.focus();else{const a=Dk(n,e);a?a.focus():Pl(t,e==="next"?"first":"last")}}function Md(t,e){if(!(tt&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${e})`)))return null;try{return!!t&&t.matches(e)}catch{return null}}function Pk(t){return t.some(e=>Fl(e)?e.type===gn?!1:e.type!==Ee||Pk(e.children):!0)?t:null}function uU(t,e){if(!tt||t===0)return e(),()=>{};const n=window.setTimeout(e,t);return()=>window.clearTimeout(n)}function cU(t,e){const n=t.clientX,r=t.clientY,i=e.getBoundingClientRect(),s=i.left,o=i.top,a=i.right,l=i.bottom;return n>=s&&n<=a&&r>=o&&r<=l}function yg(){const t=ge(),e=n=>{t.value=n};return Object.defineProperty(e,"value",{enumerable:!0,get:()=>t.value,set:n=>t.value=n}),Object.defineProperty(e,"el",{enumerable:!0,get:()=>Sk(t.value)}),e}function II(t){const e=t.key.length===1,n=!t.ctrlKey&&!t.metaKey&&!t.altKey;return e&&n}function wg(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="bigint"}function dU(t){const e={};for(const n in t)e[Pn(n)]=t[n];return e}function hU(t){const e=["checked","disabled"];return Object.fromEntries(Object.entries(t).filter(n=>{let[r,i]=n;return e.includes(r)?!!i:i!==void 0}))}function Vt(t,e){const n=Au();if(!n)throw new Error(`[Vuetify] ${t} must be called from inside a setup function`);return n}function ni(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const e=Vt(t).type;return ro((e==null?void 0:e.aliasName)||(e==null?void 0:e.name))}function fU(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vt("injectSelf");const{provides:n}=e;if(n&&t in n)return n[t]}const Ia=Symbol.for("vuetify:defaults");function mU(t){return te(t)}function iy(){const t=et(Ia);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function Ri(t,e){const n=iy(),r=te(t),i=x(()=>{if(li(e==null?void 0:e.disabled))return n.value;const o=li(e==null?void 0:e.scoped),a=li(e==null?void 0:e.reset),l=li(e==null?void 0:e.root);if(r.value==null&&!(o||a||l))return n.value;let u=yn(r.value,{prev:n.value});if(o)return u;if(a||l){const c=Number(a||1/0);for(let d=0;d<=c&&!(!u||!("prev"in u));d++)u=u.prev;return u&&typeof l=="string"&&l in u&&(u=yn(yn(u,{prev:u}),u[l])),u}return u.prev?yn(u.prev,u):u});return Yt(Ia,i),i}function gU(t,e){return t.props&&(typeof t.props[e]<"u"||typeof t.props[ro(e)]<"u")}function vU(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:iy();const r=Vt("useDefaults");if(e=e??r.type.name??r.type.__name,!e)throw new Error("[Vuetify] Could not determine component name");const i=x(()=>{var l;return(l=n.value)==null?void 0:l[t._as??e]}),s=new Proxy(t,{get(l,u){var f,m,g,p;const c=Reflect.get(l,u);if(u==="class"||u==="style")return[(f=i.value)==null?void 0:f[u],c].filter(y=>y!=null);if(gU(r.vnode,u))return c;const d=(m=i.value)==null?void 0:m[u];if(d!==void 0)return d;const h=(p=(g=n.value)==null?void 0:g.global)==null?void 0:p[u];return h!==void 0?h:c}}),o=ge();dr(()=>{if(i.value){const l=Object.entries(i.value).filter(u=>{let[c]=u;return c.startsWith(c[0].toUpperCase())});o.value=l.length?Object.fromEntries(l):void 0}else o.value=void 0});function a(){const l=fU(Ia,r);Yt(Ia,x(()=>o.value?yn((l==null?void 0:l.value)??{},o.value):l==null?void 0:l.value))}return{props:s,provideSubDefaults:a}}const Nk=["top","bottom"],pU=["start","end","left","right"];function bg(t,e){let[n,r]=t.split(" ");return r||(r=Rd(Nk,n)?"start":Rd(pU,n)?"top":"center"),{side:_I(n,e),align:_I(r,e)}}function _I(t,e){return t==="start"?e?"right":"left":t==="end"?e?"left":"right":t}function em(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function tm(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function SI(t){return{side:t.align,align:t.side}}function TI(t){return Rd(Nk,t.side)?"y":"x"}class Yr{constructor(e){let{x:n,y:r,width:i,height:s}=e;this.x=n,this.y=r,this.width=i,this.height=s}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function EI(t,e){return{x:{before:Math.max(0,e.left-t.left),after:Math.max(0,t.right-e.right)},y:{before:Math.max(0,e.top-t.top),after:Math.max(0,t.bottom-e.bottom)}}}function Rk(t){return Array.isArray(t)?new Yr({x:t[0],y:t[1],width:0,height:0}):t.getBoundingClientRect()}function yU(t){if(t===document.documentElement)return visualViewport?new Yr({x:visualViewport.scale>1?0:visualViewport.offsetLeft,y:visualViewport.scale>1?0:visualViewport.offsetTop,width:visualViewport.width*visualViewport.scale,height:visualViewport.height*visualViewport.scale}):new Yr({x:0,y:0,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight});{const e=t.getBoundingClientRect();return new Yr({x:e.x,y:e.y,width:t.clientWidth,height:t.clientHeight})}}function sy(t){const e=t.getBoundingClientRect(),n=getComputedStyle(t),r=n.transform;if(r){let i,s,o,a,l;if(r.startsWith("matrix3d("))i=r.slice(9,-1).split(/, /),s=Number(i[0]),o=Number(i[5]),a=Number(i[12]),l=Number(i[13]);else if(r.startsWith("matrix("))i=r.slice(7,-1).split(/, /),s=Number(i[0]),o=Number(i[3]),a=Number(i[4]),l=Number(i[5]);else return new Yr(e);const u=n.transformOrigin,c=e.x-a-(1-s)*parseFloat(u),d=e.y-l-(1-o)*parseFloat(u.slice(u.indexOf(" ")+1)),h=s?e.width/s:t.offsetWidth+1,f=o?e.height/o:t.offsetHeight+1;return new Yr({x:c,y:d,width:h,height:f})}else return new Yr(e)}function Qs(t,e,n){if(typeof t.animate>"u")return{finished:Promise.resolve()};let r;try{r=t.animate(e,n)}catch{return{finished:Promise.resolve()}}return typeof r.finished>"u"&&(r.finished=new Promise(i=>{r.onfinish=()=>{i(r)}})),r}const Wc=new WeakMap;function wU(t,e){Object.keys(e).forEach(n=>{if(Ck(n)){const r=Ak(n),i=Wc.get(t);if(e[n]==null)i==null||i.forEach(s=>{const[o,a]=s;o===r&&(t.removeEventListener(r,a),i.delete(s))});else if(!i||![...i].some(s=>s[0]===r&&s[1]===e[n])){t.addEventListener(r,e[n]);const s=i||new Set;s.add([r,e[n]]),Wc.has(t)||Wc.set(t,s)}}else e[n]==null?t.removeAttribute(n):t.setAttribute(n,e[n])})}function bU(t,e){Object.keys(e).forEach(n=>{if(Ck(n)){const r=Ak(n),i=Wc.get(t);i==null||i.forEach(s=>{const[o,a]=s;o===r&&(t.removeEventListener(r,a),i.delete(s))})}else t.removeAttribute(n)})}const Vo=2.4,CI=.2126729,kI=.7151522,AI=.072175,IU=.55,_U=.58,SU=.57,TU=.62,kc=.03,xI=1.45,EU=5e-4,CU=1.25,kU=1.25,DI=.078,PI=12.82051282051282,Ac=.06,NI=.001;function RI(t,e){const n=(t.r/255)**Vo,r=(t.g/255)**Vo,i=(t.b/255)**Vo,s=(e.r/255)**Vo,o=(e.g/255)**Vo,a=(e.b/255)**Vo;let l=n*CI+r*kI+i*AI,u=s*CI+o*kI+a*AI;if(l<=kc&&(l+=(kc-l)**xI),u<=kc&&(u+=(kc-u)**xI),Math.abs(u-l)<EU)return 0;let c;if(u>l){const d=(u**IU-l**_U)*CU;c=d<NI?0:d<DI?d-d*PI*Ac:d-Ac}else{const d=(u**TU-l**SU)*kU;c=d>-NI?0:d>-DI?d-d*PI*Ac:d+Ac}return c*100}function Ok(t,e){e=Array.isArray(e)?e.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${e.at(-1)}'`:`'${e}'`}const Vd=.20689655172413793,AU=t=>t>Vd**3?Math.cbrt(t):t/(3*Vd**2)+4/29,xU=t=>t>Vd?t**3:3*Vd**2*(t-4/29);function Mk(t){const e=AU,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function Vk(t){const e=xU,n=(t[0]+16)/116;return[e(n+t[1]/500)*.95047,e(n),e(n-t[2]/200)*1.08883]}const DU=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],PU=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,NU=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],RU=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function Lk(t){const e=Array(3),n=PU,r=DU;for(let i=0;i<3;++i)e[i]=Math.round(ur(n(r[i][0]*t[0]+r[i][1]*t[1]+r[i][2]*t[2]))*255);return{r:e[0],g:e[1],b:e[2]}}function oy(t){let{r:e,g:n,b:r}=t;const i=[0,0,0],s=RU,o=NU;e=s(e/255),n=s(n/255),r=s(r/255);for(let a=0;a<3;++a)i[a]=o[a][0]*e+o[a][1]*n+o[a][2]*r;return i}function Ig(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function OU(t){return Ig(t)&&!/^((rgb|hsl)a?\()?var\(--/.test(t)}const OI=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,MU={rgb:(t,e,n,r)=>({r:t,g:e,b:n,a:r}),rgba:(t,e,n,r)=>({r:t,g:e,b:n,a:r}),hsl:(t,e,n,r)=>MI({h:t,s:e,l:n,a:r}),hsla:(t,e,n,r)=>MI({h:t,s:e,l:n,a:r}),hsv:(t,e,n,r)=>gu({h:t,s:e,v:n,a:r}),hsva:(t,e,n,r)=>gu({h:t,s:e,v:n,a:r})};function zr(t){if(typeof t=="number")return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&OI.test(t)){const{groups:e}=t.match(OI),{fn:n,values:r}=e,i=r.split(/,\s*|\s*\/\s*|\s+/).map((s,o)=>s.endsWith("%")||o>0&&o<3&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(s)/100:parseFloat(s));return MU[n](...i)}else if(typeof t=="string"){let e=t.startsWith("#")?t.slice(1):t;return[3,4].includes(e.length)?e=e.split("").map(n=>n+n).join(""):[6,8].includes(e.length),LU(e)}else if(typeof t=="object"){if(Zf(t,["r","g","b"]))return t;if(Zf(t,["h","s","l"]))return gu(Fk(t));if(Zf(t,["h","s","v"]))return gu(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function gu(t){const{h:e,s:n,v:r,a:i}=t,s=a=>{const l=(a+e/60)%6;return r-r*n*Math.max(Math.min(l,4-l,1),0)},o=[s(5),s(3),s(1)].map(a=>Math.round(a*255));return{r:o[0],g:o[1],b:o[2],a:i}}function MI(t){return gu(Fk(t))}function Fk(t){const{h:e,s:n,l:r,a:i}=t,s=r+n*Math.min(r,1-r),o=s===0?0:2-2*r/s;return{h:e,s:o,v:s,a:i}}function xc(t){const e=Math.round(t).toString(16);return("00".substr(0,2-e.length)+e).toUpperCase()}function VU(t){let{r:e,g:n,b:r,a:i}=t;return`#${[xc(e),xc(n),xc(r),i!==void 0?xc(Math.round(i*255)):""].join("")}`}function LU(t){t=FU(t);let[e,n,r,i]=aU(t,2).map(s=>parseInt(s,16));return i=i===void 0?i:i/255,{r:e,g:n,b:r,a:i}}function FU(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(e=>e+e).join("")),t.length!==6&&(t=yI(yI(t,6),8,"F")),t}function BU(t,e){const n=Mk(oy(t));return n[0]=n[0]+e*10,Lk(Vk(n))}function $U(t,e){const n=Mk(oy(t));return n[0]=n[0]-e*10,Lk(Vk(n))}function UU(t){const e=zr(t);return oy(e)[1]}function Bk(t){const e=Math.abs(RI(zr(0),zr(t)));return Math.abs(RI(zr(16777215),zr(t)))>Math.min(e,50)?"#fff":"#000"}function G(t,e){return n=>Object.keys(t).reduce((r,i)=>{const o=typeof t[i]=="object"&&t[i]!=null&&!Array.isArray(t[i])?t[i]:{type:t[i]};return n&&i in n?r[i]={...o,default:n[i]}:r[i]=o,e&&!r[i].source&&(r[i].source=e),r},{})}const Pe=G({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Ba(t){if(t._setup=t._setup??t.setup,!t.name)return t;if(t._setup){t.props=G(t.props??{},t.name)();const e=Object.keys(t.props).filter(n=>n!=="class"&&n!=="style");t.filterProps=function(r){return tc(r,e)},t.props._as=String,t.setup=function(r,i){const s=iy();if(!s.value)return t._setup(r,i);const{props:o,provideSubDefaults:a}=vU(r,r._as??t.name,s),l=t._setup(o,i);return a(),l}}return t}function me(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e=>(t?Ba:w1)(e)}function Jh(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return me()({name:n??Ti(Pn(t.replace(/__/g,"-"))),props:{tag:{type:String,default:e},...Pe()},setup(r,i){let{slots:s}=i;return()=>{var o;return ws(r.tag,{class:[t,r.class],style:r.style},(o=s.default)==null?void 0:o.call(s))}}})}function $k(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}const vu="cubic-bezier(0.4, 0, 0.2, 1)",jU="cubic-bezier(0.0, 0, 0.2, 1)",qU="cubic-bezier(0.4, 0, 1, 1)",zU={linear:t=>t,easeInQuad:t=>t**2,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t**2:-1+(4-2*t)*t,easeInCubic:t=>t**3,easeOutCubic:t=>--t**3+1,easeInOutCubic:t=>t<.5?4*t**3:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t**4,easeOutQuart:t=>1- --t**4,easeInOutQuart:t=>t<.5?8*t**4:1-8*--t**4,easeInQuint:t=>t**5,easeOutQuint:t=>1+--t**5,easeInOutQuint:t=>t<.5?16*t**5:1+16*--t**5};function Uk(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;t;){if(e?HU(t):ay(t))return t;t=t.parentElement}return document.scrollingElement}function Ld(t,e){const n=[];if(e&&t&&!e.contains(t))return n;for(;t&&(ay(t)&&n.push(t),t!==e);)t=t.parentElement;return n}function ay(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t),n=e.overflowY==="scroll"||e.overflowY==="auto"&&t.scrollHeight>t.clientHeight,r=e.overflowX==="scroll"||e.overflowX==="auto"&&t.scrollWidth>t.clientWidth;return n||r}function HU(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["scroll","auto"].includes(e.overflowY)}function WU(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function be(t){const e=Vt("useRender");e.render=t}const GU=G({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),mt=me(!1)({name:"VDefaultsProvider",props:GU(),setup(t,e){let{slots:n}=e;const{defaults:r,disabled:i,reset:s,root:o,scoped:a}=H_(t);return Ri(r,{reset:s,root:o,scoped:a,disabled:i}),()=>{var l;return(l=n.default)==null?void 0:l.call(n)}}});function ly(t){return ry(()=>{const e=Qr(t),n=[],r={};if(e.background)if(Ig(e.background)){if(r.backgroundColor=e.background,!e.text&&OU(e.background)){const i=zr(e.background);if(i.a==null||i.a===1){const s=Bk(i);r.color=s,r.caretColor=s}}}else n.push(`bg-${e.background}`);return e.text&&(Ig(e.text)?(r.color=e.text,r.caretColor=e.text):n.push(`text-${e.text}`)),{colorClasses:n,colorStyles:r}})}function Er(t){const{colorClasses:e,colorStyles:n}=ly(()=>({text:Qr(t)}));return{textColorClasses:e,textColorStyles:n}}function cr(t){const{colorClasses:e,colorStyles:n}=ly(()=>({background:Qr(t)}));return{backgroundColorClasses:e,backgroundColorStyles:n}}const KU={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload",color:"mdi-palette",command:"mdi-apple-keyboard-command",ctrl:"mdi-apple-keyboard-control",space:"mdi-keyboard-space",shift:"mdi-apple-keyboard-shift",alt:"mdi-apple-keyboard-option",enter:"mdi-keyboard-return",arrowup:"mdi-arrow-up",arrowdown:"mdi-arrow-down",arrowleft:"mdi-arrow-left",arrowright:"mdi-arrow-right",backspace:"mdi-backspace",play:"mdi-play",pause:"mdi-pause",fullscreen:"mdi-fullscreen",fullscreenExit:"mdi-fullscreen-exit",volumeHigh:"mdi-volume-high",volumeMedium:"mdi-volume-medium",volumeLow:"mdi-volume-low",volumeOff:"mdi-volume-variant-off"},YU={component:t=>ws(qk,{...t,class:"mdi"})},Ge=[String,Function,Object,Array],_g=Symbol.for("vuetify:icons"),Zh=G({icon:{type:Ge},tag:{type:[String,Object,Function],required:!0}},"icon"),VI=me()({name:"VComponentIcon",props:Zh(),setup(t,e){let{slots:n}=e;return()=>{const r=t.icon;return v(t.tag,null,{default:()=>{var i;return[t.icon?v(r,null,null):(i=n.default)==null?void 0:i.call(n)]}})}}}),jk=Ba({name:"VSvgIcon",inheritAttrs:!1,props:Zh(),setup(t,e){let{attrs:n}=e;return()=>v(t.tag,Se(n,{style:null}),{default:()=>[k("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(r=>Array.isArray(r)?k("path",{d:r[0],"fill-opacity":r[1]},null):k("path",{d:r},null)):k("path",{d:t.icon},null)])]})}});Ba({name:"VLigatureIcon",props:Zh(),setup(t){return()=>v(t.tag,null,{default:()=>[t.icon]})}});const qk=Ba({name:"VClassIcon",props:Zh(),setup(t){return()=>v(t.tag,{class:ce(t.icon)},null)}});function QU(){return{svg:{component:jk},class:{component:qk}}}function XU(t){const e=QU(),n=(t==null?void 0:t.defaultSet)??"mdi";return n==="mdi"&&!e.mdi&&(e.mdi=YU),yn({defaultSet:n,sets:e,aliases:{...KU,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},t)}const JU=t=>{const e=et(_g);if(!e)throw new Error("Missing Vuetify Icons provide!");return{iconData:x(()=>{var l;const r=Qr(t);if(!r)return{component:VI};let i=r;if(typeof i=="string"&&(i=i.trim(),i.startsWith("$")&&(i=(l=e.aliases)==null?void 0:l[i.slice(1)])),Array.isArray(i))return{component:jk,icon:i};if(typeof i!="string")return{component:VI,icon:i};const s=Object.keys(e.sets).find(u=>typeof i=="string"&&i.startsWith(`${u}:`)),o=s?i.slice(s.length+1):i;return{component:e.sets[s??e.defaultSet].component,icon:o}})}},ZU=["x-small","small","default","large","x-large"],nc=G({size:{type:[String,Number],default:"default"}},"size");function rc(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ni();return ry(()=>{const n=t.size;let r,i;return Rd(ZU,n)?r=`${e}--size-${n}`:n&&(i={width:Ae(n),height:Ae(n)}),{sizeClasses:r,sizeStyles:i}})}const st=G({tag:{type:[String,Object,Function],default:"div"}},"tag"),pu=Symbol.for("vuetify:theme"),Et=G({theme:String},"theme");function LI(){return{defaultTheme:"light",prefix:"v-",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#EEEEEE","theme-on-kbd":"#000000","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#c8c8c8","on-surface-variant":"#000000",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#424242","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}},stylesheetId:"vuetify-theme-stylesheet",scoped:!1,unimportant:!1,utilities:!0}}function e4(){var r,i;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:LI();const e=LI();if(!t)return{...e,isDisabled:!0};const n={};for(const[s,o]of Object.entries(t.themes??{})){const a=o.dark||s==="dark"?(r=e.themes)==null?void 0:r.dark:(i=e.themes)==null?void 0:i.light;n[s]=yn(a,o)}return yn(e,{...t,themes:n})}function Ms(t,e,n,r){t.push(`${i4(e,r)} {
`,...n.map(i=>`  ${i};
`),`}
`)}function FI(t,e){const n=t.dark?2:1,r=t.dark?1:2,i=[];for(const[s,o]of Object.entries(t.colors)){const a=zr(o);i.push(`--${e}theme-${s}: ${a.r},${a.g},${a.b}`),s.startsWith("on-")||i.push(`--${e}theme-${s}-overlay-multiplier: ${UU(o)>.18?n:r}`)}for(const[s,o]of Object.entries(t.variables)){const a=typeof o=="string"&&o.startsWith("#")?zr(o):void 0,l=a?`${a.r}, ${a.g}, ${a.b}`:void 0;i.push(`--${e}${s}: ${l??o}`)}return i}function t4(t,e,n){const r={};if(n)for(const i of["lighten","darken"]){const s=i==="lighten"?BU:$U;for(const o of _k(n[i],1))r[`${t}-${i}-${o}`]=VU(s(zr(e),o))}return r}function n4(t,e){if(!e)return{};let n={};for(const r of e.colors){const i=t[r];i&&(n={...n,...t4(r,i,e)})}return n}function r4(t){const e={};for(const n of Object.keys(t)){if(n.startsWith("on-")||t[`on-${n}`])continue;const r=`on-${n}`,i=zr(t[n]);e[r]=Bk(i)}return e}function i4(t,e){if(!e)return t;const n=`:where(${e})`;return t===":root"?n:`${n} ${t}`}function s4(t,e,n){const r=o4(t,e);r&&(r.innerHTML=n)}function o4(t,e){if(!tt)return null;let n=document.getElementById(t);return n||(n=document.createElement("style"),n.id=t,n.type="text/css",e&&n.setAttribute("nonce",e),document.head.appendChild(n)),n}function a4(t){const e=e4(t),n=ge(e.defaultTheme),r=te(e.themes),i=ge("light"),s=x({get(){return n.value==="system"?i.value:n.value},set(w){n.value=w}}),o=x(()=>{const w={};for(const[T,b]of Object.entries(r.value)){const I={...b.colors,...n4(b.colors,e.variations)};w[T]={...b,colors:{...I,...r4(I)}}}return w}),a=V(()=>o.value[s.value]),l=V(()=>n.value==="system"),u=x(()=>{var I;const w=[],T=e.unimportant?"":" !important",b=e.scoped?e.prefix:"";(I=a.value)!=null&&I.dark&&Ms(w,":root",["color-scheme: dark"],e.scope),Ms(w,":root",FI(a.value,e.prefix),e.scope);for(const[S,C]of Object.entries(o.value))Ms(w,`.${e.prefix}theme--${S}`,[`color-scheme: ${C.dark?"dark":"normal"}`,...FI(C,e.prefix)],e.scope);if(e.utilities){const S=[],C=[],D=new Set(Object.values(o.value).flatMap(P=>Object.keys(P.colors)));for(const P of D)P.startsWith("on-")?Ms(C,`.${P}`,[`color: rgb(var(--${e.prefix}theme-${P}))${T}`],e.scope):(Ms(S,`.${b}bg-${P}`,[`--${e.prefix}theme-overlay-multiplier: var(--${e.prefix}theme-${P}-overlay-multiplier)`,`background-color: rgb(var(--${e.prefix}theme-${P}))${T}`,`color: rgb(var(--${e.prefix}theme-on-${P}))${T}`],e.scope),Ms(C,`.${b}text-${P}`,[`color: rgb(var(--${e.prefix}theme-${P}))${T}`],e.scope),Ms(C,`.${b}border-${P}`,[`--${e.prefix}border-color: var(--${e.prefix}theme-${P})`],e.scope));w.push(...S,...C)}return w.map((S,C)=>C===0?S:`    ${S}`).join("")}),c=V(()=>e.isDisabled?void 0:`${e.prefix}theme--${s.value}`),d=V(()=>Object.keys(o.value));if(rU){let T=function(){i.value=w.matches?"dark":"light"};var y=T;const w=window.matchMedia("(prefers-color-scheme: dark)");T(),w.addEventListener("change",T,{passive:!0}),k_()&&cn(()=>{w.removeEventListener("change",T)})}function h(w){if(e.isDisabled)return;const T=w._context.provides.usehead;if(T){let S=function(){return{style:[{textContent:u.value,id:e.stylesheetId,nonce:e.cspNonce||!1}]}};var b=S;if(T.push){const C=T.push(S);tt&&Ie(u,()=>{C.patch(S)})}else tt?(T.addHeadObjs(V(S)),dr(()=>T.updateDOM())):T.addHeadObjs(S())}else{let S=function(){s4(e.stylesheetId,e.cspNonce,u.value)};var I=S;tt?Ie(u,S,{immediate:!0}):S()}}function f(w){w!=="system"&&!d.value.includes(w)||(s.value=w)}function m(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.value;const T=w.indexOf(s.value),b=T===-1?0:(T+1)%w.length;f(w[b])}function g(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["light","dark"];m(w)}const p=new Proxy(s,{get(w,T){return Reflect.get(w,T)},set(w,T,b){return T==="value"&&Ok(`theme.global.name.value = ${b}`,`theme.change('${b}')`),Reflect.set(w,T,b)}});return{install:h,change:f,cycle:m,toggle:g,isDisabled:e.isDisabled,isSystem:l,name:s,themes:r,current:a,computedThemes:o,prefix:e.prefix,themeClasses:c,styles:u,global:{name:p,current:a}}}function $t(t){Vt("provideTheme");const e=et(pu,null);if(!e)throw new Error("Could not find Vuetify theme injection");const n=V(()=>t.theme??e.name.value),r=V(()=>e.themes.value[n.value]),i=V(()=>e.isDisabled?void 0:`${e.prefix}theme--${n.value}`),s={...e,name:n,current:r,themeClasses:i};return Yt(pu,s),s}function l4(){Vt("useTheme");const t=et(pu,null);if(!t)throw new Error("Could not find Vuetify theme injection");return t}const u4=G({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:Ge,opacity:[String,Number],...Pe(),...nc(),...st({tag:"i"}),...Et()},"VIcon"),Nt=me()({name:"VIcon",props:u4(),setup(t,e){let{attrs:n,slots:r}=e;const i=ge(),{themeClasses:s}=l4(),{iconData:o}=JU(()=>i.value||t.icon),{sizeClasses:a}=rc(t),{textColorClasses:l,textColorStyles:u}=Er(()=>t.color);return be(()=>{var h,f;const c=(h=r.default)==null?void 0:h.call(r);c&&(i.value=(f=kk(c).filter(m=>m.type===ku&&m.children&&typeof m.children=="string")[0])==null?void 0:f.children);const d=!!(n.onClick||n.onClickOnce);return v(o.value.component,{tag:t.tag,icon:o.value.icon,class:ce(["v-icon","notranslate",s.value,a.value,l.value,{"v-icon--clickable":d,"v-icon--disabled":t.disabled,"v-icon--start":t.start,"v-icon--end":t.end},t.class]),style:xe([{"--v-icon-opacity":t.opacity},a.value?void 0:{fontSize:Ae(t.size),height:Ae(t.size),width:Ae(t.size)},u.value,t.style]),role:d?"button":void 0,"aria-hidden":!d,tabindex:d?t.disabled?-1:0:void 0},{default:()=>[c]})}),{}}}),fr=G({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function mr(t){return{dimensionStyles:x(()=>{const n={},r=Ae(t.height),i=Ae(t.maxHeight),s=Ae(t.maxWidth),o=Ae(t.minHeight),a=Ae(t.minWidth),l=Ae(t.width);return r!=null&&(n.height=r),i!=null&&(n.maxHeight=i),s!=null&&(n.maxWidth=s),o!=null&&(n.minHeight=o),a!=null&&(n.minWidth=a),l!=null&&(n.width=l),n})}}function c4(t){return{aspectStyles:x(()=>{const e=Number(t.aspectRatio);return e?{paddingBottom:String(1/e*100)+"%"}:void 0})}}const zk=G({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...Pe(),...fr()},"VResponsive"),BI=me()({name:"VResponsive",props:zk(),setup(t,e){let{slots:n}=e;const{aspectStyles:r}=c4(t),{dimensionStyles:i}=mr(t);return be(()=>{var s;return k("div",{class:ce(["v-responsive",{"v-responsive--inline":t.inline},t.class]),style:xe([i.value,t.style])},[k("div",{class:"v-responsive__sizer",style:xe(r.value)},null),(s=n.additional)==null?void 0:s.call(n),n.default&&k("div",{class:ce(["v-responsive__content",t.contentClass])},[n.default()])])}),{}}}),er=G({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function tr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ni();return{roundedClasses:x(()=>{const r=Rt(t)?t.value:t.rounded,i=Rt(t)?t.value:t.tile,s=[];if(r===!0||r==="")s.push(`${e}--rounded`);else if(typeof r=="string"||r===0)for(const o of String(r).split(" "))s.push(`rounded-${o}`);else(i||r===!1)&&s.push("rounded-0");return s})}}const ic=G({transition:{type:null,default:"fade-transition",validator:t=>t!==!0}},"transition"),fi=(t,e)=>{let{slots:n}=e;const{transition:r,disabled:i,group:s,...o}=t,{component:a=s?iv:oo,...l}=Nd(r)?r:{};let u;return Nd(r)?u=Se(l,hU({disabled:i,group:s}),o):u=Se({name:i||!r?"":r},o),ws(a,u,n)};function d4(t,e){if(!ty)return;const n=e.modifiers||{},r=e.value,{handler:i,options:s}=typeof r=="object"?r:{handler:r,options:{}},o=new IntersectionObserver(function(){var d;let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const u=(d=t._observe)==null?void 0:d[e.instance.$.uid];if(!u)return;const c=a.some(h=>h.isIntersecting);i&&(!n.quiet||u.init)&&(!n.once||c||u.init)&&i(c,a,l),c&&n.once?Hk(t,e):u.init=!0},s);t._observe=Object(t._observe),t._observe[e.instance.$.uid]={init:!1,observer:o},o.observe(t)}function Hk(t,e){var r;const n=(r=t._observe)==null?void 0:r[e.instance.$.uid];n&&(n.observer.unobserve(t),delete t._observe[e.instance.$.uid])}const Fd={mounted:d4,unmounted:Hk},h4=G({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...zk(),...Pe(),...er(),...ic()},"VImg"),ef=me()({name:"VImg",directives:{vIntersect:Fd},props:h4(),emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,e){let{emit:n,slots:r}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=cr(()=>t.color),{roundedClasses:o}=tr(t),a=Vt("VImg"),l=ge(""),u=te(),c=ge(t.eager?"loading":"idle"),d=ge(),h=ge(),f=x(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),m=x(()=>f.value.aspect||d.value/h.value||0);Ie(()=>t.src,()=>{g(c.value!=="idle")}),Ie(m,(A,O)=>{!A&&O&&u.value&&b(u.value)}),Cu(()=>g());function g(A){if(!(t.eager&&A)&&!(ty&&!A&&!t.eager)){if(c.value="loading",f.value.lazySrc){const O=new Image;O.src=f.value.lazySrc,b(O,null)}f.value.src&&rn(()=>{var O;n("loadstart",((O=u.value)==null?void 0:O.currentSrc)||f.value.src),setTimeout(()=>{var j;if(!a.isUnmounted)if((j=u.value)!=null&&j.complete){if(u.value.naturalWidth||y(),c.value==="error")return;m.value||b(u.value,null),c.value==="loading"&&p()}else m.value||b(u.value),w()})})}}function p(){var A;a.isUnmounted||(w(),b(u.value),c.value="loaded",n("load",((A=u.value)==null?void 0:A.currentSrc)||f.value.src))}function y(){var A;a.isUnmounted||(c.value="error",n("error",((A=u.value)==null?void 0:A.currentSrc)||f.value.src))}function w(){const A=u.value;A&&(l.value=A.currentSrc||A.src)}let T=-1;Zn(()=>{clearTimeout(T)});function b(A){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const j=()=>{if(clearTimeout(T),a.isUnmounted)return;const{naturalHeight:J,naturalWidth:ee}=A;J||ee?(d.value=ee,h.value=J):!A.complete&&c.value==="loading"&&O!=null?T=window.setTimeout(j,O):(A.currentSrc.endsWith(".svg")||A.currentSrc.startsWith("data:image/svg+xml"))&&(d.value=1,h.value=1)};j()}const I=V(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),S=()=>{var j;if(!f.value.src||c.value==="idle")return null;const A=k("img",{class:ce(["v-img__img",I.value]),style:{objectPosition:t.position},crossorigin:t.crossorigin,src:f.value.src,srcset:f.value.srcset,alt:t.alt,referrerpolicy:t.referrerpolicy,draggable:t.draggable,sizes:t.sizes,ref:u,onLoad:p,onError:y},null),O=(j=r.sources)==null?void 0:j.call(r);return v(fi,{transition:t.transition,appear:!0},{default:()=>[yt(O?k("picture",{class:"v-img__picture"},[O,A]):A,[[Cn,c.value==="loaded"]])]})},C=()=>v(fi,{transition:t.transition},{default:()=>[f.value.lazySrc&&c.value!=="loaded"&&k("img",{class:ce(["v-img__img","v-img__img--preload",I.value]),style:{objectPosition:t.position},crossorigin:t.crossorigin,src:f.value.lazySrc,alt:t.alt,referrerpolicy:t.referrerpolicy,draggable:t.draggable},null)]}),D=()=>r.placeholder?v(fi,{transition:t.transition,appear:!0},{default:()=>[(c.value==="loading"||c.value==="error"&&!r.error)&&k("div",{class:"v-img__placeholder"},[r.placeholder()])]}):null,P=()=>r.error?v(fi,{transition:t.transition,appear:!0},{default:()=>[c.value==="error"&&k("div",{class:"v-img__error"},[r.error()])]}):null,$=()=>t.gradient?k("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,q=ge(!1);{const A=Ie(m,O=>{O&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{q.value=!0})}),A())})}return be(()=>{const A=BI.filterProps(t);return yt(v(BI,Se({class:["v-img",{"v-img--absolute":t.absolute,"v-img--booting":!q.value},i.value,o.value,t.class],style:[{width:Ae(t.width==="auto"?d.value:t.width)},s.value,t.style]},A,{aspectRatio:m.value,"aria-label":t.alt,role:t.alt?"img":void 0}),{additional:()=>k(Ee,null,[v(S,null,null),v(C,null,null),v($,null,null),v(D,null,null),v(P,null,null)]),default:r.default}),[[Fd,{handler:g,options:t.options},null,{once:!0}]])}),{currentSrc:l,image:u,state:c,naturalWidth:d,naturalHeight:h}}}),As=G({border:[Boolean,Number,String]},"border");function xs(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ni();return{borderClasses:x(()=>{const r=t.border;return r===!0||r===""?`${e}--border`:typeof r=="string"||r===0?String(r).split(" ").map(i=>`border-${i}`):[]})}}const f4=[null,"default","comfortable","compact"],nr=G({density:{type:String,default:"default",validator:t=>f4.includes(t)}},"density");function gr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ni();return{densityClasses:V(()=>`${e}--density-${t.density}`)}}const m4=["elevated","flat","tonal","outlined","text","plain"];function $a(t,e){return k(Ee,null,[t&&k("span",{key:"overlay",class:ce(`${e}__overlay`)},null),k("span",{key:"underlay",class:ce(`${e}__underlay`)},null)])}const Oi=G({color:String,variant:{type:String,default:"elevated",validator:t=>m4.includes(t)}},"variant");function Ua(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ni();const n=V(()=>{const{variant:s}=Qr(t);return`${e}--variant-${s}`}),{colorClasses:r,colorStyles:i}=ly(()=>{const{variant:s,color:o}=Qr(t);return{[["elevated","flat"].includes(s)?"background":"text"]:o}});return{colorClasses:r,colorStyles:i,variantClasses:n}}const g4=G({start:Boolean,end:Boolean,icon:Ge,image:String,text:String,...As(),...Pe(),...nr(),...er(),...nc(),...st(),...Et(),...Oi({variant:"flat"})},"VAvatar"),gs=me()({name:"VAvatar",props:g4(),setup(t,e){let{slots:n}=e;const{themeClasses:r}=$t(t),{borderClasses:i}=xs(t),{colorClasses:s,colorStyles:o,variantClasses:a}=Ua(t),{densityClasses:l}=gr(t),{roundedClasses:u}=tr(t),{sizeClasses:c,sizeStyles:d}=rc(t);return be(()=>v(t.tag,{class:ce(["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},r.value,i.value,s.value,l.value,u.value,c.value,a.value,t.class]),style:xe([o.value,d.value,t.style])},{default:()=>[n.default?v(mt,{key:"content-defaults",defaults:{VImg:{cover:!0,src:t.image},VIcon:{icon:t.icon}}},{default:()=>[n.default()]}):t.image?v(ef,{key:"image",src:t.image,alt:"",cover:!0},null):t.icon?v(Nt,{key:"icon",icon:t.icon},null):t.text,$a(!1,"v-avatar")]})),{}}}),Mi=G({elevation:{type:[Number,String],validator(t){const e=parseInt(t);return!isNaN(e)&&e>=0&&e<=24}}},"elevation");function Vi(t){return{elevationClasses:V(()=>{const n=Rt(t)?t.value:t.elevation;return n==null?[]:[`elevation-${n}`]})}}const Wk=G({baseColor:String,divided:Boolean,direction:{type:String,default:"horizontal"},...As(),...Pe(),...nr(),...Mi(),...er(),...st(),...Et(),...Oi()},"VBtnGroup"),$I=me()({name:"VBtnGroup",props:Wk(),setup(t,e){let{slots:n}=e;const{themeClasses:r}=$t(t),{densityClasses:i}=gr(t),{borderClasses:s}=xs(t),{elevationClasses:o}=Vi(t),{roundedClasses:a}=tr(t);Ri({VBtn:{height:V(()=>t.direction==="horizontal"?"auto":null),baseColor:V(()=>t.baseColor),color:V(()=>t.color),density:V(()=>t.density),flat:!0,variant:V(()=>t.variant)}}),be(()=>v(t.tag,{class:ce(["v-btn-group",`v-btn-group--${t.direction}`,{"v-btn-group--divided":t.divided},r.value,s.value,i.value,o.value,a.value,t.class]),style:xe(t.style)},n))}});function vs(t,e){let n;function r(){n=Nl(),n.run(()=>e.length?e(()=>{n==null||n.stop(),r()}):e())}Ie(t,i=>{i&&!n?r():i||(n==null||n.stop(),n=void 0)},{immediate:!0}),cn(()=>{n==null||n.stop()})}function _t(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:d=>d,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:d=>d;const s=Vt("useProxiedModel"),o=te(t[e]!==void 0?t[e]:n),a=ro(e),u=x(a!==e?()=>{var d,h,f,m;return t[e],!!(((d=s.vnode.props)!=null&&d.hasOwnProperty(e)||(h=s.vnode.props)!=null&&h.hasOwnProperty(a))&&((f=s.vnode.props)!=null&&f.hasOwnProperty(`onUpdate:${e}`)||(m=s.vnode.props)!=null&&m.hasOwnProperty(`onUpdate:${a}`)))}:()=>{var d,h;return t[e],!!((d=s.vnode.props)!=null&&d.hasOwnProperty(e)&&((h=s.vnode.props)!=null&&h.hasOwnProperty(`onUpdate:${e}`)))});vs(()=>!u.value,()=>{Ie(()=>t[e],d=>{o.value=d})});const c=x({get(){const d=t[e];return r(u.value?d:o.value)},set(d){const h=i(d),f=ke(u.value?t[e]:o.value);f===h||r(f)===d||(o.value=h,s==null||s.emit(`update:${e}`,h))}});return Object.defineProperty(c,"externalValue",{get:()=>u.value?t[e]:o.value}),c}const tf=G({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),nf=G({value:null,disabled:Boolean,selectedClass:String},"group-item");function rf(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=Vt("useGroupItem");if(!r)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const i=Ei();Yt(Symbol.for(`${e.description}:id`),i);const s=et(e,null);if(!s){if(!n)return s;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${e.description}`)}const o=V(()=>t.value),a=x(()=>!!(s.disabled.value||t.disabled));s.register({id:i,value:o,disabled:a},r),Zn(()=>{s.unregister(i)});const l=x(()=>s.isSelected(i)),u=x(()=>s.items.value[0].id===i),c=x(()=>s.items.value[s.items.value.length-1].id===i),d=x(()=>l.value&&[s.selectedClass.value,t.selectedClass]);return Ie(l,h=>{r.emit("group:selected",{value:h})},{flush:"sync"}),{id:i,isSelected:l,isFirst:u,isLast:c,toggle:()=>s.select(i,!l.value),select:h=>s.select(i,h),selectedClass:d,value:o,disabled:a,group:s}}function sc(t,e){let n=!1;const r=wt([]),i=_t(t,"modelValue",[],h=>h==null?[]:Gk(r,br(h)),h=>{const f=p4(r,h);return t.multiple?f:f[0]}),s=Vt("useGroup");function o(h,f){const m=h,g=Symbol.for(`${e.description}:id`),y=zo(g,s==null?void 0:s.vnode).indexOf(f);li(m.value)==null&&(m.value=y,m.useIndexAsValue=!0),y>-1?r.splice(y,0,m):r.push(m)}function a(h){if(n)return;l();const f=r.findIndex(m=>m.id===h);r.splice(f,1)}function l(){const h=r.find(f=>!f.disabled);h&&t.mandatory==="force"&&!i.value.length&&(i.value=[h.id])}ki(()=>{l()}),Zn(()=>{n=!0}),Jg(()=>{for(let h=0;h<r.length;h++)r[h].useIndexAsValue&&(r[h].value=h)});function u(h,f){const m=r.find(g=>g.id===h);if(!(f&&(m!=null&&m.disabled)))if(t.multiple){const g=i.value.slice(),p=g.findIndex(w=>w===h),y=~p;if(f=f??!y,y&&t.mandatory&&g.length<=1||!y&&t.max!=null&&g.length+1>t.max)return;p<0&&f?g.push(h):p>=0&&!f&&g.splice(p,1),i.value=g}else{const g=i.value.includes(h);if(t.mandatory&&g||!g&&!f)return;i.value=f??!g?[h]:[]}}function c(h){if(t.multiple,i.value.length){const f=i.value[0],m=r.findIndex(y=>y.id===f);let g=(m+h)%r.length,p=r[g];for(;p.disabled&&g!==m;)g=(g+h)%r.length,p=r[g];if(p.disabled)return;i.value=[r[g].id]}else{const f=r.find(m=>!m.disabled);f&&(i.value=[f.id])}}const d={register:o,unregister:a,selected:i,select:u,disabled:V(()=>t.disabled),prev:()=>c(r.length-1),next:()=>c(1),isSelected:h=>i.value.includes(h),selectedClass:V(()=>t.selectedClass),items:V(()=>r),getItemIndex:h=>v4(r,h)};return Yt(e,d),d}function v4(t,e){const n=Gk(t,[e]);return n.length?t.findIndex(r=>r.id===n[0]):-1}function Gk(t,e){const n=[];return e.forEach(r=>{const i=t.find(o=>lr(r,o.value)),s=t[r];(i==null?void 0:i.value)!=null?n.push(i.id):s!=null&&s.useIndexAsValue&&n.push(s.id)}),n}function p4(t,e){const n=[];return e.forEach(r=>{const i=t.findIndex(s=>s.id===r);if(~i){const s=t[i];n.push(s.value!=null?s.value:i)}}),n}const Kk=Symbol.for("vuetify:v-btn-toggle"),y4=G({...Wk(),...tf()},"VBtnToggle");me()({name:"VBtnToggle",props:y4(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isSelected:r,next:i,prev:s,select:o,selected:a}=sc(t,Kk);return be(()=>{const l=$I.filterProps(t);return v($I,Se({class:["v-btn-toggle",t.class]},l,{style:t.style}),{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:r,next:i,prev:s,select:o,selected:a})]}})}),{next:i,prev:s,select:o}}});function Yk(t,e){const n=te(),r=ge(!1);if(ty){const i=new IntersectionObserver(s=>{r.value=!!s.find(o=>o.isIntersecting)},e);cn(()=>{i.disconnect()}),Ie(n,(s,o)=>{o&&(i.unobserve(o),r.value=!1),s&&i.observe(s)},{flush:"post"})}return{intersectionRef:n,isIntersecting:r}}function _a(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=yg(),r=te();if(tt){const i=new ResizeObserver(s=>{s.length&&(e==="content"?r.value=s[0].contentRect:r.value=s[0].target.getBoundingClientRect())});Zn(()=>{i.disconnect()}),Ie(()=>n.el,(s,o)=>{o&&(i.unobserve(o),r.value=void 0),s&&i.observe(s)},{flush:"post"})}return{resizeRef:n,contentRect:Tu(r)}}const w4=G({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Pe(),...nc(),...st({tag:"div"}),...Et()},"VProgressCircular"),Qk=me()({name:"VProgressCircular",props:w4(),setup(t,e){let{slots:n}=e;const r=20,i=2*Math.PI*r,s=te(),{themeClasses:o}=$t(t),{sizeClasses:a,sizeStyles:l}=rc(t),{textColorClasses:u,textColorStyles:c}=Er(()=>t.color),{textColorClasses:d,textColorStyles:h}=Er(()=>t.bgColor),{intersectionRef:f,isIntersecting:m}=Yk(),{resizeRef:g,contentRect:p}=_a(),y=V(()=>ur(parseFloat(t.modelValue),0,100)),w=V(()=>Number(t.width)),T=V(()=>l.value?Number(t.size):p.value?p.value.width:Math.max(w.value,32)),b=V(()=>r/(1-w.value/T.value)*2),I=V(()=>w.value/T.value*b.value),S=V(()=>Ae((100-y.value)/100*i));return dr(()=>{f.value=s.value,g.value=s.value}),be(()=>v(t.tag,{ref:s,class:ce(["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":m.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},o.value,a.value,u.value,t.class]),style:xe([l.value,c.value,t.style]),role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:y.value},{default:()=>[k("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${b.value} ${b.value}`},[k("circle",{class:ce(["v-progress-circular__underlay",d.value]),style:xe(h.value),fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":I.value,"stroke-dasharray":i,"stroke-dashoffset":0},null),k("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":I.value,"stroke-dasharray":i,"stroke-dashoffset":S.value},null)]),n.default&&k("div",{class:"v-progress-circular__content"},[n.default({value:y.value})])]})),{}}}),b4={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"},ariaLabel:{previousMonth:"Previous month",nextMonth:"Next month",selectYear:"Select year",selectDate:"{0}",currentDate:"Today, {0}"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"},rules:{required:"This field is required",email:"Please enter a valid email",number:"This field can only contain numbers",integer:"This field can only contain integer values",capital:"This field can only contain uppercase letters",maxLength:"You must enter a maximum of {0} characters",minLength:"You must enter a minimum of {0} characters",strictLength:"The length of the entered field is invalid",exclude:"The {0} character is not allowed",notEmpty:"Please choose at least one value",pattern:"Invalid format"},hotkey:{then:"then",ctrl:"Ctrl",command:"Command",space:"Space",shift:"Shift",alt:"Alt",enter:"Enter",escape:"Escape",upArrow:"Up Arrow",downArrow:"Down Arrow",leftArrow:"Left Arrow",rightArrow:"Right Arrow",backspace:"Backspace",option:"Option",plus:"plus",shortcut:"Keyboard shortcut: {0}"},video:{play:"Play",pause:"Pause",seek:"Seek",volume:"Volume",showVolume:"Show volume control",mute:"Mute",unmute:"Unmute",enterFullscreen:"Full screen",exitFullscreen:"Exit full screen"},colorPicker:{ariaLabel:{eyedropper:"Select color with eyedropper",hueSlider:"Hue",alphaSlider:"Alpha",redInput:"Red value",greenInput:"Green value",blueInput:"Blue value",alphaInput:"Alpha value",hueInput:"Hue value",saturationInput:"Saturation value",lightnessInput:"Lightness value",hexInput:"HEX value",hexaInput:"HEX with alpha value",changeFormat:"Change color format"}}},UI="$vuetify.",jI=(t,e)=>t.replace(/\{(\d+)\}/g,(n,r)=>String(e[Number(r)])),Xk=(t,e,n)=>function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];if(!r.startsWith(UI))return jI(r,s);const a=r.replace(UI,""),l=t.value&&n.value[t.value],u=e.value&&n.value[e.value];let c=pg(l,a,null);return c||(`${r}${t.value}`,c=pg(u,a,null)),c||(c=r),typeof c!="string"&&(c=r),jI(c,s)};function uy(t,e){return(n,r)=>new Intl.NumberFormat([t.value,e.value],r).format(n)}function Jk(t,e){return uy(t,e)(.1).includes(",")?",":"."}function nm(t,e,n){const r=_t(t,e,t[e]??n.value);return r.value=t[e]??n.value,Ie(n,i=>{t[e]==null&&(r.value=n.value)}),r}function Zk(t){return e=>{const n=nm(e,"locale",t.current),r=nm(e,"fallback",t.fallback),i=nm(e,"messages",t.messages);return{name:"vuetify",current:n,fallback:r,messages:i,decimalSeparator:V(()=>Jk(n,r)),t:Xk(n,r,i),n:uy(n,r),provide:Zk({current:n,fallback:r,messages:i})}}}function I4(t){const e=ge((t==null?void 0:t.locale)??"en"),n=ge((t==null?void 0:t.fallback)??"en"),r=te({en:b4,...t==null?void 0:t.messages});return{name:"vuetify",current:e,fallback:n,messages:r,decimalSeparator:V(()=>(t==null?void 0:t.decimalSeparator)??Jk(e,n)),t:Xk(e,n,r),n:uy(e,n),provide:Zk({current:e,fallback:n,messages:r})}}const Bd=Symbol.for("vuetify:locale");function _4(t){return t.name!=null}function S4(t){const e=t!=null&&t.adapter&&_4(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:I4(t),n=E4(e,t);return{...e,...n}}function oc(){const t=et(Bd);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function T4(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function E4(t,e){const n=te((e==null?void 0:e.rtl)??T4()),r=x(()=>n.value[t.current.value]??!1);return{isRtl:r,rtl:n,rtlClasses:V(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function vr(){const t=et(Bd);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}const qI={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},sf=G({location:String},"location");function of(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:r}=vr();return{locationStyles:x(()=>{if(!t.location)return{};const{side:s,align:o}=bg(t.location.split(" ").length>1?t.location:`${t.location} center`,r.value);function a(u){return n?n(u):0}const l={};return s!=="center"&&(e?l[qI[s]]=`calc(100% - ${a(s)}px)`:l[s]=0),o!=="center"?e?l[qI[o]]=`calc(100% - ${a(o)}px)`:l[o]=0:(s==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[s]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[s]),l})}}const C4=G({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Pe(),...sf({location:"top"}),...er(),...st(),...Et()},"VProgressLinear"),k4=me()({name:"VProgressLinear",props:C4(),emits:{"update:modelValue":t=>!0},setup(t,e){var q;let{slots:n}=e;const r=_t(t,"modelValue"),{isRtl:i,rtlClasses:s}=vr(),{themeClasses:o}=$t(t),{locationStyles:a}=of(t),{textColorClasses:l,textColorStyles:u}=Er(()=>t.color),{backgroundColorClasses:c,backgroundColorStyles:d}=cr(()=>t.bgColor||t.color),{backgroundColorClasses:h,backgroundColorStyles:f}=cr(()=>t.bufferColor||t.bgColor||t.color),{backgroundColorClasses:m,backgroundColorStyles:g}=cr(()=>t.color),{roundedClasses:p}=tr(t),{intersectionRef:y,isIntersecting:w}=Yk(),T=x(()=>parseFloat(t.max)),b=x(()=>parseFloat(t.height)),I=x(()=>ur(parseFloat(t.bufferValue)/T.value*100,0,100)),S=x(()=>ur(parseFloat(r.value)/T.value*100,0,100)),C=x(()=>i.value!==t.reverse),D=x(()=>t.indeterminate?"fade-transition":"slide-x-transition"),P=tt&&((q=window.matchMedia)==null?void 0:q.call(window,"(forced-colors: active)").matches);function $(A){if(!y.value)return;const{left:O,right:j,width:J}=y.value.getBoundingClientRect(),ee=C.value?J-A.clientX+(j-J):A.clientX-O;r.value=Math.round(ee/J*T.value)}return be(()=>v(t.tag,{ref:y,class:ce(["v-progress-linear",{"v-progress-linear--absolute":t.absolute,"v-progress-linear--active":t.active&&w.value,"v-progress-linear--reverse":C.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped,"v-progress-linear--clickable":t.clickable},p.value,o.value,s.value,t.class]),style:xe([{bottom:t.location==="bottom"?0:void 0,top:t.location==="top"?0:void 0,height:t.active?Ae(b.value):0,"--v-progress-linear-height":Ae(b.value),...t.absolute?a.value:{}},t.style]),role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:Math.min(parseFloat(r.value),T.value),onClick:t.clickable&&$},{default:()=>[t.stream&&k("div",{key:"stream",class:ce(["v-progress-linear__stream",l.value]),style:{...u.value,[C.value?"left":"right"]:Ae(-b.value),borderTop:`${Ae(b.value/2)} dotted`,opacity:parseFloat(t.bufferOpacity),top:`calc(50% - ${Ae(b.value/4)})`,width:Ae(100-I.value,"%"),"--v-progress-linear-stream-to":Ae(b.value*(C.value?1:-1))}},null),k("div",{class:ce(["v-progress-linear__background",P?void 0:c.value]),style:xe([d.value,{opacity:parseFloat(t.bgOpacity),width:t.stream?0:void 0}])},null),k("div",{class:ce(["v-progress-linear__buffer",P?void 0:h.value]),style:xe([f.value,{opacity:parseFloat(t.bufferOpacity),width:Ae(I.value,"%")}])},null),v(oo,{name:D.value},{default:()=>[t.indeterminate?k("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(A=>k("div",{key:A,class:ce(["v-progress-linear__indeterminate",A,P?void 0:m.value]),style:xe(g.value)},null))]):k("div",{class:ce(["v-progress-linear__determinate",P?void 0:m.value]),style:xe([g.value,{width:Ae(S.value,"%")}])},null)]}),n.default&&k("div",{class:"v-progress-linear__content"},[n.default({value:S.value,buffer:I.value})])]})),{}}}),cy=G({loading:[Boolean,String]},"loader");function dy(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ni();return{loaderClasses:V(()=>({[`${e}--loading`]:t.loading}))}}function eA(t,e){var r;let{slots:n}=e;return k("div",{class:ce(`${t.name}__loader`)},[((r=n.default)==null?void 0:r.call(n,{color:t.color,isActive:t.active}))||v(k4,{absolute:t.absolute,active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}const A4=["static","relative","fixed","absolute","sticky"],hy=G({position:{type:String,validator:t=>A4.includes(t)}},"position");function fy(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ni();return{positionClasses:V(()=>t.position?`${e}--${t.position}`:void 0)}}function x4(){const t=Vt("useRoute");return x(()=>{var e;return(e=t==null?void 0:t.proxy)==null?void 0:e.$route})}function D4(){var t,e;return(e=(t=Vt("useRouter"))==null?void 0:t.proxy)==null?void 0:e.$router}function af(t,e){var c,d;const n=A1("RouterLink"),r=V(()=>!!(t.href||t.to)),i=x(()=>(r==null?void 0:r.value)||bI(e,"click")||bI(t,"click"));if(typeof n=="string"||!("useLink"in n)){const h=V(()=>t.href);return{isLink:r,isClickable:i,href:h,linkProps:wt({href:h})}}const s=n.useLink({to:V(()=>t.to||""),replace:V(()=>t.replace)}),o=x(()=>t.to?s:void 0),a=x4(),l=x(()=>{var h,f,m;return o.value?t.exact?a.value?((m=o.value.isExactActive)==null?void 0:m.value)&&lr(o.value.route.value.query,a.value.query):((f=o.value.isExactActive)==null?void 0:f.value)??!1:((h=o.value.isActive)==null?void 0:h.value)??!1:!1}),u=x(()=>{var h;return t.to?(h=o.value)==null?void 0:h.route.value.href:t.href});return{isLink:r,isClickable:i,isActive:l,route:(c=o.value)==null?void 0:c.route,navigate:(d=o.value)==null?void 0:d.navigate,href:u,linkProps:wt({href:u,"aria-current":V(()=>l.value?"page":void 0)})}}const lf=G({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let rm=!1;function P4(t,e){let n=!1,r,i;tt&&(t!=null&&t.beforeEach)&&(rn(()=>{window.addEventListener("popstate",s),r=t.beforeEach((o,a,l)=>{rm?n?e(l):l():setTimeout(()=>n?e(l):l()),rm=!0}),i=t==null?void 0:t.afterEach(()=>{rm=!1})}),cn(()=>{window.removeEventListener("popstate",s),r==null||r(),i==null||i()}));function s(o){var a;(a=o.state)!=null&&a.replaced||(n=!0,setTimeout(()=>n=!1))}}function N4(t,e){Ie(()=>{var n;return(n=t.isActive)==null?void 0:n.value},n=>{t.isLink.value&&n!=null&&e&&rn(()=>{e(n)})},{immediate:!0})}const Sg=Symbol("rippleStop"),R4=80;function zI(t,e){t.style.transform=e,t.style.webkitTransform=e}function Tg(t){return t.constructor.name==="TouchEvent"}function tA(t){return t.constructor.name==="KeyboardEvent"}const O4=function(t,e){var d;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,i=0;if(!tA(t)){const h=e.getBoundingClientRect(),f=Tg(t)?t.touches[t.touches.length-1]:t;r=f.clientX-h.left,i=f.clientY-h.top}let s=0,o=.3;(d=e._ripple)!=null&&d.circle?(o=.15,s=e.clientWidth/2,s=n.center?s:s+Math.sqrt((r-s)**2+(i-s)**2)/4):s=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;const a=`${(e.clientWidth-s*2)/2}px`,l=`${(e.clientHeight-s*2)/2}px`,u=n.center?a:`${r-s}px`,c=n.center?l:`${i-s}px`;return{radius:s,scale:o,x:u,y:c,centerX:a,centerY:l}},$d={show(t,e){var f;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((f=e==null?void 0:e._ripple)!=null&&f.enabled))return;const r=document.createElement("span"),i=document.createElement("span");r.appendChild(i),r.className="v-ripple__container",n.class&&(r.className+=` ${n.class}`);const{radius:s,scale:o,x:a,y:l,centerX:u,centerY:c}=O4(t,e,n),d=`${s*2}px`;i.className="v-ripple__animation",i.style.width=d,i.style.height=d,e.appendChild(r);const h=window.getComputedStyle(e);h&&h.position==="static"&&(e.style.position="relative",e.dataset.previousPosition="static"),i.classList.add("v-ripple__animation--enter"),i.classList.add("v-ripple__animation--visible"),zI(i,`translate(${a}, ${l}) scale3d(${o},${o},${o})`),i.dataset.activated=String(performance.now()),requestAnimationFrame(()=>{requestAnimationFrame(()=>{i.classList.remove("v-ripple__animation--enter"),i.classList.add("v-ripple__animation--in"),zI(i,`translate(${u}, ${c}) scale3d(1,1,1)`)})})},hide(t){var s;if(!((s=t==null?void 0:t._ripple)!=null&&s.enabled))return;const e=t.getElementsByClassName("v-ripple__animation");if(e.length===0)return;const n=Array.from(e).findLast(o=>!o.dataset.isHiding);if(n)n.dataset.isHiding="true";else return;const r=performance.now()-Number(n.dataset.activated),i=Math.max(250-r,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var a;t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),((a=n.parentNode)==null?void 0:a.parentNode)===t&&t.removeChild(n.parentNode)},300)},i)}};function nA(t){return typeof t>"u"||!!t}function yu(t){const e={},n=t.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||t[Sg])){if(t[Sg]=!0,Tg(t))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(e.center=n._ripple.centered||tA(t),n._ripple.class&&(e.class=n._ripple.class),Tg(t)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{$d.show(t,n,e)},n._ripple.showTimer=window.setTimeout(()=>{var r;(r=n==null?void 0:n._ripple)!=null&&r.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},R4)}else $d.show(t,n,e)}}function HI(t){t[Sg]=!0}function Wn(t){const e=t.currentTarget;if(e!=null&&e._ripple){if(window.clearTimeout(e._ripple.showTimer),t.type==="touchend"&&e._ripple.showTimerCommit){e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null,e._ripple.showTimer=window.setTimeout(()=>{Wn(t)});return}window.setTimeout(()=>{e._ripple&&(e._ripple.touched=!1)}),$d.hide(e)}}function rA(t){const e=t.currentTarget;e!=null&&e._ripple&&(e._ripple.showTimerCommit&&(e._ripple.showTimerCommit=null),window.clearTimeout(e._ripple.showTimer))}let wu=!1;function WI(t,e){!wu&&e.includes(t.key)&&(wu=!0,yu(t))}function iA(t){wu=!1,Wn(t)}function sA(t){wu&&(wu=!1,Wn(t))}function oA(t,e,n){const{value:r,modifiers:i}=e,s=nA(r);s||$d.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=s,t._ripple.centered=i.center,t._ripple.circle=i.circle;const o=Nd(r)?r:{};o.class&&(t._ripple.class=o.class);const a=o.keys??["Enter","Space"];if(t._ripple.keyDownHandler=l=>WI(l,a),s&&!n){if(i.stop){t.addEventListener("touchstart",HI,{passive:!0}),t.addEventListener("mousedown",HI);return}t.addEventListener("touchstart",yu,{passive:!0}),t.addEventListener("touchend",Wn,{passive:!0}),t.addEventListener("touchmove",rA,{passive:!0}),t.addEventListener("touchcancel",Wn),t.addEventListener("mousedown",yu),t.addEventListener("mouseup",Wn),t.addEventListener("mouseleave",Wn),t.addEventListener("keydown",l=>WI(l,a)),t.addEventListener("keyup",iA),t.addEventListener("blur",sA),t.addEventListener("dragstart",Wn,{passive:!0})}else!s&&n&&aA(t)}function aA(t){var e;t.removeEventListener("mousedown",yu),t.removeEventListener("touchstart",yu),t.removeEventListener("touchend",Wn),t.removeEventListener("touchmove",rA),t.removeEventListener("touchcancel",Wn),t.removeEventListener("mouseup",Wn),t.removeEventListener("mouseleave",Wn),(e=t._ripple)!=null&&e.keyDownHandler&&t.removeEventListener("keydown",t._ripple.keyDownHandler),t.removeEventListener("keyup",iA),t.removeEventListener("dragstart",Wn),t.removeEventListener("blur",sA)}function M4(t,e){oA(t,e,!1)}function V4(t){aA(t),delete t._ripple}function L4(t,e){if(e.value===e.oldValue)return;const n=nA(e.oldValue);oA(t,e,n)}const Cr={mounted:M4,unmounted:V4,updated:L4},lA=G({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:Kk},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Ge,appendIcon:Ge,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},...As(),...Pe(),...nr(),...fr(),...Mi(),...nf(),...cy(),...sf(),...hy(),...er(),...lf(),...nc(),...st({tag:"button"}),...Et(),...Oi({variant:"elevated"})},"VBtn"),un=me()({name:"VBtn",props:lA(),emits:{"group:selected":t=>!0},setup(t,e){let{attrs:n,slots:r}=e;const{themeClasses:i}=$t(t),{borderClasses:s}=xs(t),{densityClasses:o}=gr(t),{dimensionStyles:a}=mr(t),{elevationClasses:l}=Vi(t),{loaderClasses:u}=dy(t),{locationStyles:c}=of(t),{positionClasses:d}=fy(t),{roundedClasses:h}=tr(t),{sizeClasses:f,sizeStyles:m}=rc(t),g=rf(t,t.symbol,!1),p=af(t,n),y=x(()=>{var q;return t.active!==void 0?t.active:p.isLink.value?(q=p.isActive)==null?void 0:q.value:g==null?void 0:g.isSelected.value}),w=V(()=>y.value?t.activeColor??t.color:t.color),T=x(()=>{var A,O;return{color:(g==null?void 0:g.isSelected.value)&&(!p.isLink.value||((A=p.isActive)==null?void 0:A.value))||!g||((O=p.isActive)==null?void 0:O.value)?w.value??t.baseColor:t.baseColor,variant:t.variant}}),{colorClasses:b,colorStyles:I,variantClasses:S}=Ua(T),C=x(()=>(g==null?void 0:g.disabled.value)||t.disabled),D=V(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border)),P=x(()=>{if(!(t.value===void 0||typeof t.value=="symbol"))return Object(t.value)===t.value?JSON.stringify(t.value,null,0):t.value});function $(q){var A;C.value||p.isLink.value&&(q.metaKey||q.ctrlKey||q.shiftKey||q.button!==0||n.target==="_blank")||((A=p.navigate)==null||A.call(p,q),g==null||g.toggle())}return N4(p,g==null?void 0:g.select),be(()=>{const q=p.isLink.value?"a":t.tag,A=!!(t.prependIcon||r.prepend),O=!!(t.appendIcon||r.append),j=!!(t.icon&&t.icon!==!0);return yt(v(q,Se({type:q==="a"?void 0:"button",class:["v-btn",g==null?void 0:g.selectedClass.value,{"v-btn--active":y.value,"v-btn--block":t.block,"v-btn--disabled":C.value,"v-btn--elevated":D.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--readonly":t.readonly,"v-btn--slim":t.slim,"v-btn--stacked":t.stacked},i.value,s.value,b.value,o.value,l.value,u.value,d.value,h.value,f.value,S.value,t.class],style:[I.value,a.value,c.value,m.value,t.style],"aria-busy":t.loading?!0:void 0,disabled:C.value||void 0,tabindex:t.loading||t.readonly?-1:void 0,onClick:$,value:P.value},p.linkProps),{default:()=>{var J;return[$a(!0,"v-btn"),!t.icon&&A&&k("span",{key:"prepend",class:"v-btn__prepend"},[r.prepend?v(mt,{key:"prepend-defaults",disabled:!t.prependIcon,defaults:{VIcon:{icon:t.prependIcon}}},r.prepend):v(Nt,{key:"prepend-icon",icon:t.prependIcon},null)]),k("span",{class:"v-btn__content","data-no-activator":""},[!r.default&&j?v(Nt,{key:"content-icon",icon:t.icon},null):v(mt,{key:"content-defaults",disabled:!j,defaults:{VIcon:{icon:t.icon}}},{default:()=>{var ee;return[((ee=r.default)==null?void 0:ee.call(r))??$e(t.text)]}})]),!t.icon&&O&&k("span",{key:"append",class:"v-btn__append"},[r.append?v(mt,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VIcon:{icon:t.appendIcon}}},r.append):v(Nt,{key:"append-icon",icon:t.appendIcon},null)]),!!t.loading&&k("span",{key:"loader",class:"v-btn__loader"},[((J=r.loader)==null?void 0:J.call(r))??v(Qk,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,width:"2"},null)])]}}),[[Cr,!C.value&&t.ripple,"",{center:!!t.icon}]])}),{group:g}}}),F4=G({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...Pe(),...Et()},"VDivider"),ac=me()({name:"VDivider",props:F4(),setup(t,e){let{attrs:n,slots:r}=e;const{themeClasses:i}=$t(t),{textColorClasses:s,textColorStyles:o}=Er(()=>t.color),a=x(()=>{const l={};return t.length&&(l[t.vertical?"height":"width"]=Ae(t.length)),t.thickness&&(l[t.vertical?"borderRightWidth":"borderTopWidth"]=Ae(t.thickness)),l});return be(()=>{const l=k("hr",{class:ce([{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},i.value,s.value,t.class]),style:xe([a.value,o.value,{"--v-border-opacity":t.opacity},t.style]),"aria-orientation":!n.role||n.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return r.default?k("div",{class:ce(["v-divider__wrapper",{"v-divider__wrapper--vertical":t.vertical,"v-divider__wrapper--inset":t.inset}])},[l,k("div",{class:"v-divider__content"},[r.default()]),l]):l}),{}}}),B4=G({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function rr(t,e,n){return me()({name:t,props:B4({mode:n,origin:e}),setup(r,i){let{slots:s}=i;const o={onBeforeEnter(a){r.origin&&(a.style.transformOrigin=r.origin)},onLeave(a){if(r.leaveAbsolute){const{offsetTop:l,offsetLeft:u,offsetWidth:c,offsetHeight:d}=a;a._transitionInitialStyles={position:a.style.position,top:a.style.top,left:a.style.left,width:a.style.width,height:a.style.height},a.style.position="absolute",a.style.top=`${l}px`,a.style.left=`${u}px`,a.style.width=`${c}px`,a.style.height=`${d}px`}r.hideOnLeave&&a.style.setProperty("display","none","important")},onAfterLeave(a){if(r.leaveAbsolute&&(a!=null&&a._transitionInitialStyles)){const{position:l,top:u,left:c,width:d,height:h}=a._transitionInitialStyles;delete a._transitionInitialStyles,a.style.position=l||"",a.style.top=u||"",a.style.left=c||"",a.style.width=d||"",a.style.height=h||""}}};return()=>{const a=r.group?iv:oo;return ws(a,{name:r.disabled?"":t,css:!r.disabled,...r.group?void 0:{mode:r.mode},...r.disabled?{}:o},s.default)}}})}function uA(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return me()({name:t,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(r,i){let{slots:s}=i;const o=r.group?iv:oo;return()=>ws(o,{name:r.disabled?"":t,css:!r.disabled,...r.disabled?{}:e},s.default)}})}function cA(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",r=Pn(`offset-${n}`);return{onBeforeEnter(o){o._parent=o.parentNode,o._initialStyle={transition:o.style.transition,overflow:o.style.overflow,[n]:o.style[n]}},onEnter(o){const a=o._initialStyle;if(!a)return;o.style.setProperty("transition","none","important"),o.style.overflow="hidden";const l=`${o[r]}px`;o.style[n]="0",o.offsetHeight,o.style.transition=a.transition,t&&o._parent&&o._parent.classList.add(t),requestAnimationFrame(()=>{o.style[n]=l})},onAfterEnter:s,onEnterCancelled:s,onLeave(o){o._initialStyle={transition:"",overflow:o.style.overflow,[n]:o.style[n]},o.style.overflow="hidden",o.style[n]=`${o[r]}px`,o.offsetHeight,requestAnimationFrame(()=>o.style[n]="0")},onAfterLeave:i,onLeaveCancelled:i};function i(o){t&&o._parent&&o._parent.classList.remove(t),s(o)}function s(o){if(!o._initialStyle)return;const a=o._initialStyle[n];o.style.overflow=o._initialStyle.overflow,a!=null&&(o.style[n]=a),delete o._initialStyle}}const $4=G({target:[Object,Array]},"v-dialog-transition"),im=new WeakMap,dA=me()({name:"VDialogTransition",props:$4(),setup(t,e){let{slots:n}=e;const r={onBeforeEnter(i){i.style.pointerEvents="none",i.style.visibility="hidden"},async onEnter(i,s){var f;await new Promise(m=>requestAnimationFrame(m)),await new Promise(m=>requestAnimationFrame(m)),i.style.visibility="";const o=KI(t.target,i),{x:a,y:l,sx:u,sy:c,speed:d}=o;im.set(i,o);const h=Qs(i,[{transform:`translate(${a}px, ${l}px) scale(${u}, ${c})`,opacity:0},{}],{duration:225*d,easing:jU});(f=GI(i))==null||f.forEach(m=>{Qs(m,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*d,easing:vu})}),h.finished.then(()=>s())},onAfterEnter(i){i.style.removeProperty("pointer-events")},onBeforeLeave(i){i.style.pointerEvents="none"},async onLeave(i,s){var f;await new Promise(m=>requestAnimationFrame(m));let o;!im.has(i)||Array.isArray(t.target)||t.target.offsetParent||t.target.getClientRects().length?o=KI(t.target,i):o=im.get(i);const{x:a,y:l,sx:u,sy:c,speed:d}=o;Qs(i,[{},{transform:`translate(${a}px, ${l}px) scale(${u}, ${c})`,opacity:0}],{duration:125*d,easing:qU}).finished.then(()=>s()),(f=GI(i))==null||f.forEach(m=>{Qs(m,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*d,easing:vu})})},onAfterLeave(i){i.style.removeProperty("pointer-events")}};return()=>t.target?v(oo,Se({name:"dialog-transition"},r,{css:!1}),n):v(oo,{name:"dialog-transition"},n)}});function GI(t){var n;const e=(n=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return e&&[...e]}function KI(t,e){const n=Rk(t),r=sy(e),[i,s]=getComputedStyle(e).transformOrigin.split(" ").map(y=>parseFloat(y)),[o,a]=getComputedStyle(e).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=n.left+n.width/2;o==="left"||a==="left"?l-=n.width/2:(o==="right"||a==="right")&&(l+=n.width/2);let u=n.top+n.height/2;o==="top"||a==="top"?u-=n.height/2:(o==="bottom"||a==="bottom")&&(u+=n.height/2);const c=n.width/r.width,d=n.height/r.height,h=Math.max(1,c,d),f=c/h||0,m=d/h||0,g=r.width*r.height/(window.innerWidth*window.innerHeight),p=g>.12?Math.min(1.5,(g-.12)*10+1):1;return{x:l-(i+r.left),y:u-(s+r.top),sx:f,sy:m,speed:p}}rr("fab-transition","center center","out-in");rr("dialog-bottom-transition");rr("dialog-top-transition");const YI=rr("fade-transition");rr("scale-transition");rr("scroll-x-transition");rr("scroll-x-reverse-transition");rr("scroll-y-transition");rr("scroll-y-reverse-transition");rr("slide-x-transition");rr("slide-x-reverse-transition");const hA=rr("slide-y-transition");rr("slide-y-reverse-transition");const my=uA("expand-transition",cA()),fA=uA("expand-x-transition",cA("",!0)),Eg=Symbol.for("vuetify:list");function mA(){let{filterable:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{filterable:!1};const e=et(Eg,{filterable:!1,hasPrepend:ge(!1),updateHasPrepend:()=>null}),n={filterable:e.filterable||t,hasPrepend:ge(!1),updateHasPrepend:r=>{r&&(n.hasPrepend.value=r)}};return Yt(Eg,n),e}function gA(){return et(Eg,null)}const gy=t=>{const e={activate:n=>{let{id:r,value:i,activated:s}=n;return r=ke(r),t&&!i&&s.size===1&&s.has(r)||(i?s.add(r):s.delete(r)),s},in:(n,r,i)=>{let s=new Set;if(n!=null)for(const o of br(n))s=e.activate({id:o,value:!0,activated:new Set(s),children:r,parents:i});return s},out:n=>Array.from(n)};return e},vA=t=>{const e=gy(t);return{activate:r=>{let{activated:i,id:s,...o}=r;s=ke(s);const a=i.has(s)?new Set([s]):new Set;return e.activate({...o,id:s,activated:a})},in:(r,i,s)=>{let o=new Set;if(r!=null){const a=br(r);a.length&&(o=e.in(a.slice(0,1),i,s))}return o},out:(r,i,s)=>e.out(r,i,s)}},U4=t=>{const e=gy(t);return{activate:r=>{let{id:i,activated:s,children:o,...a}=r;return i=ke(i),o.has(i)?s:e.activate({id:i,activated:s,children:o,...a})},in:e.in,out:e.out}},j4=t=>{const e=vA(t);return{activate:r=>{let{id:i,activated:s,children:o,...a}=r;return i=ke(i),o.has(i)?s:e.activate({id:i,activated:s,children:o,...a})},in:e.in,out:e.out}},q4={open:t=>{let{id:e,value:n,opened:r,parents:i}=t;if(n){const s=new Set;s.add(e);let o=i.get(e);for(;o!=null;)s.add(o),o=i.get(o);return s}else return r.delete(e),r},select:()=>null},pA={open:t=>{let{id:e,value:n,opened:r,parents:i}=t;if(n){let s=i.get(e);for(r.add(e);s!=null&&s!==e;)r.add(s),s=i.get(s);return r}else r.delete(e);return r},select:()=>null},z4={open:pA.open,select:t=>{let{id:e,value:n,opened:r,parents:i}=t;if(!n)return r;const s=[];let o=i.get(e);for(;o!=null;)s.push(o),o=i.get(o);return new Set(s)}},vy=t=>{const e={select:n=>{let{id:r,value:i,selected:s}=n;if(r=ke(r),t&&!i){const o=Array.from(s.entries()).reduce((a,l)=>{let[u,c]=l;return c==="on"&&a.push(u),a},[]);if(o.length===1&&o[0]===r)return s}return s.set(r,i?"on":"off"),s},in:(n,r,i,s)=>{const o=new Map;for(const a of n||[])e.select({id:a,value:!0,selected:o,children:r,parents:i,disabled:s});return o},out:n=>{const r=[];for(const[i,s]of n.entries())s==="on"&&r.push(i);return r}};return e},yA=t=>{const e=vy(t);return{select:r=>{let{selected:i,id:s,...o}=r;s=ke(s);const a=i.has(s)?new Map([[s,i.get(s)]]):new Map;return e.select({...o,id:s,selected:a})},in:(r,i,s,o)=>r!=null&&r.length?e.in(r.slice(0,1),i,s,o):new Map,out:(r,i,s)=>e.out(r,i,s)}},H4=t=>{const e=vy(t);return{select:r=>{let{id:i,selected:s,children:o,...a}=r;return i=ke(i),o.has(i)?s:e.select({id:i,selected:s,children:o,...a})},in:e.in,out:e.out}},W4=t=>{const e=yA(t);return{select:r=>{let{id:i,selected:s,children:o,...a}=r;return i=ke(i),o.has(i)?s:e.select({id:i,selected:s,children:o,...a})},in:e.in,out:e.out}},wA=t=>{const e={select:n=>{let{id:r,value:i,selected:s,children:o,parents:a,disabled:l}=n;r=ke(r);const u=new Map(s),c=[r];for(;c.length;){const h=c.shift();l.has(h)||s.set(ke(h),i?"on":"off"),o.has(h)&&c.push(...o.get(h))}let d=ke(a.get(r));for(;d;){let h=!0,f=!0;for(const m of o.get(d)){const g=ke(m);if(!l.has(g)&&(s.get(g)!=="on"&&(h=!1),s.has(g)&&s.get(g)!=="off"&&(f=!1),!h&&!f))break}s.set(d,h?"on":f?"off":"indeterminate"),d=ke(a.get(d))}return t&&!i&&Array.from(s.entries()).reduce((f,m)=>{let[g,p]=m;return p==="on"&&f.push(g),f},[]).length===0?u:s},in:(n,r,i,s)=>{let o=new Map;for(const a of n||[])o=e.select({id:a,value:!0,selected:o,children:r,parents:i,disabled:s});return o},out:(n,r)=>{const i=[];for(const[s,o]of n.entries())o==="on"&&!r.has(s)&&i.push(s);return i}};return e},G4=t=>{const e=wA(t);return{select:e.select,in:e.in,out:(r,i,s)=>{const o=[];for(const[a,l]of r.entries())if(l==="on"){if(s.has(a)){const u=s.get(a);if(r.get(u)==="on")continue}o.push(a)}return o}}},bu=Symbol.for("vuetify:nested"),bA={id:ge(),root:{register:()=>null,unregister:()=>null,children:te(new Map),parents:te(new Map),disabled:te(new Set),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:te(!1),selectable:te(!1),opened:te(new Set),activated:te(new Set),selected:te(new Map),selectedValues:te([]),getPath:()=>[]}},K4=G({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),Y4=t=>{let e=!1;const n=ge(new Map),r=ge(new Map),i=ge(new Set),s=_t(t,"opened",t.opened,g=>new Set(Array.isArray(g)?g.map(p=>ke(p)):g),g=>[...g.values()]),o=x(()=>{if(typeof t.activeStrategy=="object")return t.activeStrategy;if(typeof t.activeStrategy=="function")return t.activeStrategy(t.mandatory);switch(t.activeStrategy){case"leaf":return U4(t.mandatory);case"single-leaf":return j4(t.mandatory);case"independent":return gy(t.mandatory);case"single-independent":default:return vA(t.mandatory)}}),a=x(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;if(typeof t.selectStrategy=="function")return t.selectStrategy(t.mandatory);switch(t.selectStrategy){case"single-leaf":return W4(t.mandatory);case"leaf":return H4(t.mandatory);case"independent":return vy(t.mandatory);case"single-independent":return yA(t.mandatory);case"trunk":return G4(t.mandatory);case"classic":default:return wA(t.mandatory)}}),l=x(()=>{if(typeof t.openStrategy=="object")return t.openStrategy;switch(t.openStrategy){case"list":return z4;case"single":return q4;case"multiple":default:return pA}}),u=_t(t,"activated",t.activated,g=>o.value.in(g,n.value,r.value),g=>o.value.out(g,n.value,r.value)),c=_t(t,"selected",t.selected,g=>a.value.in(g,n.value,r.value,i.value),g=>a.value.out(g,n.value,r.value));Zn(()=>{e=!0});function d(g){const p=[];let y=ke(g);for(;y!=null;)p.unshift(y),y=r.value.get(y);return p}const h=Vt("nested"),f=new Set,m={id:ge(),root:{opened:s,activatable:V(()=>t.activatable),selectable:V(()=>t.selectable),activated:u,selected:c,selectedValues:x(()=>{const g=[];for(const[p,y]of c.value.entries())y==="on"&&g.push(p);return g}),register:(g,p,y,w)=>{if(f.has(g)){d(g).map(String).join(" -> "),d(p).concat(g).map(String).join(" -> ");return}else f.add(g);p&&g!==p&&r.value.set(g,p),y&&i.value.add(g),w&&n.value.set(g,[]),p!=null&&n.value.set(p,[...n.value.get(p)||[],g])},unregister:g=>{if(e)return;f.delete(g),n.value.delete(g),i.value.delete(g);const p=r.value.get(g);if(p){const y=n.value.get(p)??[];n.value.set(p,y.filter(w=>w!==g))}r.value.delete(g)},open:(g,p,y)=>{h.emit("click:open",{id:g,value:p,path:d(g),event:y});const w=l.value.open({id:g,value:p,opened:new Set(s.value),children:n.value,parents:r.value,event:y});w&&(s.value=w)},openOnSelect:(g,p,y)=>{const w=l.value.select({id:g,value:p,selected:new Map(c.value),opened:new Set(s.value),children:n.value,parents:r.value,event:y});w&&(s.value=w)},select:(g,p,y)=>{h.emit("click:select",{id:g,value:p,path:d(g),event:y});const w=a.value.select({id:g,value:p,selected:new Map(c.value),children:n.value,parents:r.value,disabled:i.value,event:y});w&&(c.value=w),m.root.openOnSelect(g,p,y)},activate:(g,p,y)=>{if(!t.activatable)return m.root.select(g,!0,y);h.emit("click:activate",{id:g,value:p,path:d(g),event:y});const w=o.value.activate({id:g,value:p,activated:new Set(u.value),children:n.value,parents:r.value,event:y});if(w.size!==u.value.size)u.value=w;else{for(const T of w)if(!u.value.has(T)){u.value=w;return}for(const T of u.value)if(!w.has(T)){u.value=w;return}}},children:n,parents:r,disabled:i,getPath:d}};return Yt(bu,m),m.root},IA=(t,e,n)=>{const r=et(bu,bA),i=Symbol("nested item"),s=x(()=>ke(Qr(t))??i),o={...r,id:s,open:(a,l)=>r.root.open(s.value,a,l),openOnSelect:(a,l)=>r.root.openOnSelect(s.value,a,l),isOpen:x(()=>r.root.opened.value.has(s.value)),parent:x(()=>r.root.parents.value.get(s.value)),activate:(a,l)=>r.root.activate(s.value,a,l),isActivated:x(()=>r.root.activated.value.has(s.value)),select:(a,l)=>r.root.select(s.value,a,l),isSelected:x(()=>r.root.selected.value.get(s.value)==="on"),isIndeterminate:x(()=>r.root.selected.value.get(s.value)==="indeterminate"),isLeaf:x(()=>!r.root.children.value.get(s.value)),isGroupActivator:r.isGroupActivator};return Cu(()=>{r.isGroupActivator||r.root.register(s.value,r.id.value,Qr(e),n)}),Zn(()=>{r.isGroupActivator||r.root.unregister(s.value)}),n&&Yt(bu,o),o},Q4=()=>{const t=et(bu,bA);Yt(bu,{...t,isGroupActivator:!0})};function uf(){const t=ge(!1);return ki(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:V(()=>t.value?void 0:{transition:"none !important"}),isBooted:Tu(t)}}const X4=Ba({name:"VListGroupActivator",setup(t,e){let{slots:n}=e;return Q4(),()=>{var r;return(r=n.default)==null?void 0:r.call(n)}}}),J4=G({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Ge,default:"$collapse"},disabled:Boolean,expandIcon:{type:Ge,default:"$expand"},rawId:[String,Number],prependIcon:Ge,appendIcon:Ge,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Pe(),...st()},"VListGroup"),QI=me()({name:"VListGroup",props:J4(),setup(t,e){let{slots:n}=e;const{isOpen:r,open:i,id:s}=IA(()=>t.value,()=>t.disabled,!0),o=x(()=>`v-list-group--id-${String(t.rawId??s.value)}`),a=gA(),{isBooted:l}=uf();function u(f){var m;["INPUT","TEXTAREA"].includes((m=f.target)==null?void 0:m.tagName)||i(!r.value,f)}const c=x(()=>({onClick:u,class:"v-list-group__header",id:o.value})),d=x(()=>r.value?t.collapseIcon:t.expandIcon),h=x(()=>({VListItem:{activeColor:t.activeColor,baseColor:t.baseColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&d.value,appendIcon:t.appendIcon||!t.subgroup&&d.value,title:t.title,value:t.value}}));return be(()=>v(t.tag,{class:ce(["v-list-group",{"v-list-group--prepend":a==null?void 0:a.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup,"v-list-group--open":r.value},t.class]),style:xe(t.style)},{default:()=>[n.activator&&v(mt,{defaults:h.value},{default:()=>[v(X4,null,{default:()=>[n.activator({props:c.value,isOpen:r.value})]})]}),v(fi,{transition:{component:my},disabled:!l.value},{default:()=>{var f;return[yt(k("div",{class:"v-list-group__items",role:"group","aria-labelledby":o.value},[(f=n.default)==null?void 0:f.call(n)]),[[Cn,r.value]])]}})]})),{isOpen:r}}}),Z4=G({opacity:[Number,String],...Pe(),...st()},"VListItemSubtitle"),Iu=me()({name:"VListItemSubtitle",props:Z4(),setup(t,e){let{slots:n}=e;return be(()=>v(t.tag,{class:ce(["v-list-item-subtitle",t.class]),style:xe([{"--v-list-item-subtitle-opacity":t.opacity},t.style])},n)),{}}}),vi=Jh("v-list-item-title"),ej=G({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Ge,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Ge,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},value:null,onClick:$n(),onClickOnce:$n(),...As(),...Pe(),...nr(),...fr(),...Mi(),...er(),...lf(),...st(),...Et(),...Oi({variant:"text"})},"VListItem"),Un=me()({name:"VListItem",directives:{vRipple:Cr},props:ej(),emits:{click:t=>!0},setup(t,e){let{attrs:n,slots:r,emit:i}=e;const s=af(t,n),o=x(()=>t.value===void 0?s.href.value:t.value),{activate:a,isActivated:l,select:u,isOpen:c,isSelected:d,isIndeterminate:h,isGroupActivator:f,root:m,parent:g,openOnSelect:p,id:y}=IA(o,()=>t.disabled,!1),w=gA(),T=x(()=>{var ie;return t.active!==!1&&(t.active||((ie=s.isActive)==null?void 0:ie.value)||(m.activatable.value?l.value:d.value))}),b=V(()=>t.link!==!1&&s.isLink.value),I=x(()=>!!w&&(m.selectable.value||m.activatable.value||t.value!=null)),S=x(()=>!t.disabled&&t.link!==!1&&(t.link||s.isClickable.value||I.value)),C=V(()=>t.rounded||t.nav),D=V(()=>t.color??t.activeColor),P=V(()=>({color:T.value?D.value??t.baseColor:t.baseColor,variant:t.variant}));Ie(()=>{var ie;return(ie=s.isActive)==null?void 0:ie.value},ie=>{ie&&$()}),Cu(()=>{var ie;(ie=s.isActive)!=null&&ie.value&&$()});function $(){g.value!=null&&m.open(g.value,!0),p(!0)}const{themeClasses:q}=$t(t),{borderClasses:A}=xs(t),{colorClasses:O,colorStyles:j,variantClasses:J}=Ua(P),{densityClasses:ee}=gr(t),{dimensionStyles:fe}=mr(t),{elevationClasses:de}=Vi(t),{roundedClasses:Be}=tr(C),L=V(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),F=V(()=>t.ripple!==void 0&&t.ripple&&(w!=null&&w.filterable)?{keys:["Enter"]}:t.ripple),U=x(()=>({isActive:T.value,select:u,isOpen:c.value,isSelected:d.value,isIndeterminate:h.value}));function le(ie){var Ue,pe;i("click",ie),!["INPUT","TEXTAREA"].includes((Ue=ie.target)==null?void 0:Ue.tagName)&&S.value&&((pe=s.navigate)==null||pe.call(s,ie),!f&&(m.activatable.value?a(!l.value,ie):(m.selectable.value||t.value!=null)&&u(!d.value,ie)))}function qe(ie){const Ue=ie.target;["INPUT","TEXTAREA"].includes(Ue.tagName)||(ie.key==="Enter"||ie.key===" "&&!(w!=null&&w.filterable))&&(ie.preventDefault(),ie.stopPropagation(),ie.target.dispatchEvent(new MouseEvent("click",ie)))}return be(()=>{const ie=b.value?"a":t.tag,Ue=r.title||t.title!=null,pe=r.subtitle||t.subtitle!=null,Me=!!(t.appendAvatar||t.appendIcon),je=!!(Me||r.append),ot=!!(t.prependAvatar||t.prependIcon),pt=!!(ot||r.prepend);return w==null||w.updateHasPrepend(pt),t.activeColor&&Ok("active-color",["color","base-color"]),yt(v(ie,Se({class:["v-list-item",{"v-list-item--active":T.value,"v-list-item--disabled":t.disabled,"v-list-item--link":S.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!pt&&(w==null?void 0:w.hasPrepend.value),"v-list-item--slim":t.slim,[`${t.activeClass}`]:t.activeClass&&T.value},q.value,A.value,O.value,ee.value,de.value,L.value,Be.value,J.value,t.class],style:[j.value,fe.value,t.style],tabindex:S.value?w?-2:0:void 0,"aria-selected":I.value?m.activatable.value?l.value:m.selectable.value?d.value:T.value:void 0,onClick:le,onKeydown:S.value&&!b.value&&qe},s.linkProps),{default:()=>{var _;return[$a(S.value||T.value,"v-list-item"),pt&&k("div",{key:"prepend",class:"v-list-item__prepend"},[r.prepend?v(mt,{key:"prepend-defaults",disabled:!ot,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var E;return[(E=r.prepend)==null?void 0:E.call(r,U.value)]}}):k(Ee,null,[t.prependAvatar&&v(gs,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&v(Nt,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)]),k("div",{class:"v-list-item__spacer"},null)]),k("div",{class:"v-list-item__content","data-no-activator":""},[Ue&&v(vi,{key:"title"},{default:()=>{var E;return[((E=r.title)==null?void 0:E.call(r,{title:t.title}))??$e(t.title)]}}),pe&&v(Iu,{key:"subtitle"},{default:()=>{var E;return[((E=r.subtitle)==null?void 0:E.call(r,{subtitle:t.subtitle}))??$e(t.subtitle)]}}),(_=r.default)==null?void 0:_.call(r,U.value)]),je&&k("div",{key:"append",class:"v-list-item__append"},[r.append?v(mt,{key:"append-defaults",disabled:!Me,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var E;return[(E=r.append)==null?void 0:E.call(r,U.value)]}}):k(Ee,null,[t.appendIcon&&v(Nt,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&v(gs,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)]),k("div",{class:"v-list-item__spacer"},null)])]}}),[[Cr,S.value&&F.value]])}),{activate:a,isActivated:l,isGroupActivator:f,isSelected:d,list:w,select:u,root:m,id:y,link:s}}}),tj=G({color:String,inset:Boolean,sticky:Boolean,title:String,...Pe(),...st()},"VListSubheader"),py=me()({name:"VListSubheader",props:tj(),setup(t,e){let{slots:n}=e;const{textColorClasses:r,textColorStyles:i}=Er(()=>t.color);return be(()=>{const s=!!(n.default||t.title);return v(t.tag,{class:ce(["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},r.value,t.class]),style:xe([{textColorStyles:i},t.style])},{default:()=>{var o;return[s&&k("div",{class:"v-list-subheader__text"},[((o=n.default)==null?void 0:o.call(n))??t.title])]}})}),{}}}),nj=G({items:Array,returnObject:Boolean},"VListChildren"),_A=me()({name:"VListChildren",props:nj(),setup(t,e){let{slots:n}=e;return mA(),()=>{var r,i;return((r=n.default)==null?void 0:r.call(n))??((i=t.items)==null?void 0:i.map(s=>{var h,f;let{children:o,props:a,type:l,raw:u}=s;if(l==="divider")return((h=n.divider)==null?void 0:h.call(n,{props:a}))??v(ac,a,null);if(l==="subheader")return((f=n.subheader)==null?void 0:f.call(n,{props:a}))??v(py,a,null);const c={subtitle:n.subtitle?m=>{var g;return(g=n.subtitle)==null?void 0:g.call(n,{...m,item:u})}:void 0,prepend:n.prepend?m=>{var g;return(g=n.prepend)==null?void 0:g.call(n,{...m,item:u})}:void 0,append:n.append?m=>{var g;return(g=n.append)==null?void 0:g.call(n,{...m,item:u})}:void 0,title:n.title?m=>{var g;return(g=n.title)==null?void 0:g.call(n,{...m,item:u})}:void 0},d=QI.filterProps(a);return o?v(QI,Se(d,{value:t.returnObject?u:a==null?void 0:a.value,rawId:a==null?void 0:a.value}),{activator:m=>{let{props:g}=m;const p=Se(a,g,{value:t.returnObject?u:a.value});return n.header?n.header({props:p}):v(Un,p,c)},default:()=>v(_A,{items:o,returnObject:t.returnObject},n)}):n.item?n.item({props:a}):v(Un,Se(a,{value:t.returnObject?u:a.value}),c)}))}}}),SA=G({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},itemType:{type:[Boolean,String,Array,Function],default:"type"},returnObject:Boolean,valueComparator:Function},"list-items"),rj=new Set(["item","divider","subheader"]);function ia(t,e){const n=pr(e,t.itemTitle,e),r=pr(e,t.itemValue,n),i=pr(e,t.itemChildren),s=t.itemProps===!0?typeof e=="object"&&e!=null&&!Array.isArray(e)?"children"in e?ti(e,["children"]):e:void 0:pr(e,t.itemProps);let o=pr(e,t.itemType,"item");rj.has(o)||(o="item");const a={title:n,value:r,...s};return{type:o,title:String(a.title??""),value:a.value,props:a,children:o==="item"&&Array.isArray(i)?TA(t,i):void 0,raw:e}}ia.neededProps=["itemTitle","itemValue","itemChildren","itemProps","itemType"];function TA(t,e){const n=tc(t,ia.neededProps),r=[];for(const i of e)r.push(ia(n,i));return r}function ij(t){const e=x(()=>TA(t,t.items)),n=x(()=>e.value.some(a=>a.value===null)),r=ge(new Map),i=ge([]);dr(()=>{const a=e.value,l=new Map,u=[];for(let c=0;c<a.length;c++){const d=a[c];if(wg(d.value)||d.value===null){let h=l.get(d.value);h||(h=[],l.set(d.value,h)),h.push(d)}else u.push(d)}r.value=l,i.value=u});function s(a){const l=r.value,u=e.value,c=i.value,d=n.value,h=t.returnObject,f=!!t.valueComparator,m=t.valueComparator||lr,g=tc(t,ia.neededProps),p=[];e:for(const y of a){if(!d&&y===null)continue;if(h&&typeof y=="string"){p.push(ia(g,y));continue}const w=l.get(y);if(f||!w){for(const T of f?u:c)if(m(y,T.value)){p.push(T);continue e}p.push(ia(g,y));continue}p.push(...w)}return p}function o(a){return t.returnObject?a.map(l=>{let{raw:u}=l;return u}):a.map(l=>{let{value:u}=l;return u})}return{items:e,transformIn:s,transformOut:o}}const sj=new Set(["item","divider","subheader"]);function oj(t,e){const n=wg(e)?e:pr(e,t.itemTitle),r=wg(e)?e:pr(e,t.itemValue,void 0),i=pr(e,t.itemChildren),s=t.itemProps===!0?ti(e,["children"]):pr(e,t.itemProps);let o=pr(e,t.itemType,"item");sj.has(o)||(o="item");const a={title:n,value:r,...s};return{type:o,title:a.title,value:a.value,props:a,children:o==="item"&&i?EA(t,i):void 0,raw:e}}function EA(t,e){const n=[];for(const r of e)n.push(oj(t,r));return n}function aj(t){return{items:x(()=>EA(t,t.items))}}const lj=G({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,filterable:Boolean,expandIcon:Ge,collapseIcon:Ge,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":$n(),"onClick:select":$n(),"onUpdate:opened":$n(),...K4({selectStrategy:"single-leaf",openStrategy:"list"}),...As(),...Pe(),...nr(),...fr(),...Mi(),...SA(),...er(),...st(),...Et(),...Oi({variant:"text"})},"VList"),pi=me()({name:"VList",props:lj(),emits:{"update:selected":t=>!0,"update:activated":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:activate":t=>!0,"click:select":t=>!0},setup(t,e){let{slots:n}=e;const{items:r}=aj(t),{themeClasses:i}=$t(t),{backgroundColorClasses:s,backgroundColorStyles:o}=cr(()=>t.bgColor),{borderClasses:a}=xs(t),{densityClasses:l}=gr(t),{dimensionStyles:u}=mr(t),{elevationClasses:c}=Vi(t),{roundedClasses:d}=tr(t),{children:h,open:f,parents:m,select:g,getPath:p}=Y4(t),y=V(()=>t.lines?`v-list--${t.lines}-line`:void 0),w=V(()=>t.activeColor),T=V(()=>t.baseColor),b=V(()=>t.color);mA({filterable:t.filterable}),Ri({VListGroup:{activeColor:w,baseColor:T,color:b,expandIcon:V(()=>t.expandIcon),collapseIcon:V(()=>t.collapseIcon)},VListItem:{activeClass:V(()=>t.activeClass),activeColor:w,baseColor:T,color:b,density:V(()=>t.density),disabled:V(()=>t.disabled),lines:V(()=>t.lines),nav:V(()=>t.nav),slim:V(()=>t.slim),variant:V(()=>t.variant)}});const I=ge(!1),S=te();function C(O){I.value=!0}function D(O){I.value=!1}function P(O){var j;!I.value&&!(O.relatedTarget&&((j=S.value)!=null&&j.contains(O.relatedTarget)))&&A()}function $(O){const j=O.target;if(!(!S.value||j.tagName==="INPUT"&&["Home","End"].includes(O.key)||j.tagName==="TEXTAREA")){if(O.key==="ArrowDown")A("next");else if(O.key==="ArrowUp")A("prev");else if(O.key==="Home")A("first");else if(O.key==="End")A("last");else return;O.preventDefault()}}function q(O){I.value=!0}function A(O){if(S.value)return Pl(S.value,O)}return be(()=>v(t.tag,{ref:S,class:ce(["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav,"v-list--slim":t.slim},i.value,s.value,a.value,l.value,c.value,y.value,d.value,t.class]),style:xe([o.value,u.value,t.style]),tabindex:t.disabled?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:C,onFocusout:D,onFocus:P,onKeydown:$,onMousedown:q},{default:()=>[v(_A,{items:r.value,returnObject:t.returnObject},n)]})),{open:f,select:g,focus:A,children:h,parents:m,getPath:p}}});function sm(t,e){return{x:t.x+e.x,y:t.y+e.y}}function uj(t,e){return{x:t.x-e.x,y:t.y-e.y}}function XI(t,e){if(t.side==="top"||t.side==="bottom"){const{side:n,align:r}=t,i=r==="left"?0:r==="center"?e.width/2:r==="right"?e.width:r,s=n==="top"?0:n==="bottom"?e.height:n;return sm({x:i,y:s},e)}else if(t.side==="left"||t.side==="right"){const{side:n,align:r}=t,i=n==="left"?0:n==="right"?e.width:n,s=r==="top"?0:r==="center"?e.height/2:r==="bottom"?e.height:r;return sm({x:i,y:s},e)}return sm({x:e.width/2,y:e.height/2},e)}const CA={static:hj,connected:mj},cj=G({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in CA},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function dj(t,e){const n=te({}),r=te();tt&&vs(()=>!!(e.isActive.value&&t.locationStrategy),a=>{var l,u;Ie(()=>t.locationStrategy,a),cn(()=>{window.removeEventListener("resize",i),visualViewport==null||visualViewport.removeEventListener("resize",s),visualViewport==null||visualViewport.removeEventListener("scroll",o),r.value=void 0}),window.addEventListener("resize",i,{passive:!0}),visualViewport==null||visualViewport.addEventListener("resize",s,{passive:!0}),visualViewport==null||visualViewport.addEventListener("scroll",o,{passive:!0}),typeof t.locationStrategy=="function"?r.value=(l=t.locationStrategy(e,t,n))==null?void 0:l.updateLocation:r.value=(u=CA[t.locationStrategy](e,t,n))==null?void 0:u.updateLocation});function i(a){var l;(l=r.value)==null||l.call(r,a)}function s(a){var l;(l=r.value)==null||l.call(r,a)}function o(a){var l;(l=r.value)==null||l.call(r,a)}return{contentStyles:n,updateLocation:r}}function hj(){}function fj(t,e){const n=sy(t);return e?n.x+=parseFloat(t.style.right||0):n.x-=parseFloat(t.style.left||0),n.y-=parseFloat(t.style.top||0),n}function mj(t,e,n){(Array.isArray(t.target.value)||WU(t.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[t.isRtl.value?"right":"left"]:0});const{preferredAnchor:i,preferredOrigin:s}=ry(()=>{const y=bg(e.location,t.isRtl.value),w=e.origin==="overlap"?y:e.origin==="auto"?em(y):bg(e.origin,t.isRtl.value);return y.side===w.side&&y.align===tm(w).align?{preferredAnchor:SI(y),preferredOrigin:SI(w)}:{preferredAnchor:y,preferredOrigin:w}}),[o,a,l,u]=["minWidth","minHeight","maxWidth","maxHeight"].map(y=>x(()=>{const w=parseFloat(e[y]);return isNaN(w)?1/0:w})),c=x(()=>{if(Array.isArray(e.offset))return e.offset;if(typeof e.offset=="string"){const y=e.offset.split(" ").map(parseFloat);return y.length<2&&y.push(0),y}return typeof e.offset=="number"?[e.offset,0]:[0,0]});let d=!1,h=-1;const f=new lU(4),m=new ResizeObserver(()=>{if(!d)return;if(requestAnimationFrame(w=>{w!==h&&f.clear(),requestAnimationFrame(T=>{h=T})}),f.isFull){const w=f.values();if(lr(w.at(-1),w.at(-3))&&!lr(w.at(-1),w.at(-2)))return}const y=p();y&&f.push(y.flipped)});let g=new Yr({x:0,y:0,width:0,height:0});Ie(t.target,(y,w)=>{w&&!Array.isArray(w)&&m.unobserve(w),Array.isArray(y)?lr(y,w)||p():y&&m.observe(y)},{immediate:!0}),Ie(t.contentEl,(y,w)=>{w&&m.unobserve(w),y&&m.observe(y)},{immediate:!0}),cn(()=>{m.disconnect()});function p(){if(d=!1,requestAnimationFrame(()=>d=!0),!t.target.value||!t.contentEl.value)return;(Array.isArray(t.target.value)||t.target.value.offsetParent||t.target.value.getClientRects().length)&&(g=Rk(t.target.value));const y=fj(t.contentEl.value,t.isRtl.value),w=Ld(t.contentEl.value),T=12;w.length||(w.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(y.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),y.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const b=w.reduce((O,j)=>{const J=yU(j);return O?new Yr({x:Math.max(O.left,J.left),y:Math.max(O.top,J.top),width:Math.min(O.right,J.right)-Math.max(O.left,J.left),height:Math.min(O.bottom,J.bottom)-Math.max(O.top,J.top)}):J},void 0);b.x+=T,b.y+=T,b.width-=T*2,b.height-=T*2;let I={anchor:i.value,origin:s.value};function S(O){const j=new Yr(y),J=XI(O.anchor,g),ee=XI(O.origin,j);let{x:fe,y:de}=uj(J,ee);switch(O.anchor.side){case"top":de-=c.value[0];break;case"bottom":de+=c.value[0];break;case"left":fe-=c.value[0];break;case"right":fe+=c.value[0];break}switch(O.anchor.align){case"top":de-=c.value[1];break;case"bottom":de+=c.value[1];break;case"left":fe-=c.value[1];break;case"right":fe+=c.value[1];break}return j.x+=fe,j.y+=de,j.width=Math.min(j.width,l.value),j.height=Math.min(j.height,u.value),{overflows:EI(j,b),x:fe,y:de}}let C=0,D=0;const P={x:0,y:0},$={x:!1,y:!1};let q=-1;for(;!(q++>10);){const{x:O,y:j,overflows:J}=S(I);C+=O,D+=j,y.x+=O,y.y+=j;{const ee=TI(I.anchor),fe=J.x.before||J.x.after,de=J.y.before||J.y.after;let Be=!1;if(["x","y"].forEach(L=>{if(L==="x"&&fe&&!$.x||L==="y"&&de&&!$.y){const F={anchor:{...I.anchor},origin:{...I.origin}},U=L==="x"?ee==="y"?tm:em:ee==="y"?em:tm;F.anchor=U(F.anchor),F.origin=U(F.origin);const{overflows:le}=S(F);(le[L].before<=J[L].before&&le[L].after<=J[L].after||le[L].before+le[L].after<(J[L].before+J[L].after)/2)&&(I=F,Be=$[L]=!0)}}),Be)continue}J.x.before&&(C+=J.x.before,y.x+=J.x.before),J.x.after&&(C-=J.x.after,y.x-=J.x.after),J.y.before&&(D+=J.y.before,y.y+=J.y.before),J.y.after&&(D-=J.y.after,y.y-=J.y.after);{const ee=EI(y,b);P.x=b.width-ee.x.before-ee.x.after,P.y=b.height-ee.y.before-ee.y.after,C+=ee.x.before,y.x+=ee.x.before,D+=ee.y.before,y.y+=ee.y.before}break}const A=TI(I.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${I.anchor.side} ${I.anchor.align}`,transformOrigin:`${I.origin.side} ${I.origin.align}`,top:Ae(om(D)),left:t.isRtl.value?void 0:Ae(om(C)),right:t.isRtl.value?Ae(om(-C)):void 0,minWidth:Ae(A==="y"?Math.min(o.value,g.width):o.value),maxWidth:Ae(JI(ur(P.x,o.value===1/0?0:o.value,l.value))),maxHeight:Ae(JI(ur(P.y,a.value===1/0?0:a.value,u.value)))}),{available:P,contentBox:y,flipped:$}}return Ie(()=>[i.value,s.value,e.offset,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight],()=>p()),rn(()=>{const y=p();if(!y)return;const{available:w,contentBox:T}=y;T.height>w.y&&requestAnimationFrame(()=>{p(),requestAnimationFrame(()=>{p()})})}),{updateLocation:p}}function om(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function JI(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let Cg=!0;const Ud=[];function gj(t){!Cg||Ud.length?(Ud.push(t),kg()):(Cg=!1,t(),kg())}let ZI=-1;function kg(){cancelAnimationFrame(ZI),ZI=requestAnimationFrame(()=>{const t=Ud.shift();t&&t(),Ud.length?kg():Cg=!0})}const Gc={none:null,close:yj,block:wj,reposition:bj},vj=G({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in Gc}},"VOverlay-scroll-strategies");function pj(t,e){if(!tt)return;let n;dr(async()=>{n==null||n.stop(),e.isActive.value&&t.scrollStrategy&&(n=Nl(),await new Promise(r=>setTimeout(r)),n.active&&n.run(()=>{var r;typeof t.scrollStrategy=="function"?t.scrollStrategy(e,t,n):(r=Gc[t.scrollStrategy])==null||r.call(Gc,e,t,n)}))}),cn(()=>{n==null||n.stop()})}function yj(t){function e(n){t.isActive.value=!1}kA(yy(t.target.value,t.contentEl.value),e)}function wj(t,e){var a;const n=(a=t.root.value)==null?void 0:a.offsetParent,r=yy(t.target.value,t.contentEl.value),i=[...new Set([...Ld(r,e.contained?n:void 0),...Ld(t.contentEl.value,e.contained?n:void 0)])].filter(l=>!l.classList.contains("v-overlay-scroll-blocked")),s=window.innerWidth-document.documentElement.offsetWidth,o=(l=>ay(l)&&l)(n||document.documentElement);o&&t.root.value.classList.add("v-overlay--scroll-blocked"),i.forEach((l,u)=>{l.style.setProperty("--v-body-scroll-x",Ae(-l.scrollLeft)),l.style.setProperty("--v-body-scroll-y",Ae(-l.scrollTop)),l!==document.documentElement&&l.style.setProperty("--v-scrollbar-offset",Ae(s)),l.classList.add("v-overlay-scroll-blocked")}),cn(()=>{i.forEach((l,u)=>{const c=parseFloat(l.style.getPropertyValue("--v-body-scroll-x")),d=parseFloat(l.style.getPropertyValue("--v-body-scroll-y")),h=l.style.scrollBehavior;l.style.scrollBehavior="auto",l.style.removeProperty("--v-body-scroll-x"),l.style.removeProperty("--v-body-scroll-y"),l.style.removeProperty("--v-scrollbar-offset"),l.classList.remove("v-overlay-scroll-blocked"),l.scrollLeft=-c,l.scrollTop=-d,l.style.scrollBehavior=h}),o&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function bj(t,e,n){let r=!1,i=-1,s=-1;function o(a){gj(()=>{var c,d;const l=performance.now();(d=(c=t.updateLocation).value)==null||d.call(c,a),r=(performance.now()-l)/(1e3/60)>2})}s=(typeof requestIdleCallback>"u"?a=>a():requestIdleCallback)(()=>{n.run(()=>{kA(yy(t.target.value,t.contentEl.value),a=>{r?(cancelAnimationFrame(i),i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{o(a)})})):o(a)})})}),cn(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(s),cancelAnimationFrame(i)})}function yy(t,e){return Array.isArray(t)?document.elementsFromPoint(...t).find(n=>!(e!=null&&e.contains(n))):t??e}function kA(t,e){const n=[document,...Ld(t)];n.forEach(r=>{r.addEventListener("scroll",e,{passive:!0})}),cn(()=>{n.forEach(r=>{r.removeEventListener("scroll",e)})})}const Ag=Symbol.for("vuetify:v-menu"),Ij=G({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function _j(t,e){let n=()=>{};function r(o){n==null||n();const a=Number(o?t.openDelay:t.closeDelay);return new Promise(l=>{n=uU(a,()=>{e==null||e(o),l(o)})})}function i(){return r(!0)}function s(){return r(!1)}return{clearDelay:n,runOpenDelay:i,runCloseDelay:s}}const Sj=G({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...Ij()},"VOverlay-activator");function Tj(t,e){let{isActive:n,isTop:r,contentEl:i}=e;const s=Vt("useActivator"),o=te();let a=!1,l=!1,u=!0;const c=x(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),d=x(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!c.value),{runOpenDelay:h,runCloseDelay:f}=_j(t,D=>{D===(t.openOnHover&&a||c.value&&l)&&!(t.openOnHover&&n.value&&!r.value)&&(n.value!==D&&(u=!0),n.value=D)}),m=te(),g={onClick:D=>{D.stopPropagation(),o.value=D.currentTarget||D.target,n.value||(m.value=[D.clientX,D.clientY]),n.value=!n.value},onMouseenter:D=>{var P;(P=D.sourceCapabilities)!=null&&P.firesTouchEvents||(a=!0,o.value=D.currentTarget||D.target,h())},onMouseleave:D=>{a=!1,f()},onFocus:D=>{Md(D.target,":focus-visible")!==!1&&(l=!0,D.stopPropagation(),o.value=D.currentTarget||D.target,h())},onBlur:D=>{l=!1,D.stopPropagation(),f()}},p=x(()=>{const D={};return d.value&&(D.onClick=g.onClick),t.openOnHover&&(D.onMouseenter=g.onMouseenter,D.onMouseleave=g.onMouseleave),c.value&&(D.onFocus=g.onFocus,D.onBlur=g.onBlur),D}),y=x(()=>{const D={};if(t.openOnHover&&(D.onMouseenter=()=>{a=!0,h()},D.onMouseleave=()=>{a=!1,f()}),c.value&&(D.onFocusin=()=>{l=!0,h()},D.onFocusout=()=>{l=!1,f()}),t.closeOnContentClick){const P=et(Ag,null);D.onClick=()=>{n.value=!1,P==null||P.closeParents()}}return D}),w=x(()=>{const D={};return t.openOnHover&&(D.onMouseenter=()=>{u&&(a=!0,u=!1,h())},D.onMouseleave=()=>{a=!1,f()}),D});Ie(r,D=>{var P;D&&(t.openOnHover&&!a&&(!c.value||!l)||c.value&&!l&&(!t.openOnHover||!a))&&!((P=i.value)!=null&&P.contains(document.activeElement))&&(n.value=!1)}),Ie(n,D=>{D||setTimeout(()=>{m.value=void 0})},{flush:"post"});const T=yg();dr(()=>{T.value&&rn(()=>{o.value=T.el})});const b=yg(),I=x(()=>t.target==="cursor"&&m.value?m.value:b.value?b.el:AA(t.target,s)||o.value),S=x(()=>Array.isArray(I.value)?void 0:I.value);let C;return Ie(()=>!!t.activator,D=>{D&&tt?(C=Nl(),C.run(()=>{Ej(t,s,{activatorEl:o,activatorEvents:p})})):C&&C.stop()},{flush:"post",immediate:!0}),cn(()=>{C==null||C.stop()}),{activatorEl:o,activatorRef:T,target:I,targetEl:S,targetRef:b,activatorEvents:p,contentEvents:y,scrimEvents:w}}function Ej(t,e,n){let{activatorEl:r,activatorEvents:i}=n;Ie(()=>t.activator,(l,u)=>{if(u&&l!==u){const c=a(u);c&&o(c)}l&&rn(()=>s())},{immediate:!0}),Ie(()=>t.activatorProps,()=>{s()}),cn(()=>{o()});function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&wU(l,Se(i.value,u))}function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&bU(l,Se(i.value,u))}function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator;const u=AA(l,e);return r.value=(u==null?void 0:u.nodeType)===Node.ELEMENT_NODE?u:void 0,r.value}}function AA(t,e){var r,i;if(!t)return;let n;if(t==="parent"){let s=(i=(r=e==null?void 0:e.proxy)==null?void 0:r.$el)==null?void 0:i.parentNode;for(;s!=null&&s.hasAttribute("data-no-activator");)s=s.parentNode;n=s}else typeof t=="string"?n=document.querySelector(t):"$el"in t?n=t.$el:n=t;return n}const cf=["sm","md","lg","xl","xxl"],xg=Symbol.for("vuetify:display"),e_={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},Cj=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e_;return yn(e_,t)};function t_(t){return tt&&!t?window.innerWidth:typeof t=="object"&&t.clientWidth||0}function n_(t){return tt&&!t?window.innerHeight:typeof t=="object"&&t.clientHeight||0}function r_(t){const e=tt&&!t?window.navigator.userAgent:"ssr";function n(m){return!!e.match(m)}const r=n(/android/i),i=n(/iphone|ipad|ipod/i),s=n(/cordova/i),o=n(/electron/i),a=n(/chrome/i),l=n(/edge/i),u=n(/firefox/i),c=n(/opera/i),d=n(/win/i),h=n(/mac/i),f=n(/linux/i);return{android:r,ios:i,cordova:s,electron:o,chrome:a,edge:l,firefox:u,opera:c,win:d,mac:h,linux:f,touch:nU,ssr:e==="ssr"}}function kj(t,e){const{thresholds:n,mobileBreakpoint:r}=Cj(t),i=ge(n_(e)),s=ge(r_(e)),o=wt({}),a=ge(t_(e));function l(){i.value=n_(),a.value=t_()}function u(){l(),s.value=r_()}return dr(()=>{const c=a.value<n.sm,d=a.value<n.md&&!c,h=a.value<n.lg&&!(d||c),f=a.value<n.xl&&!(h||d||c),m=a.value<n.xxl&&!(f||h||d||c),g=a.value>=n.xxl,p=c?"xs":d?"sm":h?"md":f?"lg":m?"xl":"xxl",y=typeof r=="number"?r:n[r],w=a.value<y;o.xs=c,o.sm=d,o.md=h,o.lg=f,o.xl=m,o.xxl=g,o.smAndUp=!c,o.mdAndUp=!(c||d),o.lgAndUp=!(c||d||h),o.xlAndUp=!(c||d||h||f),o.smAndDown=!(h||f||m||g),o.mdAndDown=!(f||m||g),o.lgAndDown=!(m||g),o.xlAndDown=!g,o.name=p,o.height=i.value,o.width=a.value,o.mobile=w,o.mobileBreakpoint=r,o.platform=s.value,o.thresholds=n}),tt&&(window.addEventListener("resize",l,{passive:!0}),cn(()=>{window.removeEventListener("resize",l)},!0)),{...H_(o),update:u,ssr:!!e}}const Aj=G({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function wy(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{mobile:null},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ni();const n=et(xg);if(!n)throw new Error("Could not find Vuetify display injection");const r=x(()=>t.mobile?!0:typeof t.mobileBreakpoint=="number"?n.width.value<t.mobileBreakpoint:t.mobileBreakpoint?n.width.value<n.thresholds.value[t.mobileBreakpoint]:t.mobile===null?n.mobile.value:!1),i=V(()=>e?{[`${e}--mobile`]:r.value}:{});return{...n,displayClasses:i,mobile:r}}function xj(){if(!tt)return ge(!1);const{ssr:t}=wy();if(t){const e=ge(!1);return ki(()=>{e.value=!0}),e}else return ge(!0)}const by=G({eager:Boolean},"lazy");function Iy(t,e){const n=ge(!1),r=V(()=>n.value||t.eager||e.value);Ie(e,()=>n.value=!0);function i(){t.eager||(n.value=!1)}return{isBooted:n,hasContent:r,onAfterLeave:i}}function _y(){const e=Vt("useScopeId").vnode.scopeId;return{scopeId:e?{[e]:""}:void 0}}const i_=Symbol.for("vuetify:stack"),il=wt([]);function Dj(t,e,n){const r=Vt("useStack"),i=!n,s=et(i_,void 0),o=wt({activeChildren:new Set});Yt(i_,o);const a=ge(Number(Qr(e)));vs(t,()=>{var d;const c=(d=il.at(-1))==null?void 0:d[1];a.value=c?c+10:Number(Qr(e)),i&&il.push([r.uid,a.value]),s==null||s.activeChildren.add(r.uid),cn(()=>{if(i){const h=ke(il).findIndex(f=>f[0]===r.uid);il.splice(h,1)}s==null||s.activeChildren.delete(r.uid)})});const l=ge(!0);i&&dr(()=>{var d;const c=((d=il.at(-1))==null?void 0:d[0])===r.uid;setTimeout(()=>l.value=c)});const u=V(()=>!o.activeChildren.size);return{globalTop:Tu(l),localTop:u,stackStyles:V(()=>({zIndex:a.value}))}}function Pj(t){return{teleportTarget:x(()=>{const n=t();if(n===!0||!tt)return;const r=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(r==null)return;let i=[...r.children].find(s=>s.matches(".v-overlay-container"));return i||(i=document.createElement("div"),i.className="v-overlay-container",r.appendChild(i)),i})}}function Nj(){return!0}function xA(t,e,n){if(!t||DA(t,n)===!1)return!1;const r=$k(e);if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&r.host===t.target)return!1;const i=(typeof n.value=="object"&&n.value.include||(()=>[]))();return i.push(e),!i.some(s=>s==null?void 0:s.contains(t.target))}function DA(t,e){return(typeof e.value=="object"&&e.value.closeConditional||Nj)(t)}function Rj(t,e,n){const r=typeof n.value=="function"?n.value:n.value.handler;t.shadowTarget=t.target,e._clickOutside.lastMousedownWasOutside&&xA(t,e,n)&&setTimeout(()=>{DA(t,n)&&r&&r(t)},0)}function s_(t,e){const n=$k(t);e(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&e(n)}const o_={mounted(t,e){const n=i=>Rj(i,t,e),r=i=>{t._clickOutside.lastMousedownWasOutside=xA(i,t,e)};s_(t,i=>{i.addEventListener("click",n,!0),i.addEventListener("mousedown",r,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!1}),t._clickOutside[e.instance.$.uid]={onClick:n,onMousedown:r}},beforeUnmount(t,e){t._clickOutside&&(s_(t,n=>{var s;if(!n||!((s=t._clickOutside)!=null&&s[e.instance.$.uid]))return;const{onClick:r,onMousedown:i}=t._clickOutside[e.instance.$.uid];n.removeEventListener("click",r,!0),n.removeEventListener("mousedown",i,!0)}),delete t._clickOutside[e.instance.$.uid])}};function Oj(t){const{modelValue:e,color:n,...r}=t;return v(oo,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&k("div",Se({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},r),null)]})}const PA=G({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...Sj(),...Pe(),...fr(),...by(),...cj(),...vj(),...Et(),...ic()},"VOverlay"),a_=me()({name:"VOverlay",directives:{vClickOutside:o_},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...PA()},emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,keydown:t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,e){let{slots:n,attrs:r,emit:i}=e;const s=Vt("VOverlay"),o=te(),a=te(),l=te(),u=_t(t,"modelValue"),c=x({get:()=>u.value,set:pe=>{pe&&t.disabled||(u.value=pe)}}),{themeClasses:d}=$t(t),{rtlClasses:h,isRtl:f}=vr(),{hasContent:m,onAfterLeave:g}=Iy(t,c),p=cr(()=>typeof t.scrim=="string"?t.scrim:null),{globalTop:y,localTop:w,stackStyles:T}=Dj(c,()=>t.zIndex,t._disableGlobalStack),{activatorEl:b,activatorRef:I,target:S,targetEl:C,targetRef:D,activatorEvents:P,contentEvents:$,scrimEvents:q}=Tj(t,{isActive:c,isTop:w,contentEl:l}),{teleportTarget:A}=Pj(()=>{var je,ot,pt;const pe=t.attach||t.contained;if(pe)return pe;const Me=((je=b==null?void 0:b.value)==null?void 0:je.getRootNode())||((pt=(ot=s.proxy)==null?void 0:ot.$el)==null?void 0:pt.getRootNode());return Me instanceof ShadowRoot?Me:!1}),{dimensionStyles:O}=mr(t),j=xj(),{scopeId:J}=_y();Ie(()=>t.disabled,pe=>{pe&&(c.value=!1)});const{contentStyles:ee,updateLocation:fe}=dj(t,{isRtl:f,contentEl:l,target:S,isActive:c});pj(t,{root:o,contentEl:l,targetEl:C,target:S,isActive:c,updateLocation:fe});function de(pe){i("click:outside",pe),t.persistent?qe():c.value=!1}function Be(pe){return c.value&&y.value&&(!t.scrim||pe.target===a.value||pe instanceof MouseEvent&&pe.shadowTarget===a.value)}tt&&Ie(c,pe=>{pe?window.addEventListener("keydown",L):window.removeEventListener("keydown",L)},{immediate:!0}),Zn(()=>{tt&&window.removeEventListener("keydown",L)});function L(pe){var Me,je,ot;pe.key==="Escape"&&y.value&&((Me=l.value)!=null&&Me.contains(document.activeElement)||i("keydown",pe),t.persistent?qe():(c.value=!1,(je=l.value)!=null&&je.contains(document.activeElement)&&((ot=b.value)==null||ot.focus())))}function F(pe){pe.key==="Escape"&&!y.value||i("keydown",pe)}const U=D4();vs(()=>t.closeOnBack,()=>{P4(U,pe=>{y.value&&c.value?(pe(!1),t.persistent?qe():c.value=!1):pe()})});const le=te();Ie(()=>c.value&&(t.absolute||t.contained)&&A.value==null,pe=>{if(pe){const Me=Uk(o.value);Me&&Me!==document.scrollingElement&&(le.value=Me.scrollTop)}});function qe(){t.noClickAnimation||l.value&&Qs(l.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:vu})}function ie(){i("afterEnter")}function Ue(){g(),i("afterLeave")}return be(()=>{var pe;return k(Ee,null,[(pe=n.activator)==null?void 0:pe.call(n,{isActive:c.value,targetRef:D,props:Se({ref:I},P.value,t.activatorProps)}),j.value&&m.value&&v(v1,{disabled:!A.value,to:A.value},{default:()=>[k("div",Se({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":c.value,"v-overlay--contained":t.contained},d.value,h.value,t.class],style:[T.value,{"--v-overlay-opacity":t.opacity,top:Ae(le.value)},t.style],ref:o,onKeydown:F},J,r),[v(Oj,Se({color:p,modelValue:c.value&&!!t.scrim,ref:a},q.value),null),v(fi,{appear:!0,persisted:!0,transition:t.transition,target:S.value,onAfterEnter:ie,onAfterLeave:Ue},{default:()=>{var Me;return[yt(k("div",Se({ref:l,class:["v-overlay__content",t.contentClass],style:[O.value,ee.value]},$.value,t.contentProps),[(Me=n.default)==null?void 0:Me.call(n,{isActive:c})]),[[Cn,c.value],[o_,{handler:de,closeConditional:Be,include:()=>[b.value]}]])]}})])]})])}),{activatorEl:b,scrimEl:a,target:S,animateClick:qe,contentEl:l,globalTop:y,localTop:w,updateLocation:fe}}}),am=Symbol("Forwarded refs");function lm(t,e){let n=t;for(;n;){const r=Reflect.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function ja(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t[am]=n,new Proxy(t,{get(i,s){if(Reflect.has(i,s))return Reflect.get(i,s);if(!(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))){for(const o of n)if(o.value&&Reflect.has(o.value,s)){const a=Reflect.get(o.value,s);return typeof a=="function"?a.bind(o.value):a}}},has(i,s){if(Reflect.has(i,s))return!0;if(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,s))return!0;return!1},set(i,s,o){if(Reflect.has(i,s))return Reflect.set(i,s,o);if(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))return!1;for(const a of n)if(a.value&&Reflect.has(a.value,s))return Reflect.set(a.value,s,o);return!1},getOwnPropertyDescriptor(i,s){var a;const o=Reflect.getOwnPropertyDescriptor(i,s);if(o)return o;if(!(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))){for(const l of n){if(!l.value)continue;const u=lm(l.value,s)??("_"in l.value?lm((a=l.value._)==null?void 0:a.setupState,s):void 0);if(u)return u}for(const l of n){const u=l.value&&l.value[am];if(!u)continue;const c=u.slice();for(;c.length;){const d=c.shift(),h=lm(d.value,s);if(h)return h;const f=d.value&&d.value[am];f&&c.push(...f)}}}}})}const Mj=G({id:String,submenu:Boolean,disableInitialFocus:Boolean,...ti(PA({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:dA}}),["absolute"])},"VMenu"),NA=me()({name:"VMenu",props:Mj(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=_t(t,"modelValue"),{scopeId:i}=_y(),{isRtl:s}=vr(),o=Ei(),a=V(()=>t.id||`v-menu-${o}`),l=te(),u=et(Ag,null),c=ge(new Set);Yt(Ag,{register(){c.value.add(o)},unregister(){c.value.delete(o)},closeParents(p){setTimeout(()=>{var y;!c.value.size&&!t.persistent&&(p==null||(y=l.value)!=null&&y.contentEl&&!cU(p,l.value.contentEl))&&(r.value=!1,u==null||u.closeParents())},40)}}),Zn(()=>{u==null||u.unregister(),document.removeEventListener("focusin",d)}),Xg(()=>r.value=!1);async function d(p){var T,b,I;const y=p.relatedTarget,w=p.target;await rn(),r.value&&y!==w&&((T=l.value)!=null&&T.contentEl)&&((b=l.value)!=null&&b.globalTop)&&![document,l.value.contentEl].includes(w)&&!l.value.contentEl.contains(w)&&((I=Od(l.value.contentEl)[0])==null||I.focus())}Ie(r,p=>{p?(u==null||u.register(),tt&&!t.disableInitialFocus&&document.addEventListener("focusin",d,{once:!0})):(u==null||u.unregister(),tt&&document.removeEventListener("focusin",d))},{immediate:!0});function h(p){u==null||u.closeParents(p)}function f(p){var y,w,T,b,I;if(!t.disabled)if(p.key==="Tab"||p.key==="Enter"&&!t.closeOnContentClick){if(p.key==="Enter"&&(p.target instanceof HTMLTextAreaElement||p.target instanceof HTMLInputElement&&p.target.closest("form")))return;p.key==="Enter"&&p.preventDefault(),Dk(Od((y=l.value)==null?void 0:y.contentEl,!1),p.shiftKey?"prev":"next",C=>C.tabIndex>=0)||(r.value=!1,(T=(w=l.value)==null?void 0:w.activatorEl)==null||T.focus())}else t.submenu&&p.key===(s.value?"ArrowRight":"ArrowLeft")&&(r.value=!1,(I=(b=l.value)==null?void 0:b.activatorEl)==null||I.focus())}function m(p){var w;if(t.disabled)return;const y=(w=l.value)==null?void 0:w.contentEl;y&&r.value?p.key==="ArrowDown"?(p.preventDefault(),p.stopImmediatePropagation(),Pl(y,"next")):p.key==="ArrowUp"?(p.preventDefault(),p.stopImmediatePropagation(),Pl(y,"prev")):t.submenu&&(p.key===(s.value?"ArrowRight":"ArrowLeft")?r.value=!1:p.key===(s.value?"ArrowLeft":"ArrowRight")&&(p.preventDefault(),Pl(y,"first"))):(t.submenu?p.key===(s.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(p.key))&&(r.value=!0,p.preventDefault(),setTimeout(()=>setTimeout(()=>m(p))))}const g=x(()=>Se({"aria-haspopup":"menu","aria-expanded":String(r.value),"aria-controls":a.value,onKeydown:m},t.activatorProps));return be(()=>{const p=a_.filterProps(t);return v(a_,Se({ref:l,id:a.value,class:["v-menu",t.class],style:t.style},p,{modelValue:r.value,"onUpdate:modelValue":y=>r.value=y,absolute:!0,activatorProps:g.value,location:t.location??(t.submenu?"end":"bottom"),"onClick:outside":h,onKeydown:f},i),{activator:n.activator,default:function(){for(var y=arguments.length,w=new Array(y),T=0;T<y;T++)w[T]=arguments[T];return v(mt,{root:"VMenu"},{default:()=>{var b;return[(b=n.default)==null?void 0:b.call(n,...w)]}})}})}),ja({id:a,openChildren:c},l)}}),Vj={key:0},Lj={key:1,class:"text-h6"},Fj={key:1},Bj={__name:"AuthStatus",props:{user:{type:Object,default:null}},emits:["login","logout"],setup(t,{emit:e}){const n=e,r=()=>{n("login")},i=()=>{n("logout")};return(s,o)=>(ve(),Fe("div",null,[t.user?(ve(),Fe("div",Vj,[v(NA,{location:"bottom"},{activator:N(({props:a})=>[v(un,Se({icon:""},a),{default:N(()=>[v(gs,{color:"primary",size:"small"},{default:N(()=>{var l;return[t.user.photoURL?(ve(),xt(ef,{key:0,src:t.user.photoURL,alt:t.user.displayName},null,8,["src","alt"])):(ve(),Fe("span",Lj,$e((l=t.user.displayName)==null?void 0:l.charAt(0)),1))]}),_:1})]),_:2},1040)]),default:N(()=>[v(pi,null,{default:N(()=>[v(Un,{title:t.user.displayName,subtitle:t.user.email},null,8,["title","subtitle"]),v(ac),v(Un,{onClick:i,"prepend-icon":"mdi-logout"},{default:N(()=>[v(vi,null,{default:N(()=>o[0]||(o[0]=[ze("",-1)])),_:1,__:[0]})]),_:1})]),_:1})]),_:1})])):(ve(),Fe("div",Fj,[v(un,{onClick:r,"prepend-icon":"mdi-google",color:"white"},{default:N(()=>o[1]||(o[1]=[ze(" Google ",-1)])),_:1,__:[1]})]))]))}},$j=G({text:String,onClick:$n(),...Pe(),...Et()},"VLabel"),RA=me()({name:"VLabel",props:$j(),setup(t,e){let{slots:n}=e;return be(()=>{var r;return k("label",{class:ce(["v-label",{"v-label--clickable":!!t.onClick},t.class]),style:xe(t.style),onClick:t.onClick},[t.text,(r=n.default)==null?void 0:r.call(n)])}),{}}}),OA=Symbol.for("vuetify:selection-control-group"),MA=G({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:Ge,trueIcon:Ge,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:lr},...Pe(),...nr(),...Et()},"SelectionControlGroup"),Uj=G({...MA({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");me()({name:"VSelectionControlGroup",props:Uj(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=_t(t,"modelValue"),i=Ei(),s=V(()=>t.id||`v-selection-control-group-${i}`),o=V(()=>t.name||s.value),a=new Set;return Yt(OA,{modelValue:r,forceUpdate:()=>{a.forEach(l=>l())},onForceUpdate:l=>{a.add(l),cn(()=>{a.delete(l)})}}),Ri({[t.defaultsTarget]:{color:V(()=>t.color),disabled:V(()=>t.disabled),density:V(()=>t.density),error:V(()=>t.error),inline:V(()=>t.inline),modelValue:r,multiple:V(()=>!!t.multiple||t.multiple==null&&Array.isArray(r.value)),name:o,falseIcon:V(()=>t.falseIcon),trueIcon:V(()=>t.trueIcon),readonly:V(()=>t.readonly),ripple:V(()=>t.ripple),type:V(()=>t.type),valueComparator:V(()=>t.valueComparator)}}),be(()=>{var l;return k("div",{class:ce(["v-selection-control-group",{"v-selection-control-group--inline":t.inline},t.class]),style:xe(t.style),role:t.type==="radio"?"radiogroup":void 0},[(l=n.default)==null?void 0:l.call(n)])}),{}}});const VA=G({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Pe(),...MA()},"VSelectionControl");function jj(t){const e=et(OA,void 0),{densityClasses:n}=gr(t),r=_t(t,"modelValue"),i=x(()=>t.trueValue!==void 0?t.trueValue:t.value!==void 0?t.value:!0),s=x(()=>t.falseValue!==void 0?t.falseValue:!1),o=x(()=>!!t.multiple||t.multiple==null&&Array.isArray(r.value)),a=x({get(){const f=e?e.modelValue.value:r.value;return o.value?br(f).some(m=>t.valueComparator(m,i.value)):t.valueComparator(f,i.value)},set(f){if(t.readonly)return;const m=f?i.value:s.value;let g=m;o.value&&(g=f?[...br(r.value),m]:br(r.value).filter(p=>!t.valueComparator(p,i.value))),e?e.modelValue.value=g:r.value=g}}),{textColorClasses:l,textColorStyles:u}=Er(()=>{if(!(t.error||t.disabled))return a.value?t.color:t.baseColor}),{backgroundColorClasses:c,backgroundColorStyles:d}=cr(()=>a.value&&!t.error&&!t.disabled?t.color:t.baseColor),h=x(()=>a.value?t.trueIcon:t.falseIcon);return{group:e,densityClasses:n,trueValue:i,falseValue:s,model:a,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:d,icon:h}}const l_=me()({name:"VSelectionControl",directives:{vRipple:Cr},inheritAttrs:!1,props:VA(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:r}=e;const{group:i,densityClasses:s,icon:o,model:a,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:d,trueValue:h}=jj(t),f=Ei(),m=ge(!1),g=ge(!1),p=te(),y=V(()=>t.id||`input-${f}`),w=V(()=>!t.disabled&&!t.readonly);i==null||i.onForceUpdate(()=>{p.value&&(p.value.checked=a.value)});function T(C){w.value&&(m.value=!0,Md(C.target,":focus-visible")!==!1&&(g.value=!0))}function b(){m.value=!1,g.value=!1}function I(C){C.stopPropagation()}function S(C){if(!w.value){p.value&&(p.value.checked=a.value);return}t.readonly&&i&&rn(()=>i.forceUpdate()),a.value=C.target.checked}return be(()=>{var q,A;const C=r.label?r.label({label:t.label,props:{for:y.value}}):t.label,[D,P]=ny(n),$=k("input",Se({ref:p,checked:a.value,disabled:!!t.disabled,id:y.value,onBlur:b,onFocus:T,onInput:S,"aria-disabled":!!t.disabled,"aria-label":t.label,type:t.type,value:h.value,name:t.name,"aria-checked":t.type==="checkbox"?a.value:void 0},P),null);return k("div",Se({class:["v-selection-control",{"v-selection-control--dirty":a.value,"v-selection-control--disabled":t.disabled,"v-selection-control--error":t.error,"v-selection-control--focused":m.value,"v-selection-control--focus-visible":g.value,"v-selection-control--inline":t.inline},s.value,t.class]},D,{style:t.style}),[k("div",{class:ce(["v-selection-control__wrapper",l.value]),style:xe(u.value)},[(q=r.default)==null?void 0:q.call(r,{backgroundColorClasses:c,backgroundColorStyles:d}),yt(k("div",{class:ce(["v-selection-control__input"])},[((A=r.input)==null?void 0:A.call(r,{model:a,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:d,inputNode:$,icon:o.value,props:{onFocus:T,onBlur:b,id:y.value}}))??k(Ee,null,[o.value&&v(Nt,{key:"icon",icon:o.value},null),$])]),[[Cr,!t.disabled&&!t.readonly&&t.ripple,null,{center:!0,circle:!0}]])]),C&&v(RA,{for:y.value,onClick:I},{default:()=>[C]})])}),{isFocused:m,input:p}}}),LA=G({indeterminate:Boolean,indeterminateIcon:{type:Ge,default:"$checkboxIndeterminate"},...VA({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Dg=me()({name:"VCheckboxBtn",props:LA(),emits:{"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{slots:n}=e;const r=_t(t,"indeterminate"),i=_t(t,"modelValue");function s(l){r.value&&(r.value=!1)}const o=V(()=>r.value?t.indeterminateIcon:t.falseIcon),a=V(()=>r.value?t.indeterminateIcon:t.trueIcon);return be(()=>{const l=ti(l_.filterProps(t),["modelValue"]);return v(l_,Se(l,{modelValue:i.value,"onUpdate:modelValue":[u=>i.value=u,s],class:["v-checkbox-btn",t.class],style:t.style,type:"checkbox",falseIcon:o.value,trueIcon:a.value,"aria-checked":r.value?"mixed":void 0}),n)}),{}}});function FA(t){const{t:e}=oc();function n(r){let{name:i,color:s,...o}=r;const a={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[i],l=t[`onClick:${i}`];function u(d){d.key!=="Enter"&&d.key!==" "||(d.preventDefault(),d.stopPropagation(),xk(l,new PointerEvent("click",d)))}const c=l&&a?e(`$vuetify.input.${a}`,t.label??""):void 0;return v(Nt,Se({icon:t[`${i}Icon`],"aria-label":c,onClick:l,onKeydown:u,color:s},o),null)}return{InputIcon:n}}const qj=G({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Pe(),...ic({transition:{component:hA,leaveAbsolute:!0,group:!0}})},"VMessages"),zj=me()({name:"VMessages",props:qj(),setup(t,e){let{slots:n}=e;const r=x(()=>br(t.messages)),{textColorClasses:i,textColorStyles:s}=Er(()=>t.color);return be(()=>v(fi,{transition:t.transition,tag:"div",class:ce(["v-messages",i.value,t.class]),style:xe([s.value,t.style])},{default:()=>[t.active&&r.value.map((o,a)=>k("div",{class:"v-messages__message",key:`${a}-${r.value}`},[n.message?n.message({message:o}):o]))]})),{}}}),BA=G({focused:Boolean,"onUpdate:focused":$n()},"focus");function Sy(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ni();const n=_t(t,"focused"),r=V(()=>({[`${e}--focused`]:n.value}));function i(){n.value=!0}function s(){n.value=!1}return{focusClasses:r,isFocused:n,focus:i,blur:s}}const $A=Symbol.for("vuetify:form"),Hj=G({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function Wj(t){const e=_t(t,"modelValue"),n=V(()=>t.disabled),r=V(()=>t.readonly),i=ge(!1),s=te([]),o=te([]);async function a(){const c=[];let d=!0;o.value=[],i.value=!0;for(const h of s.value){const f=await h.validate();if(f.length>0&&(d=!1,c.push({id:h.id,errorMessages:f})),!d&&t.fastFail)break}return o.value=c,i.value=!1,{valid:d,errors:o.value}}function l(){s.value.forEach(c=>c.reset())}function u(){s.value.forEach(c=>c.resetValidation())}return Ie(s,()=>{let c=0,d=0;const h=[];for(const f of s.value)f.isValid===!1?(d++,h.push({id:f.id,errorMessages:f.errorMessages})):f.isValid===!0&&c++;o.value=h,e.value=d>0?!1:c===s.value.length?!0:null},{deep:!0,flush:"post"}),Yt($A,{register:c=>{let{id:d,vm:h,validate:f,reset:m,resetValidation:g}=c;s.value.some(p=>p.id===d),s.value.push({id:d,validate:f,reset:m,resetValidation:g,vm:j_(h),isValid:null,errorMessages:[]})},unregister:c=>{s.value=s.value.filter(d=>d.id!==c)},update:(c,d,h)=>{const f=s.value.find(m=>m.id===c);f&&(f.isValid=d,f.errorMessages=h)},isDisabled:n,isReadonly:r,isValidating:i,isValid:e,items:s,validateOn:V(()=>t.validateOn)}),{errors:o,isDisabled:n,isReadonly:r,isValidating:i,isValid:e,items:s,validate:a,reset:l,resetValidation:u}}function UA(t){const e=et($A,null);return{...e,isReadonly:x(()=>!!((t==null?void 0:t.readonly)??(e==null?void 0:e.isReadonly.value))),isDisabled:x(()=>!!((t==null?void 0:t.disabled)??(e==null?void 0:e.isDisabled.value)))}}const Gj=Symbol.for("vuetify:rules");function Kj(t){const e=et(Gj,null);if(!t){if(!e)throw new Error("Could not find Vuetify rules injection");return e.aliases}return(e==null?void 0:e.resolve(t))??V(t)}const Yj=G({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...BA()},"validation");function Qj(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ni(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ei();const r=_t(t,"modelValue"),i=x(()=>t.validationValue===void 0?r.value:t.validationValue),s=UA(t),o=Kj(()=>t.rules),a=te([]),l=ge(!0),u=x(()=>!!(br(r.value===""?null:r.value).length||br(i.value===""?null:i.value).length)),c=x(()=>{var b;return(b=t.errorMessages)!=null&&b.length?br(t.errorMessages).concat(a.value).slice(0,Math.max(0,Number(t.maxErrors))):a.value}),d=x(()=>{var S;let b=(t.validateOn??((S=s.validateOn)==null?void 0:S.value))||"input";b==="lazy"&&(b="input lazy"),b==="eager"&&(b="input eager");const I=new Set((b==null?void 0:b.split(" "))??[]);return{input:I.has("input"),blur:I.has("blur")||I.has("input")||I.has("invalid-input"),invalidInput:I.has("invalid-input"),lazy:I.has("lazy"),eager:I.has("eager")}}),h=x(()=>{var b;return t.error||(b=t.errorMessages)!=null&&b.length?!1:t.rules.length?l.value?a.value.length||d.value.lazy?null:!0:!a.value.length:!0}),f=ge(!1),m=x(()=>({[`${e}--error`]:h.value===!1,[`${e}--dirty`]:u.value,[`${e}--disabled`]:s.isDisabled.value,[`${e}--readonly`]:s.isReadonly.value})),g=Vt("validation"),p=x(()=>t.name??li(n));Cu(()=>{var b;(b=s.register)==null||b.call(s,{id:p.value,vm:g,validate:T,reset:y,resetValidation:w})}),Zn(()=>{var b;(b=s.unregister)==null||b.call(s,p.value)}),ki(async()=>{var b;d.value.lazy||await T(!d.value.eager),(b=s.update)==null||b.call(s,p.value,h.value,c.value)}),vs(()=>d.value.input||d.value.invalidInput&&h.value===!1,()=>{Ie(i,()=>{if(i.value!=null)T();else if(t.focused){const b=Ie(()=>t.focused,I=>{I||T(),b()})}})}),vs(()=>d.value.blur,()=>{Ie(()=>t.focused,b=>{b||T()})}),Ie([h,c],()=>{var b;(b=s.update)==null||b.call(s,p.value,h.value,c.value)});async function y(){r.value=null,await rn(),await w()}async function w(){l.value=!0,d.value.lazy?a.value=[]:await T(!d.value.eager)}async function T(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const I=[];f.value=!0;for(const S of o.value){if(I.length>=Number(t.maxErrors??1))break;const D=await(typeof S=="function"?S:()=>S)(i.value);if(D!==!0){if(D!==!1&&typeof D!="string"){console.warn(`${D} is not a valid value. Rule functions must return boolean true or a string.`);continue}I.push(D||"")}}return a.value=I,f.value=!1,l.value=b,a.value}return{errorMessages:c,isDirty:u,isDisabled:s.isDisabled,isReadonly:s.isReadonly,isPristine:l,isValid:h,isValidating:f,reset:y,resetValidation:w,validate:T,validationClasses:m}}const Ty=G({id:String,appendIcon:Ge,baseColor:String,centerAffix:{type:Boolean,default:!0},color:String,glow:Boolean,iconColor:[Boolean,String],prependIcon:Ge,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":$n(),"onClick:append":$n(),...Pe(),...nr(),...tc(fr(),["maxWidth","minWidth","width"]),...Et(),...Yj()},"VInput"),jd=me()({name:"VInput",props:{...Ty()},emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:r,emit:i}=e;const{densityClasses:s}=gr(t),{dimensionStyles:o}=mr(t),{themeClasses:a}=$t(t),{rtlClasses:l}=vr(),{InputIcon:u}=FA(t),c=Ei(),d=x(()=>t.id||`input-${c}`),{errorMessages:h,isDirty:f,isDisabled:m,isReadonly:g,isPristine:p,isValid:y,isValidating:w,reset:T,resetValidation:b,validate:I,validationClasses:S}=Qj(t,"v-input",d),C=x(()=>{var j;return(j=t.errorMessages)!=null&&j.length||!p.value&&h.value.length?h.value:t.hint&&(t.persistentHint||t.focused)?t.hint:t.messages}),D=V(()=>C.value.length>0),P=V(()=>!t.hideDetails||t.hideDetails==="auto"&&(D.value||!!r.details)),$=x(()=>P.value?`${d.value}-messages`:void 0),q=x(()=>({id:d,messagesId:$,isDirty:f,isDisabled:m,isReadonly:g,isPristine:p,isValid:y,isValidating:w,hasDetails:P,reset:T,resetValidation:b,validate:I})),A=V(()=>t.error||t.disabled?void 0:t.focused?t.color:t.baseColor),O=V(()=>{if(t.iconColor)return t.iconColor===!0?A.value:t.iconColor});return be(()=>{var ee,fe,de,Be;const j=!!(r.prepend||t.prependIcon),J=!!(r.append||t.appendIcon);return k("div",{class:ce(["v-input",`v-input--${t.direction}`,{"v-input--center-affix":t.centerAffix,"v-input--focused":t.focused,"v-input--glow":t.glow,"v-input--hide-spin-buttons":t.hideSpinButtons},s.value,a.value,l.value,S.value,t.class]),style:xe([o.value,t.style])},[j&&k("div",{key:"prepend",class:"v-input__prepend"},[(ee=r.prepend)==null?void 0:ee.call(r,q.value),t.prependIcon&&v(u,{key:"prepend-icon",name:"prepend",color:O.value},null)]),r.default&&k("div",{class:"v-input__control"},[(fe=r.default)==null?void 0:fe.call(r,q.value)]),J&&k("div",{key:"append",class:"v-input__append"},[t.appendIcon&&v(u,{key:"append-icon",name:"append",color:O.value},null),(de=r.append)==null?void 0:de.call(r,q.value)]),P.value&&k("div",{id:$.value,class:"v-input__details",role:"alert","aria-live":"polite"},[v(zj,{active:D.value,messages:C.value},{message:r.message}),(Be=r.details)==null?void 0:Be.call(r,q.value)])])}),{reset:T,resetValidation:b,validate:I,isValid:y,errorMessages:h}}}),Xj=G({...Ty(),...ti(LA(),["inline"])},"VCheckbox"),Jj=me()({name:"VCheckbox",inheritAttrs:!1,props:Xj(),emits:{"update:modelValue":t=>!0,"update:focused":t=>!0},setup(t,e){let{attrs:n,slots:r}=e;const i=_t(t,"modelValue"),{isFocused:s,focus:o,blur:a}=Sy(t),l=te(),u=Ei();return be(()=>{const[c,d]=ny(n),h=jd.filterProps(t),f=Dg.filterProps(t);return v(jd,Se({ref:l,class:["v-checkbox",t.class]},c,h,{modelValue:i.value,"onUpdate:modelValue":m=>i.value=m,id:t.id||`checkbox-${u}`,focused:s.value,style:t.style}),{...r,default:m=>{let{id:g,messagesId:p,isDisabled:y,isReadonly:w,isValid:T}=m;return v(Dg,Se(f,{id:g.value,"aria-describedby":p.value,disabled:y.value,readonly:w.value},d,{error:T.value===!1,modelValue:i.value,"onUpdate:modelValue":b=>i.value=b,onFocus:o,onBlur:a}),r)}})}),ja({},l)}}),jA=Symbol.for("vuetify:goto");function qA(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:zU}}function Zj(t){return Ey(t)??(document.scrollingElement||document.body)}function Ey(t){return typeof t=="string"?document.querySelector(t):Sk(t)}function um(t,e,n){if(typeof t=="number")return e&&n?-t:t;let r=Ey(t),i=0;for(;r;)i+=e?r.offsetLeft:r.offsetTop,r=r.offsetParent;return i}function eq(t,e){return{rtl:e.isRtl,options:yn(qA(),t)}}async function u_(t,e,n,r){const i=n?"scrollLeft":"scrollTop",s=yn((r==null?void 0:r.options)??qA(),e),o=r==null?void 0:r.rtl.value,a=(typeof t=="number"?t:Ey(t))??0,l=s.container==="parent"&&a instanceof HTMLElement?a.parentElement:Zj(s.container),u=typeof s.easing=="function"?s.easing:s.patterns[s.easing];if(!u)throw new TypeError(`Easing function "${s.easing}" not found.`);let c;if(typeof a=="number")c=um(a,n,o);else if(c=um(a,n,o)-um(l,n,o),s.layout){const m=window.getComputedStyle(a).getPropertyValue("--v-layout-top");m&&(c-=parseInt(m,10))}c+=s.offset,c=nq(l,c,!!o,!!n);const d=l[i]??0;if(c===d)return Promise.resolve(c);const h=performance.now();return new Promise(f=>requestAnimationFrame(function m(g){const y=(g-h)/s.duration,w=Math.floor(d+(c-d)*u(ur(y,0,1)));if(l[i]=w,y>=1&&Math.abs(w-l[i])<10)return f(c);if(y>2)return f(l[i]);requestAnimationFrame(m)}))}function tq(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=et(jA),{isRtl:n}=vr();if(!e)throw new Error("[Vuetify] Could not find injected goto instance");const r={...e,rtl:V(()=>e.rtl.value||n.value)};async function i(s,o){return u_(s,yn(t,o),!1,r)}return i.horizontal=async(s,o)=>u_(s,yn(t,o),!0,r),i}function nq(t,e,n,r){const{scrollWidth:i,scrollHeight:s}=t,[o,a]=t===document.scrollingElement?[window.innerWidth,window.innerHeight]:[t.offsetWidth,t.offsetHeight];let l,u;return r?n?(l=-(i-o),u=0):(l=0,u=i-o):(l=0,u=s+-a),ur(e,l,u)}function rq(t){let{selectedElement:e,containerElement:n,isRtl:r,isHorizontal:i}=t;const s=_u(i,n),o=zA(i,r,n),a=_u(i,e),l=HA(i,e),u=a*.4;return o>l?l-u:o+s<l+a?l-s+a+u:o}function iq(t){let{selectedElement:e,containerElement:n,isHorizontal:r}=t;const i=_u(r,n),s=HA(r,e),o=_u(r,e);return s-i/2+o/2}function c_(t,e){const n=t?"scrollWidth":"scrollHeight";return(e==null?void 0:e[n])||0}function sq(t,e){const n=t?"clientWidth":"clientHeight";return(e==null?void 0:e[n])||0}function zA(t,e,n){if(!n)return 0;const{scrollLeft:r,offsetWidth:i,scrollWidth:s}=n;return t?e?s-i+r:r:n.scrollTop}function _u(t,e){const n=t?"offsetWidth":"offsetHeight";return(e==null?void 0:e[n])||0}function HA(t,e){const n=t?"offsetLeft":"offsetTop";return(e==null?void 0:e[n])||0}const oq=Symbol.for("vuetify:v-slide-group"),Cy=G({centerActive:Boolean,contentClass:null,direction:{type:String,default:"horizontal"},symbol:{type:null,default:oq},nextIcon:{type:Ge,default:"$next"},prevIcon:{type:Ge,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["always","desktop","mobile"].includes(t)},...Pe(),...Aj({mobile:null}),...st(),...tf({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),qd=me()({name:"VSlideGroup",props:Cy(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isRtl:r}=vr(),{displayClasses:i,mobile:s}=wy(t),o=sc(t,t.symbol),a=ge(!1),l=ge(0),u=ge(0),c=ge(0),d=x(()=>t.direction==="horizontal"),{resizeRef:h,contentRect:f}=_a(),{resizeRef:m,contentRect:g}=_a(),p=tq(),y=x(()=>({container:h.el,duration:200,easing:"easeOutQuart"})),w=x(()=>o.selected.value.length?o.items.value.findIndex(F=>F.id===o.selected.value[0]):-1),T=x(()=>o.selected.value.length?o.items.value.findIndex(F=>F.id===o.selected.value[o.selected.value.length-1]):-1);if(tt){let F=-1;Ie(()=>[o.selected.value,f.value,g.value,d.value],()=>{cancelAnimationFrame(F),F=requestAnimationFrame(()=>{if(f.value&&g.value){const U=d.value?"width":"height";u.value=f.value[U],c.value=g.value[U],a.value=u.value+1<c.value}if(w.value>=0&&m.el){const U=m.el.children[T.value];I(U,t.centerActive)}})})}const b=ge(!1);function I(F,U){let le=0;U?le=iq({containerElement:h.el,isHorizontal:d.value,selectedElement:F}):le=rq({containerElement:h.el,isHorizontal:d.value,isRtl:r.value,selectedElement:F}),S(le)}function S(F){if(!tt||!h.el)return;const U=_u(d.value,h.el),le=zA(d.value,r.value,h.el);if(!(c_(d.value,h.el)<=U||Math.abs(F-le)<16)){if(d.value&&r.value&&h.el){const{scrollWidth:ie,offsetWidth:Ue}=h.el;F=ie-Ue-F}d.value?p.horizontal(F,y.value):p(F,y.value)}}function C(F){const{scrollTop:U,scrollLeft:le}=F.target;l.value=d.value?le:U}function D(F){if(b.value=!0,!(!a.value||!m.el)){for(const U of F.composedPath())for(const le of m.el.children)if(le===U){I(le);return}}}function P(F){b.value=!1}let $=!1;function q(F){var U;!$&&!b.value&&!(F.relatedTarget&&((U=m.el)!=null&&U.contains(F.relatedTarget)))&&J(),$=!1}function A(){$=!0}function O(F){if(!m.el)return;function U(le){F.preventDefault(),J(le)}d.value?F.key==="ArrowRight"?U(r.value?"prev":"next"):F.key==="ArrowLeft"&&U(r.value?"next":"prev"):F.key==="ArrowDown"?U("next"):F.key==="ArrowUp"&&U("prev"),F.key==="Home"?U("first"):F.key==="End"&&U("last")}function j(F,U){if(!F)return;let le=F;do le=le==null?void 0:le[U==="next"?"nextElementSibling":"previousElementSibling"];while(le!=null&&le.hasAttribute("disabled"));return le}function J(F){if(!m.el)return;let U;if(!F)U=Od(m.el)[0];else if(F==="next"){if(U=j(m.el.querySelector(":focus"),F),!U)return J("first")}else if(F==="prev"){if(U=j(m.el.querySelector(":focus"),F),!U)return J("last")}else F==="first"?(U=m.el.firstElementChild,U!=null&&U.hasAttribute("disabled")&&(U=j(U,"next"))):F==="last"&&(U=m.el.lastElementChild,U!=null&&U.hasAttribute("disabled")&&(U=j(U,"prev")));U&&U.focus({preventScroll:!0})}function ee(F){const U=d.value&&r.value?-1:1,le=(F==="prev"?-U:U)*u.value;let qe=l.value+le;if(d.value&&r.value&&h.el){const{scrollWidth:ie,offsetWidth:Ue}=h.el;qe+=ie-Ue}S(qe)}const fe=x(()=>({next:o.next,prev:o.prev,select:o.select,isSelected:o.isSelected})),de=x(()=>{switch(t.showArrows){case"always":return!0;case"desktop":return!s.value;case!0:return a.value||Math.abs(l.value)>0;case"mobile":return s.value||a.value||Math.abs(l.value)>0;default:return!s.value&&(a.value||Math.abs(l.value)>0)}}),Be=x(()=>Math.abs(l.value)>1),L=x(()=>{if(!h.value)return!1;const F=c_(d.value,h.el),U=sq(d.value,h.el);return F-U-Math.abs(l.value)>1});return be(()=>v(t.tag,{class:ce(["v-slide-group",{"v-slide-group--vertical":!d.value,"v-slide-group--has-affixes":de.value,"v-slide-group--is-overflowing":a.value},i.value,t.class]),style:xe(t.style),tabindex:b.value||o.selected.value.length?-1:0,onFocus:q},{default:()=>{var F,U,le;return[de.value&&k("div",{key:"prev",class:ce(["v-slide-group__prev",{"v-slide-group__prev--disabled":!Be.value}]),onMousedown:A,onClick:()=>Be.value&&ee("prev")},[((F=n.prev)==null?void 0:F.call(n,fe.value))??v(YI,null,{default:()=>[v(Nt,{icon:r.value?t.nextIcon:t.prevIcon},null)]})]),k("div",{key:"container",ref:h,class:ce(["v-slide-group__container",t.contentClass]),onScroll:C},[k("div",{ref:m,class:"v-slide-group__content",onFocusin:D,onFocusout:P,onKeydown:O},[(U=n.default)==null?void 0:U.call(n,fe.value)])]),de.value&&k("div",{key:"next",class:ce(["v-slide-group__next",{"v-slide-group__next--disabled":!L.value}]),onMousedown:A,onClick:()=>L.value&&ee("next")},[((le=n.next)==null?void 0:le.call(n,fe.value))??v(YI,null,{default:()=>[v(Nt,{icon:r.value?t.prevIcon:t.nextIcon},null)]})])]}})),{selected:o.selected,scrollTo:ee,scrollOffset:l,focus:J,hasPrev:Be,hasNext:L}}}),WA=Symbol.for("vuetify:v-chip-group"),aq=G({baseColor:String,column:Boolean,filter:Boolean,valueComparator:{type:Function,default:lr},...Cy(),...Pe(),...tf({selectedClass:"v-chip--selected"}),...st(),...Et(),...Oi({variant:"tonal"})},"VChipGroup");me()({name:"VChipGroup",props:aq(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:r}=$t(t),{isSelected:i,select:s,next:o,prev:a,selected:l}=sc(t,WA);return Ri({VChip:{baseColor:V(()=>t.baseColor),color:V(()=>t.color),disabled:V(()=>t.disabled),filter:V(()=>t.filter),variant:V(()=>t.variant)}}),be(()=>{const u=qd.filterProps(t);return v(qd,Se(u,{class:["v-chip-group",{"v-chip-group--column":t.column},r.value,t.class],style:t.style}),{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,{isSelected:i,select:s,next:o,prev:a,selected:l.value})]}})}),{}}});const lq=G({activeClass:String,appendAvatar:String,appendIcon:Ge,baseColor:String,closable:Boolean,closeIcon:{type:Ge,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:Ge,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Ge,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:$n(),onClickOnce:$n(),...As(),...Pe(),...nr(),...Mi(),...nf(),...er(),...lf(),...nc(),...st({tag:"span"}),...Et(),...Oi({variant:"tonal"})},"VChip"),GA=me()({name:"VChip",directives:{vRipple:Cr},props:lq(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0,"group:selected":t=>!0,click:t=>!0},setup(t,e){let{attrs:n,emit:r,slots:i}=e;const{t:s}=oc(),{borderClasses:o}=xs(t),{densityClasses:a}=gr(t),{elevationClasses:l}=Vi(t),{roundedClasses:u}=tr(t),{sizeClasses:c}=rc(t),{themeClasses:d}=$t(t),h=_t(t,"modelValue"),f=rf(t,WA,!1),m=af(t,n),g=V(()=>t.link!==!1&&m.isLink.value),p=x(()=>!t.disabled&&t.link!==!1&&(!!f||t.link||m.isClickable.value)),y=V(()=>({"aria-label":s(t.closeLabel),disabled:t.disabled,onClick(C){C.preventDefault(),C.stopPropagation(),h.value=!1,r("click:close",C)}})),{colorClasses:w,colorStyles:T,variantClasses:b}=Ua(()=>({color:!f||f.isSelected.value?t.color??t.baseColor:t.baseColor,variant:t.variant}));function I(C){var D;r("click",C),p.value&&((D=m.navigate)==null||D.call(m,C),f==null||f.toggle())}function S(C){(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),I(C))}return()=>{var j;const C=m.isLink.value?"a":t.tag,D=!!(t.appendIcon||t.appendAvatar),P=!!(D||i.append),$=!!(i.close||t.closable),q=!!(i.filter||t.filter)&&f,A=!!(t.prependIcon||t.prependAvatar),O=!!(A||i.prepend);return h.value&&yt(v(C,Se({class:["v-chip",{"v-chip--disabled":t.disabled,"v-chip--label":t.label,"v-chip--link":p.value,"v-chip--filter":q,"v-chip--pill":t.pill,[`${t.activeClass}`]:t.activeClass&&((j=m.isActive)==null?void 0:j.value)},d.value,o.value,w.value,a.value,l.value,u.value,c.value,b.value,f==null?void 0:f.selectedClass.value,t.class],style:[T.value,t.style],disabled:t.disabled||void 0,draggable:t.draggable,tabindex:p.value?0:void 0,onClick:I,onKeydown:p.value&&!g.value&&S},m.linkProps),{default:()=>{var J;return[$a(p.value,"v-chip"),q&&v(fA,{key:"filter"},{default:()=>[yt(k("div",{class:"v-chip__filter"},[i.filter?v(mt,{key:"filter-defaults",disabled:!t.filterIcon,defaults:{VIcon:{icon:t.filterIcon}}},i.filter):v(Nt,{key:"filter-icon",icon:t.filterIcon},null)]),[[Cn,f.isSelected.value]])]}),O&&k("div",{key:"prepend",class:"v-chip__prepend"},[i.prepend?v(mt,{key:"prepend-defaults",disabled:!A,defaults:{VAvatar:{image:t.prependAvatar,start:!0},VIcon:{icon:t.prependIcon,start:!0}}},i.prepend):k(Ee,null,[t.prependIcon&&v(Nt,{key:"prepend-icon",icon:t.prependIcon,start:!0},null),t.prependAvatar&&v(gs,{key:"prepend-avatar",image:t.prependAvatar,start:!0},null)])]),k("div",{class:"v-chip__content","data-no-activator":""},[((J=i.default)==null?void 0:J.call(i,{isSelected:f==null?void 0:f.isSelected.value,selectedClass:f==null?void 0:f.selectedClass.value,select:f==null?void 0:f.select,toggle:f==null?void 0:f.toggle,value:f==null?void 0:f.value.value,disabled:t.disabled}))??$e(t.text)]),P&&k("div",{key:"append",class:"v-chip__append"},[i.append?v(mt,{key:"append-defaults",disabled:!D,defaults:{VAvatar:{end:!0,image:t.appendAvatar},VIcon:{end:!0,icon:t.appendIcon}}},i.append):k(Ee,null,[t.appendIcon&&v(Nt,{key:"append-icon",end:!0,icon:t.appendIcon},null),t.appendAvatar&&v(gs,{key:"append-avatar",end:!0,image:t.appendAvatar},null)])]),$&&k("button",Se({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},y.value),[i.close?v(mt,{key:"close-defaults",defaults:{VIcon:{icon:t.closeIcon,size:"x-small"}}},i.close):v(Nt,{key:"close-icon",icon:t.closeIcon,size:"x-small"},null)])]}}),[[Cr,p.value&&t.ripple,null]])}}}),uq=G({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Pe(),...ic({transition:{component:hA}})},"VCounter"),cq=me()({name:"VCounter",functional:!0,props:uq(),setup(t,e){let{slots:n}=e;const r=V(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return be(()=>v(fi,{transition:t.transition},{default:()=>[yt(k("div",{class:ce(["v-counter",{"text-error":t.max&&!t.disabled&&parseFloat(t.value)>parseFloat(t.max)},t.class]),style:xe(t.style)},[n.default?n.default({counter:r.value,max:t.max,value:t.value}):r.value]),[[Cn,t.active]])]})),{}}}),dq=G({floating:Boolean,...Pe()},"VFieldLabel"),Dc=me()({name:"VFieldLabel",props:dq(),setup(t,e){let{slots:n}=e;return be(()=>v(RA,{class:ce(["v-field-label",{"v-field-label--floating":t.floating},t.class]),style:xe(t.style)},n)),{}}}),hq=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],KA=G({appendInnerIcon:Ge,bgColor:String,clearable:Boolean,clearIcon:{type:Ge,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,details:Boolean,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:Ge,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>hq.includes(t)},"onClick:clear":$n(),"onClick:appendInner":$n(),"onClick:prependInner":$n(),...Pe(),...cy(),...er(),...Et()},"VField"),d_=me()({name:"VField",inheritAttrs:!1,props:{id:String,...BA(),...KA()},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:r,slots:i}=e;const{themeClasses:s}=$t(t),{loaderClasses:o}=dy(t),{focusClasses:a,isFocused:l,focus:u,blur:c}=Sy(t),{InputIcon:d}=FA(t),{roundedClasses:h}=tr(t),{rtlClasses:f}=vr(),m=V(()=>t.dirty||t.active),g=V(()=>!!(t.label||i.label)),p=V(()=>!t.singleLine&&g.value),y=Ei(),w=x(()=>t.id||`input-${y}`),T=V(()=>t.details?`${w.value}-messages`:void 0),b=te(),I=te(),S=te(),C=x(()=>["plain","underlined"].includes(t.variant)),D=x(()=>t.error||t.disabled?void 0:m.value&&l.value?t.color:t.baseColor),P=x(()=>{if(!(!t.iconColor||t.glow&&!l.value))return t.iconColor===!0?D.value:t.iconColor}),{backgroundColorClasses:$,backgroundColorStyles:q}=cr(()=>t.bgColor),{textColorClasses:A,textColorStyles:O}=Er(D);Ie(m,ee=>{if(p.value){const fe=b.value.$el,de=I.value.$el;requestAnimationFrame(()=>{const Be=sy(fe),L=de.getBoundingClientRect(),F=L.x-Be.x,U=L.y-Be.y-(Be.height/2-L.height/2),le=L.width/.75,qe=Math.abs(le-Be.width)>1?{maxWidth:Ae(le)}:void 0,ie=getComputedStyle(fe),Ue=getComputedStyle(de),pe=parseFloat(ie.transitionDuration)*1e3||150,Me=parseFloat(Ue.getPropertyValue("--v-field-label-scale")),je=Ue.getPropertyValue("color");fe.style.visibility="visible",de.style.visibility="hidden",Qs(fe,{transform:`translate(${F}px, ${U}px) scale(${Me})`,color:je,...qe},{duration:pe,easing:vu,direction:ee?"normal":"reverse"}).finished.then(()=>{fe.style.removeProperty("visibility"),de.style.removeProperty("visibility")})})}},{flush:"post"});const j=x(()=>({isActive:m,isFocused:l,controlRef:S,blur:c,focus:u}));function J(ee){ee.target!==document.activeElement&&ee.preventDefault()}return be(()=>{var F,U,le;const ee=t.variant==="outlined",fe=!!(i["prepend-inner"]||t.prependInnerIcon),de=!!(t.clearable||i.clear)&&!t.disabled,Be=!!(i["append-inner"]||t.appendInnerIcon||de),L=()=>i.label?i.label({...j.value,label:t.label,props:{for:w.value}}):t.label;return k("div",Se({class:["v-field",{"v-field--active":m.value,"v-field--appended":Be,"v-field--center-affix":t.centerAffix??!C.value,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--glow":t.glow,"v-field--flat":t.flat,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":fe,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!L(),[`v-field--variant-${t.variant}`]:!0},s.value,$.value,a.value,o.value,h.value,f.value,t.class],style:[q.value,t.style],onClick:J},n),[k("div",{class:"v-field__overlay"},null),v(eA,{name:"v-field",active:!!t.loading,color:t.error?"error":typeof t.loading=="string"?t.loading:t.color},{default:i.loader}),fe&&k("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&v(d,{key:"prepend-icon",name:"prependInner",color:P.value},null),(F=i["prepend-inner"])==null?void 0:F.call(i,j.value)]),k("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(t.variant)&&p.value&&v(Dc,{key:"floating-label",ref:I,class:ce([A.value]),floating:!0,for:w.value,"aria-hidden":!m.value,style:xe(O.value)},{default:()=>[L()]}),g.value&&v(Dc,{key:"label",ref:b,for:w.value},{default:()=>[L()]}),((U=i.default)==null?void 0:U.call(i,{...j.value,props:{id:w.value,class:"v-field__input","aria-describedby":T.value},focus:u,blur:c}))??k("div",{id:w.value,class:"v-field__input","aria-describedby":T.value},null)]),de&&v(fA,{key:"clear"},{default:()=>[yt(k("div",{class:"v-field__clearable",onMousedown:qe=>{qe.preventDefault(),qe.stopPropagation()}},[v(mt,{defaults:{VIcon:{icon:t.clearIcon}}},{default:()=>[i.clear?i.clear({...j.value,props:{onFocus:u,onBlur:c,onClick:t["onClick:clear"],tabindex:-1}}):v(d,{name:"clear",onFocus:u,onBlur:c,tabindex:-1},null)]})]),[[Cn,t.dirty]])]}),Be&&k("div",{key:"append",class:"v-field__append-inner"},[(le=i["append-inner"])==null?void 0:le.call(i,j.value),t.appendInnerIcon&&v(d,{key:"append-icon",name:"appendInner",color:P.value},null)]),k("div",{class:ce(["v-field__outline",A.value]),style:xe(O.value)},[ee&&k(Ee,null,[k("div",{class:"v-field__outline__start"},null),p.value&&k("div",{class:"v-field__outline__notch"},[v(Dc,{ref:I,floating:!0,for:w.value,"aria-hidden":!m.value},{default:()=>[L()]})]),k("div",{class:"v-field__outline__end"},null)]),C.value&&p.value&&v(Dc,{ref:I,floating:!0,for:w.value,"aria-hidden":!m.value},{default:()=>[L()]})])])}),{controlRef:S,fieldIconColor:P}}});function fq(t){function e(n,r){var i,s;!t.autofocus||!n||(s=(i=r[0].target)==null?void 0:i.focus)==null||s.call(i)}return{onIntersect:e}}const mq=["color","file","time","date","datetime-local","week","month"],YA=G({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...Ty(),...KA()},"VTextField"),Wt=me()({name:"VTextField",directives:{vIntersect:Fd},inheritAttrs:!1,props:YA(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:r,slots:i}=e;const s=_t(t,"modelValue"),{isFocused:o,focus:a,blur:l}=Sy(t),{onIntersect:u}=fq(t),c=x(()=>typeof t.counterValue=="function"?t.counterValue(s.value):typeof t.counterValue=="number"?t.counterValue:(s.value??"").toString().length),d=x(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),h=x(()=>["plain","underlined"].includes(t.variant)),f=te(),m=te(),g=te(),p=x(()=>mq.includes(t.type)||t.persistentPlaceholder||o.value||t.active);function y(){o.value||a(),rn(()=>{var S;g.value!==document.activeElement&&((S=g.value)==null||S.focus())})}function w(S){r("mousedown:control",S),S.target!==g.value&&(y(),S.preventDefault())}function T(S){r("click:control",S)}function b(S,C){S.stopPropagation(),y(),rn(()=>{s.value=null,C(),xk(t["onClick:clear"],S)})}function I(S){var D;const C=S.target;if(s.value=C.value,(D=t.modelModifiers)!=null&&D.trim&&["text","search","password","tel","url"].includes(t.type)){const P=[C.selectionStart,C.selectionEnd];rn(()=>{C.selectionStart=P[0],C.selectionEnd=P[1]})}}return be(()=>{const S=!!(i.counter||t.counter!==!1&&t.counter!=null),C=!!(S||i.details),[D,P]=ny(n),{modelValue:$,...q}=jd.filterProps(t),A=d_.filterProps(t);return v(jd,Se({ref:f,modelValue:s.value,"onUpdate:modelValue":O=>s.value=O,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-input--plain-underlined":h.value},t.class],style:t.style},D,q,{centerAffix:!h.value,focused:o.value}),{...i,default:O=>{let{id:j,isDisabled:J,isDirty:ee,isReadonly:fe,isValid:de,hasDetails:Be,reset:L}=O;return v(d_,Se({ref:m,onMousedown:w,onClick:T,"onClick:clear":F=>b(F,L),"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:t.role},A,{id:j.value,active:p.value||ee.value,dirty:ee.value||t.dirty,disabled:J.value,focused:o.value,details:Be.value,error:de.value===!1}),{...i,default:F=>{let{props:{class:U,...le}}=F;const qe=yt(k("input",Se({ref:g,value:s.value,onInput:I,autofocus:t.autofocus,readonly:fe.value,disabled:J.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:a,onBlur:l},le,P),null),[[Fd,{handler:u},null,{once:!0}]]);return k(Ee,null,[t.prefix&&k("span",{class:"v-text-field__prefix"},[k("span",{class:"v-text-field__prefix__text"},[t.prefix])]),i.default?k("div",{class:ce(U),"data-no-activator":""},[i.default(),qe]):bi(qe,{class:U}),t.suffix&&k("span",{class:"v-text-field__suffix"},[k("span",{class:"v-text-field__suffix__text"},[t.suffix])])])}})},details:C?O=>{var j;return k(Ee,null,[(j=i.details)==null?void 0:j.call(i,O),S&&k(Ee,null,[k("span",null,null),v(cq,{active:t.persistentCounter||o.value,value:c.value,max:d.value,disabled:t.disabled},i.counter)])])}:void 0})}),ja({},f,m,g)}}),gq=G({renderless:Boolean,...Pe()},"VVirtualScrollItem"),vq=me()({name:"VVirtualScrollItem",inheritAttrs:!1,props:gq(),emits:{"update:height":t=>!0},setup(t,e){let{attrs:n,emit:r,slots:i}=e;const{resizeRef:s,contentRect:o}=_a(void 0,"border");Ie(()=>{var a;return(a=o.value)==null?void 0:a.height},a=>{a!=null&&r("update:height",a)}),be(()=>{var a,l;return t.renderless?k(Ee,null,[(a=i.default)==null?void 0:a.call(i,{itemRef:s})]):k("div",Se({ref:s,class:["v-virtual-scroll__item",t.class],style:t.style},n),[(l=i.default)==null?void 0:l.call(i)])})}}),pq=-1,yq=1,cm=100,wq=G({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function bq(t,e){const n=wy(),r=ge(0);dr(()=>{r.value=parseFloat(t.itemHeight||0)});const i=ge(0),s=ge(Math.ceil((parseInt(t.height)||n.height.value)/(r.value||16))||1),o=ge(0),a=ge(0),l=te(),u=te();let c=0;const{resizeRef:d,contentRect:h}=_a();dr(()=>{d.value=l.value});const f=x(()=>{var L;return l.value===document.documentElement?n.height.value:((L=h.value)==null?void 0:L.height)||parseInt(t.height)||0}),m=x(()=>!!(l.value&&u.value&&f.value&&r.value));let g=Array.from({length:e.value.length}),p=Array.from({length:e.value.length});const y=ge(0);let w=-1;function T(L){return g[L]||r.value}const b=oU(()=>{const L=performance.now();p[0]=0;const F=e.value.length;for(let U=1;U<=F-1;U++)p[U]=(p[U-1]||0)+T(U-1);y.value=Math.max(y.value,performance.now()-L)},y),I=Ie(m,L=>{L&&(I(),c=u.value.offsetTop,b.immediate(),ee(),~w&&rn(()=>{tt&&window.requestAnimationFrame(()=>{de(w),w=-1})}))});cn(()=>{b.clear()});function S(L,F){const U=g[L],le=r.value;r.value=le?Math.min(r.value,F):F,(U!==F||le!==r.value)&&(g[L]=F,b())}function C(L){L=ur(L,0,e.value.length-1);const F=Math.floor(L),U=L%1,le=F+1,qe=p[F]||0,ie=p[le]||qe;return qe+(ie-qe)*U}function D(L){return Iq(p,L)}let P=0,$=0,q=0;Ie(f,(L,F)=>{F&&(ee(),L<F&&requestAnimationFrame(()=>{$=0,ee()}))});let A=-1;function O(){if(!l.value||!u.value)return;const L=l.value.scrollTop,F=performance.now();F-q>500?($=Math.sign(L-P),c=u.value.offsetTop):$=L-P,P=L,q=F,window.clearTimeout(A),A=window.setTimeout(j,500),ee()}function j(){!l.value||!u.value||($=0,q=0,window.clearTimeout(A),ee())}let J=-1;function ee(){cancelAnimationFrame(J),J=requestAnimationFrame(fe)}function fe(){if(!l.value||!f.value||!r.value)return;const L=P-c,F=Math.sign($),U=Math.max(0,L-cm),le=ur(D(U),0,e.value.length),qe=L+f.value+cm,ie=ur(D(qe)+1,le+1,e.value.length);if((F!==pq||le<i.value)&&(F!==yq||ie>s.value)){const Ue=C(i.value)-C(le),pe=C(ie)-C(s.value);Math.max(Ue,pe)>cm?(i.value=le,s.value=ie):(le<=0&&(i.value=le),ie>=e.value.length&&(s.value=ie))}o.value=C(i.value),a.value=C(e.value.length)-C(s.value)}function de(L){const F=C(L);!l.value||L&&!F?w=L:l.value.scrollTop=F}const Be=x(()=>e.value.slice(i.value,s.value).map((L,F)=>{const U=F+i.value;return{raw:L,index:U,key:pr(L,t.itemKey,U)}}));return Ie(e,()=>{g=Array.from({length:e.value.length}),p=Array.from({length:e.value.length}),b.immediate(),ee()},{deep:1}),{calculateVisibleItems:ee,containerRef:l,markerRef:u,computedItems:Be,paddingTop:o,paddingBottom:a,scrollToIndex:de,handleScroll:O,handleScrollend:j,handleItemResize:S}}function Iq(t,e){let n=t.length-1,r=0,i=0,s=null,o=-1;if(t[n]<e)return n;for(;r<=n;)if(i=r+n>>1,s=t[i],s>e)n=i-1;else if(s<e)o=i,r=i+1;else return s===e?i:r;return o}const _q=G({items:{type:Array,default:()=>[]},renderless:Boolean,...wq(),...Pe(),...fr()},"VVirtualScroll"),Sq=me()({name:"VVirtualScroll",props:_q(),setup(t,e){let{slots:n}=e;const r=Vt("VVirtualScroll"),{dimensionStyles:i}=mr(t),{calculateVisibleItems:s,containerRef:o,markerRef:a,handleScroll:l,handleScrollend:u,handleItemResize:c,scrollToIndex:d,paddingTop:h,paddingBottom:f,computedItems:m}=bq(t,V(()=>t.items));return vs(()=>t.renderless,()=>{function g(){var w,T;const y=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";o.value===document.documentElement?(document[y]("scroll",l,{passive:!0}),document[y]("scrollend",u)):((w=o.value)==null||w[y]("scroll",l,{passive:!0}),(T=o.value)==null||T[y]("scrollend",u))}ki(()=>{o.value=Uk(r.vnode.el,!0),g(!0)}),cn(g)}),be(()=>{const g=m.value.map(p=>v(vq,{key:p.key,renderless:t.renderless,"onUpdate:height":y=>c(p.index,y)},{default:y=>{var w;return(w=n.default)==null?void 0:w.call(n,{item:p.raw,index:p.index,...y})}}));return t.renderless?k(Ee,null,[k("div",{ref:a,class:"v-virtual-scroll__spacer",style:{paddingTop:Ae(h.value)}},null),g,k("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Ae(f.value)}},null)]):k("div",{ref:o,class:ce(["v-virtual-scroll",t.class]),onScrollPassive:l,onScrollend:u,style:xe([i.value,t.style])},[k("div",{ref:a,class:"v-virtual-scroll__container",style:{paddingTop:Ae(h.value),paddingBottom:Ae(f.value)}},[g])])}),{calculateVisibleItems:s,scrollToIndex:d}}});function Tq(t,e){const n=ge(!1);let r;function i(a){cancelAnimationFrame(r),n.value=!0,r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{n.value=!1})})}async function s(){await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>{if(n.value){const l=Ie(n,()=>{l(),a()})}else a()})}async function o(a){var c,d;if(a.key==="Tab"&&((c=e.value)==null||c.focus()),!["PageDown","PageUp","Home","End"].includes(a.key))return;const l=(d=t.value)==null?void 0:d.$el;if(!l)return;(a.key==="Home"||a.key==="End")&&l.scrollTo({top:a.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await s();const u=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(a.key==="PageDown"||a.key==="Home"){const h=l.getBoundingClientRect().top;for(const f of u)if(f.getBoundingClientRect().top>=h){f.focus();break}}else{const h=l.getBoundingClientRect().bottom;for(const f of[...u].reverse())if(f.getBoundingClientRect().bottom<=h){f.focus();break}}}return{onScrollPassive:i,onKeydown:o}}const Eq=G({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Ge,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...SA({itemChildren:!1})},"Select"),Cq=G({...Eq(),...ti(YA({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...ic({transition:{component:dA}})},"VSelect"),Vn=me()({name:"VSelect",props:Cq(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:n}=e;const{t:r}=oc(),i=te(),s=te(),o=te(),{items:a,transformIn:l,transformOut:u}=ij(t),c=_t(t,"modelValue",[],L=>l(L===null?[null]:br(L)),L=>{const F=u(L);return t.multiple?F:F[0]??null}),d=x(()=>typeof t.counterValue=="function"?t.counterValue(c.value):typeof t.counterValue=="number"?t.counterValue:c.value.length),h=UA(t),f=x(()=>c.value.map(L=>L.value)),m=ge(!1);let g="",p=-1,y;const w=x(()=>t.hideSelected?a.value.filter(L=>!c.value.some(F=>(t.valueComparator||lr)(F,L))):a.value),T=x(()=>t.hideNoData&&!w.value.length||h.isReadonly.value||h.isDisabled.value),b=_t(t,"menu"),I=x({get:()=>b.value,set:L=>{var F;b.value&&!L&&((F=s.value)!=null&&F.openChildren.size)||L&&T.value||(b.value=L)}}),S=V(()=>I.value?t.closeText:t.openText),C=x(()=>{var L;return{...t.menuProps,activatorProps:{...((L=t.menuProps)==null?void 0:L.activatorProps)||{},"aria-haspopup":"listbox"}}}),D=te(),P=Tq(D,i);function $(L){t.openOnClear&&(I.value=!0)}function q(){T.value||(I.value=!I.value)}function A(L){II(L)&&O(L)}function O(L){var je,ot,pt;if(!L.key||h.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(L.key)&&L.preventDefault(),["Enter","ArrowDown"," "].includes(L.key)&&(I.value=!0),["Escape","Tab"].includes(L.key)&&(I.value=!1),L.key==="Home"?(je=D.value)==null||je.focus("first"):L.key==="End"&&((ot=D.value)==null||ot.focus("last"));const F=1e3;if(!II(L))return;const U=performance.now();U-y>F&&(g="",p=-1),g+=L.key.toLowerCase(),y=U;const le=w.value;function qe(){let _=ie();return _||g.at(-1)===g.at(-2)&&(g=g.slice(0,-1),_=ie(),_)||(p=-1,_=ie(),_)?_:(g=L.key.toLowerCase(),ie())}function ie(){for(let _=p+1;_<le.length;_++){const E=le[_];if(E.title.toLowerCase().startsWith(g))return[E,_]}}const Ue=qe();if(!Ue)return;const[pe,Me]=Ue;p=Me,(pt=D.value)==null||pt.focus(Me),t.multiple||(c.value=[pe])}function j(L){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!L.props.disabled)if(t.multiple){const U=c.value.findIndex(qe=>(t.valueComparator||lr)(qe.value,L.value)),le=F??!~U;if(~U){const qe=le?[...c.value,L]:[...c.value];qe.splice(U,1),c.value=qe}else le&&(c.value=[...c.value,L])}else{const U=F!==!1;c.value=U?[L]:[],rn(()=>{I.value=!1})}}function J(L){var F;(F=D.value)!=null&&F.$el.contains(L.relatedTarget)||(I.value=!1)}function ee(){var L;t.eager&&((L=o.value)==null||L.calculateVisibleItems())}function fe(){var L;m.value&&((L=i.value)==null||L.focus())}function de(L){m.value=!0}function Be(L){if(L==null)c.value=[];else if(Md(i.value,":autofill")||Md(i.value,":-webkit-autofill")){const F=a.value.find(U=>U.title===L);F&&j(F)}else i.value&&(i.value.value="")}return Ie(I,()=>{if(!t.hideSelected&&I.value&&c.value.length){const L=w.value.findIndex(F=>c.value.some(U=>(t.valueComparator||lr)(U.value,F.value)));tt&&!t.noAutoScroll&&window.requestAnimationFrame(()=>{var F;L>=0&&((F=o.value)==null||F.scrollToIndex(L))})}}),Ie(()=>t.items,(L,F)=>{I.value||m.value&&t.hideNoData&&!F.length&&L.length&&(I.value=!0)}),be(()=>{const L=!!(t.chips||n.chip),F=!!(!t.hideNoData||w.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),U=c.value.length>0,le=Wt.filterProps(t),qe=U||!m.value&&t.label&&!t.persistentPlaceholder?void 0:t.placeholder;return v(Wt,Se({ref:i},le,{modelValue:c.value.map(ie=>ie.props.value).join(", "),"onUpdate:modelValue":Be,focused:m.value,"onUpdate:focused":ie=>m.value=ie,validationValue:c.externalValue,counterValue:d.value,dirty:U,class:["v-select",{"v-select--active-menu":I.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":c.value.length,"v-select--selection-slot":!!n.selection},t.class],style:t.style,inputmode:"none",placeholder:qe,"onClick:clear":$,"onMousedown:control":q,onBlur:J,onKeydown:O,"aria-label":r(S.value),title:r(S.value)}),{...n,default:()=>k(Ee,null,[v(NA,Se({ref:s,modelValue:I.value,"onUpdate:modelValue":ie=>I.value=ie,activator:"parent",contentClass:"v-select__content",disabled:T.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:ee,onAfterLeave:fe},C.value),{default:()=>[F&&v(pi,Se({ref:D,selected:f.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:ie=>ie.preventDefault(),onKeydown:A,onFocusin:de,tabindex:"-1","aria-live":"polite","aria-label":`${t.label}-list`,color:t.itemColor??t.color},P,t.listProps),{default:()=>{var ie,Ue,pe;return[(ie=n["prepend-item"])==null?void 0:ie.call(n),!w.value.length&&!t.hideNoData&&(((Ue=n["no-data"])==null?void 0:Ue.call(n))??v(Un,{key:"no-data",title:r(t.noDataText)},null)),v(Sq,{ref:o,renderless:!0,items:w.value,itemKey:"value"},{default:Me=>{var B,Y,H;let{item:je,index:ot,itemRef:pt}=Me;const _=dU(je.props),E=Se(je.props,{ref:pt,key:je.value,onClick:()=>j(je,null)});return je.type==="divider"?((B=n.divider)==null?void 0:B.call(n,{props:je.raw,index:ot}))??v(ac,Se(je.props,{key:`divider-${ot}`}),null):je.type==="subheader"?((Y=n.subheader)==null?void 0:Y.call(n,{props:je.raw,index:ot}))??v(py,Se(je.props,{key:`subheader-${ot}`}),null):((H=n.item)==null?void 0:H.call(n,{item:je,index:ot,props:E}))??v(Un,Se(E,{role:"option"}),{prepend:K=>{let{isSelected:se}=K;return k(Ee,null,[t.multiple&&!t.hideSelected?v(Dg,{key:je.value,modelValue:se,ripple:!1,tabindex:"-1"},null):void 0,_.prependAvatar&&v(gs,{image:_.prependAvatar},null),_.prependIcon&&v(Nt,{icon:_.prependIcon},null)])}})}}),(pe=n["append-item"])==null?void 0:pe.call(n)]}})]}),c.value.map((ie,Ue)=>{function pe(pt){pt.stopPropagation(),pt.preventDefault(),j(ie,!1)}const Me={"onClick:close":pe,onKeydown(pt){pt.key!=="Enter"&&pt.key!==" "||(pt.preventDefault(),pt.stopPropagation(),pe(pt))},onMousedown(pt){pt.preventDefault(),pt.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},je=L?!!n.chip:!!n.selection,ot=je?Pk(L?n.chip({item:ie,index:Ue,props:Me}):n.selection({item:ie,index:Ue})):void 0;if(!(je&&!ot))return k("div",{key:ie.value,class:"v-select__selection"},[L?n.chip?v(mt,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:ie.title}}},{default:()=>[ot]}):v(GA,Se({key:"chip",closable:t.closableChips,size:"small",text:ie.title,disabled:ie.props.disabled},Me),null):ot??k("span",{class:"v-select__selection-text"},[ie.title,t.multiple&&Ue<c.value.length-1&&k("span",{class:"v-select__selection-comma"},[ze(",")])])])})]),"append-inner":function(){var Me,je;for(var ie=arguments.length,Ue=new Array(ie),pe=0;pe<ie;pe++)Ue[pe]=arguments[pe];return k(Ee,null,[(Me=n["append-inner"])==null?void 0:Me.call(n,...Ue),t.menuIcon?v(Nt,{class:"v-select__menu-icon",color:(je=i.value)==null?void 0:je.fieldIconColor,icon:t.menuIcon},null):void 0])}})}),ja({isFocused:m,menu:I,select:j},i)}}),kq={id:"account-controls"},Aq={__name:"AccountSelector",props:{accounts:{type:Array,required:!0},modelValue:{type:String,default:null},visible:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=e,i=x({get(){return n.modelValue},set(s){r("update:modelValue",s)}});return(s,o)=>yt((ve(),Fe("div",kq,[v(Vn,{modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=a=>i.value=a),items:t.accounts,"item-title":"name","item-value":"id",label:"",variant:"outlined",density:"compact"},null,8,["modelValue","items"])],512)),[[Cn,t.visible]])}},df=me()({name:"VCardActions",props:Pe(),setup(t,e){let{slots:n}=e;return Ri({VBtn:{slim:!0,variant:"text"}}),be(()=>{var r;return k("div",{class:ce(["v-card-actions",t.class]),style:xe(t.style)},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),xq=G({opacity:[Number,String],...Pe(),...st()},"VCardSubtitle"),QA=me()({name:"VCardSubtitle",props:xq(),setup(t,e){let{slots:n}=e;return be(()=>v(t.tag,{class:ce(["v-card-subtitle",t.class]),style:xe([{"--v-card-subtitle-opacity":t.opacity},t.style])},n)),{}}}),Sa=Jh("v-card-title"),Dq=G({appendAvatar:String,appendIcon:Ge,prependAvatar:String,prependIcon:Ge,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...Pe(),...nr()},"VCardItem"),Pq=me()({name:"VCardItem",props:Dq(),setup(t,e){let{slots:n}=e;return be(()=>{var u;const r=!!(t.prependAvatar||t.prependIcon),i=!!(r||n.prepend),s=!!(t.appendAvatar||t.appendIcon),o=!!(s||n.append),a=!!(t.title!=null||n.title),l=!!(t.subtitle!=null||n.subtitle);return k("div",{class:ce(["v-card-item",t.class]),style:xe(t.style)},[i&&k("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?v(mt,{key:"prepend-defaults",disabled:!r,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon}}},n.prepend):k(Ee,null,[t.prependAvatar&&v(gs,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&v(Nt,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)])]),k("div",{class:"v-card-item__content"},[a&&v(Sa,{key:"title"},{default:()=>{var c;return[((c=n.title)==null?void 0:c.call(n))??$e(t.title)]}}),l&&v(QA,{key:"subtitle"},{default:()=>{var c;return[((c=n.subtitle)==null?void 0:c.call(n))??$e(t.subtitle)]}}),(u=n.default)==null?void 0:u.call(n)]),o&&k("div",{key:"append",class:"v-card-item__append"},[n.append?v(mt,{key:"append-defaults",disabled:!s,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon}}},n.append):k(Ee,null,[t.appendIcon&&v(Nt,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&v(gs,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)])])])}),{}}}),Nq=G({opacity:[Number,String],...Pe(),...st()},"VCardText"),io=me()({name:"VCardText",props:Nq(),setup(t,e){let{slots:n}=e;return be(()=>v(t.tag,{class:ce(["v-card-text",t.class]),style:xe([{"--v-card-text-opacity":t.opacity},t.style])},n)),{}}}),Rq=G({appendAvatar:String,appendIcon:Ge,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Ge,ripple:{type:[Boolean,Object],default:!0},subtitle:{type:[String,Number,Boolean],default:void 0},text:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...As(),...Pe(),...nr(),...fr(),...Mi(),...cy(),...sf(),...hy(),...er(),...lf(),...st(),...Et(),...Oi({variant:"elevated"})},"VCard"),Hn=me()({name:"VCard",directives:{vRipple:Cr},props:Rq(),setup(t,e){let{attrs:n,slots:r}=e;const{themeClasses:i}=$t(t),{borderClasses:s}=xs(t),{colorClasses:o,colorStyles:a,variantClasses:l}=Ua(t),{densityClasses:u}=gr(t),{dimensionStyles:c}=mr(t),{elevationClasses:d}=Vi(t),{loaderClasses:h}=dy(t),{locationStyles:f}=of(t),{positionClasses:m}=fy(t),{roundedClasses:g}=tr(t),p=af(t,n);return be(()=>{const y=t.link!==!1&&p.isLink.value,w=!t.disabled&&t.link!==!1&&(t.link||p.isClickable.value),T=y?"a":t.tag,b=!!(r.title||t.title!=null),I=!!(r.subtitle||t.subtitle!=null),S=b||I,C=!!(r.append||t.appendAvatar||t.appendIcon),D=!!(r.prepend||t.prependAvatar||t.prependIcon),P=!!(r.image||t.image),$=S||D||C,q=!!(r.text||t.text!=null);return yt(v(T,Se({class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":w},i.value,s.value,o.value,u.value,d.value,h.value,m.value,g.value,l.value,t.class],style:[a.value,c.value,f.value,t.style],onClick:w&&p.navigate,tabindex:t.disabled?-1:void 0},p.linkProps),{default:()=>{var A;return[P&&k("div",{key:"image",class:"v-card__image"},[r.image?v(mt,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},r.image):v(ef,{key:"image-img",cover:!0,src:t.image},null)]),v(eA,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:r.loader}),$&&v(Pq,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:r.item,prepend:r.prepend,title:r.title,subtitle:r.subtitle,append:r.append}),q&&v(io,{key:"text"},{default:()=>{var O;return[((O=r.text)==null?void 0:O.call(r))??t.text]}}),(A=r.default)==null?void 0:A.call(r),r.actions&&v(df,null,{default:r.actions}),$a(w,"v-card")]}}),[[Cr,w&&t.ripple]])}),{}}}),Su=Symbol.for("vuetify:v-expansion-panel"),XA=G({...Pe(),...by()},"VExpansionPanelText"),Pg=me()({name:"VExpansionPanelText",props:XA(),setup(t,e){let{slots:n}=e;const r=et(Su);if(!r)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:i,onAfterLeave:s}=Iy(t,r.isSelected);return be(()=>v(my,{onAfterLeave:s},{default:()=>{var o;return[yt(k("div",{class:ce(["v-expansion-panel-text",t.class]),style:xe(t.style)},[n.default&&i.value&&k("div",{class:"v-expansion-panel-text__wrapper"},[(o=n.default)==null?void 0:o.call(n)])]),[[Cn,r.isSelected.value]])]}})),{}}}),JA=G({color:String,expandIcon:{type:Ge,default:"$expand"},collapseIcon:{type:Ge,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...Pe(),...fr()},"VExpansionPanelTitle"),Ng=me()({name:"VExpansionPanelTitle",directives:{vRipple:Cr},props:JA(),setup(t,e){let{slots:n}=e;const r=et(Su);if(!r)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:i,backgroundColorStyles:s}=cr(()=>t.color),{dimensionStyles:o}=mr(t),a=x(()=>({collapseIcon:t.collapseIcon,disabled:r.disabled.value,expanded:r.isSelected.value,expandIcon:t.expandIcon,readonly:t.readonly})),l=V(()=>r.isSelected.value?t.collapseIcon:t.expandIcon);return be(()=>{var u;return yt(k("button",{class:ce(["v-expansion-panel-title",{"v-expansion-panel-title--active":r.isSelected.value,"v-expansion-panel-title--focusable":t.focusable,"v-expansion-panel-title--static":t.static},i.value,t.class]),style:xe([s.value,o.value,t.style]),type:"button",tabindex:r.disabled.value?-1:void 0,disabled:r.disabled.value,"aria-expanded":r.isSelected.value,onClick:t.readonly?void 0:r.toggle},[k("span",{class:"v-expansion-panel-title__overlay"},null),(u=n.default)==null?void 0:u.call(n,a.value),!t.hideActions&&v(mt,{defaults:{VIcon:{icon:l.value}}},{default:()=>{var c;return[k("span",{class:"v-expansion-panel-title__icon"},[((c=n.actions)==null?void 0:c.call(n,a.value))??v(Nt,null,null)])]}})]),[[Cr,t.ripple]])}),{}}}),ZA=G({title:String,text:String,bgColor:String,...Mi(),...nf(),...er(),...st(),...JA(),...XA()},"VExpansionPanel"),Oq=me()({name:"VExpansionPanel",props:ZA(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const r=rf(t,Su),{backgroundColorClasses:i,backgroundColorStyles:s}=cr(()=>t.bgColor),{elevationClasses:o}=Vi(t),{roundedClasses:a}=tr(t),l=V(()=>(r==null?void 0:r.disabled.value)||t.disabled),u=x(()=>r.group.items.value.reduce((h,f,m)=>(r.group.selected.value.includes(f.id)&&h.push(m),h),[])),c=x(()=>{const h=r.group.items.value.findIndex(f=>f.id===r.id);return!r.isSelected.value&&u.value.some(f=>f-h===1)}),d=x(()=>{const h=r.group.items.value.findIndex(f=>f.id===r.id);return!r.isSelected.value&&u.value.some(f=>f-h===-1)});return Yt(Su,r),be(()=>{const h=!!(n.text||t.text),f=!!(n.title||t.title),m=Ng.filterProps(t),g=Pg.filterProps(t);return v(t.tag,{class:ce(["v-expansion-panel",{"v-expansion-panel--active":r.isSelected.value,"v-expansion-panel--before-active":c.value,"v-expansion-panel--after-active":d.value,"v-expansion-panel--disabled":l.value},a.value,i.value,t.class]),style:xe([s.value,t.style])},{default:()=>[k("div",{class:ce(["v-expansion-panel__shadow",...o.value])},null),v(mt,{defaults:{VExpansionPanelTitle:{...m},VExpansionPanelText:{...g}}},{default:()=>{var p;return[f&&v(Ng,{key:"title"},{default:()=>[n.title?n.title():t.title]}),h&&v(Pg,{key:"text"},{default:()=>[n.text?n.text():t.text]}),(p=n.default)==null?void 0:p.call(n)]}})]})}),{groupItem:r}}}),Mq=["default","accordion","inset","popout"],Vq=G({flat:Boolean,...tf(),...tc(ZA(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...Et(),...Pe(),...st(),variant:{type:String,default:"default",validator:t=>Mq.includes(t)}},"VExpansionPanels"),Lq=me()({name:"VExpansionPanels",props:Vq(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{next:r,prev:i}=sc(t,Su),{themeClasses:s}=$t(t),o=V(()=>t.variant&&`v-expansion-panels--variant-${t.variant}`);return Ri({VExpansionPanel:{bgColor:V(()=>t.bgColor),collapseIcon:V(()=>t.collapseIcon),color:V(()=>t.color),eager:V(()=>t.eager),elevation:V(()=>t.elevation),expandIcon:V(()=>t.expandIcon),focusable:V(()=>t.focusable),hideActions:V(()=>t.hideActions),readonly:V(()=>t.readonly),ripple:V(()=>t.ripple),rounded:V(()=>t.rounded),static:V(()=>t.static)}}),be(()=>v(t.tag,{class:ce(["v-expansion-panels",{"v-expansion-panels--flat":t.flat,"v-expansion-panels--tile":t.tile},s.value,o.value,t.class]),style:xe(t.style)},{default:()=>{var a;return[(a=n.default)==null?void 0:a.call(n,{prev:i,next:r})]}})),{next:r,prev:i}}}),Fq=G({fluid:{type:Boolean,default:!1},...Pe(),...fr(),...st()},"VContainer"),ps=me()({name:"VContainer",props:Fq(),setup(t,e){let{slots:n}=e;const{rtlClasses:r}=vr(),{dimensionStyles:i}=mr(t);return be(()=>v(t.tag,{class:ce(["v-container",{"v-container--fluid":t.fluid},r.value,t.class]),style:xe([i.value,t.style])},n)),{}}}),ex=cf.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}),tx=cf.reduce((t,e)=>{const n="offset"+Ti(e);return t[n]={type:[String,Number],default:null},t},{}),nx=cf.reduce((t,e)=>{const n="order"+Ti(e);return t[n]={type:[String,Number],default:null},t},{}),h_={col:Object.keys(ex),offset:Object.keys(tx),order:Object.keys(nx)};function Bq(t,e,n){let r=t;if(!(n==null||n===!1)){if(e){const i=e.replace(t,"");r+=`-${i}`}return t==="col"&&(r="v-"+r),t==="col"&&(n===""||n===!0)||(r+=`-${n}`),r.toLowerCase()}}const $q=["auto","start","end","center","baseline","stretch"],Uq=G({cols:{type:[Boolean,String,Number],default:!1},...ex,offset:{type:[String,Number],default:null},...tx,order:{type:[String,Number],default:null},...nx,alignSelf:{type:String,default:null,validator:t=>$q.includes(t)},...Pe(),...st()},"VCol"),He=me()({name:"VCol",props:Uq(),setup(t,e){let{slots:n}=e;const r=x(()=>{const i=[];let s;for(s in h_)h_[s].forEach(a=>{const l=t[a],u=Bq(s,a,l);u&&i.push(u)});const o=i.some(a=>a.startsWith("v-col-"));return i.push({"v-col":!o||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),i});return()=>{var i;return ws(t.tag,{class:[r.value,t.class],style:t.style},(i=n.default)==null?void 0:i.call(n))}}}),ky=["start","end","center"],rx=["space-between","space-around","space-evenly"];function Ay(t,e){return cf.reduce((n,r)=>{const i=t+Ti(r);return n[i]=e(),n},{})}const jq=[...ky,"baseline","stretch"],ix=t=>jq.includes(t),sx=Ay("align",()=>({type:String,default:null,validator:ix})),qq=[...ky,...rx],ox=t=>qq.includes(t),ax=Ay("justify",()=>({type:String,default:null,validator:ox})),zq=[...ky,...rx,"stretch"],lx=t=>zq.includes(t),ux=Ay("alignContent",()=>({type:String,default:null,validator:lx})),f_={align:Object.keys(sx),justify:Object.keys(ax),alignContent:Object.keys(ux)},Hq={align:"align",justify:"justify",alignContent:"align-content"};function Wq(t,e,n){let r=Hq[t];if(n!=null){if(e){const i=e.replace(t,"");r+=`-${i}`}return r+=`-${n}`,r.toLowerCase()}}const Gq=G({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:ix},...sx,justify:{type:String,default:null,validator:ox},...ax,alignContent:{type:String,default:null,validator:lx},...ux,...Pe(),...st()},"VRow"),Dn=me()({name:"VRow",props:Gq(),setup(t,e){let{slots:n}=e;const r=x(()=>{const i=[];let s;for(s in f_)f_[s].forEach(o=>{const a=t[o],l=Wq(s,o,a);l&&i.push(l)});return i.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),i});return()=>{var i;return ws(t.tag,{class:["v-row",r.value,t.class],style:t.style},(i=n.default)==null?void 0:i.call(n))}}}),hf=Jh("v-spacer","div","VSpacer"),Kq=G({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:t=>["even","odd"].includes(t)},...Pe(),...nr(),...st(),...Et()},"VTable"),Yq=me()({name:"VTable",props:Kq(),setup(t,e){let{slots:n,emit:r}=e;const{themeClasses:i}=$t(t),{densityClasses:s}=gr(t);return be(()=>{const o={VCheckboxBtn:{density:t.density}};return v(t.tag,{class:ce(["v-table",{"v-table--fixed-height":!!t.height,"v-table--fixed-header":t.fixedHeader,"v-table--fixed-footer":t.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":t.hover,"v-table--striped-even":t.striped==="even","v-table--striped-odd":t.striped==="odd"},i.value,s.value,t.class]),style:xe(t.style)},{default:()=>{var a,l;return[(a=n.top)==null?void 0:a.call(n),v(mt,{defaults:o},{default:()=>{var u;return[n.default?k("div",{class:"v-table__wrapper",style:{height:Ae(t.height)}},[k("table",null,[n.default()])]):(u=n.wrapper)==null?void 0:u.call(n)]}}),(l=n.bottom)==null?void 0:l.call(n)]}})}),{}}}),Qq={class:"d-flex justify-space-between align-center mb-2"},Xq={class:"text-subtitle-1"},Jq={rowspan:"2"},Zq={rowspan:"2"},ez={rowspan:"2"},tz={key:0},nz=["colspan"],rz={key:1},iz=["colspan"],sz=["innerHTML"],oz=["innerHTML"],az={__name:"ViewAllCharactersTab",props:{dataLoaded:{type:Boolean,required:!0},accounts:{type:Array,required:!0},characterMasters:{type:Array,required:!0},itemMasters:{type:Array,required:!0},gachaMasters:{type:Array,required:!0},ownedCountMap:{type:Map,required:!0},ownedCharactersData:{type:Map,required:!0},itemMastersMap:{type:Map,required:!0}},setup(t){const e=t,n=te(!1),r=()=>({charSearch:"",element:"",itemSearch:"",type:"",gachaSearch:"",totalOwnership:"",account:"",ownership:""}),i=wt(r()),s=x(()=>Array.from(new Set(e.characterMasters.map(d=>d.type).filter(Boolean))).sort()),o=x(()=>{if(!e.dataLoaded)return[];const{charSearch:d,element:h,itemSearch:f,type:m,gachaSearch:g,totalOwnership:p,account:y,ownership:w}=i,T=d.toLowerCase(),b=f?Number(f):null;return e.characterMasters.filter(I=>{if(T&&!I.monsterName.toLowerCase().includes(T)&&!(I.indexNumber+"").includes(T)||h&&I.element!==h)return!1;if(m){if(m==="_or_"){if(I.type!==""&&I.type!=="")return!1}else if(I.type!==m)return!1}if(g&&(I.ejectionGacha||"")!==g)return!1;if(b){let C=!1;const D=y||null;if(D)C=(e.ownedCharactersData.get(D)||[]).some(P=>{var $;return P.characterMasterId===I.id&&(($=P.items)==null?void 0:$.some(q=>Number(q)===b))});else for(const P of e.ownedCharactersData.values())if(P.some($=>{var q;return $.characterMasterId===I.id&&((q=$.items)==null?void 0:q.some(A=>Number(A)===b))})){C=!0;break}if(!C)return!1}const S=e.accounts.reduce((C,D)=>C+a(I.id,D.id),0);if(p==="all_unowned"&&S>0||p==="four_or_more"&&S<4||p==="one_in_each"&&!e.accounts.every(C=>a(I.id,C.id)>=1))return!1;if(y&&w){const C=a(I.id,y);if(w==="owned"&&C===0||w==="unowned"&&C>0||w==="one"&&C!==1||w==="two"&&C!==2)return!1}return!0})}),a=(d,h)=>e.ownedCountMap.get(`${d}-${h}`)||0,l=(d,h,f)=>{const m=(e.ownedCharactersData.get(h)||[]).filter(p=>p.characterMasterId===d);if(!m||m.length<=f)return"";const g=(m[f].items||[]).map(p=>e.itemMastersMap.get(Number(p))).filter(Boolean);return g.length>0?"<br>"+g.join("<br>"):""},u=(d,h,f)=>a(d,h)>=f?"status-owned":"status-unowned",c=()=>{Object.assign(i,r())};return(d,h)=>{const f=C1("v-subheader");return ve(),Fe("div",null,[h[16]||(h[16]=k("h2",null,"",-1)),v(Lq,{class:"mb-4"},{default:N(()=>[v(Oq,null,{default:N(()=>[v(Ng,null,{default:N(()=>[v(Nt,{start:"",icon:"mdi-filter-variant"}),h[9]||(h[9]=ze("  ",-1))]),_:1,__:[9]}),v(Pg,null,{default:N(()=>[v(ps,null,{default:N(()=>[v(Dn,null,{default:N(()=>[v(He,{cols:"12",md:"4"},{default:N(()=>[v(Wt,{modelValue:i.charSearch,"onUpdate:modelValue":h[0]||(h[0]=m=>i.charSearch=m),modelModifiers:{lazy:!0},label:" or ",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue"])]),_:1}),v(He,{cols:"12",md:"4"},{default:N(()=>[v(Vn,{modelValue:i.element,"onUpdate:modelValue":h[1]||(h[1]=m=>i.element=m),items:["","","","",""],label:"",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue"])]),_:1}),v(He,{cols:"12",md:"4"},{default:N(()=>[v(Vn,{modelValue:i.itemSearch,"onUpdate:modelValue":h[2]||(h[2]=m=>i.itemSearch=m),items:t.itemMasters,"item-title":"name","item-value":"id",label:"",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","items"])]),_:1}),v(He,{cols:"12",md:"4"},{default:N(()=>[v(Vn,{modelValue:i.type,"onUpdate:modelValue":h[3]||(h[3]=m=>i.type=m),items:["_or_",...s.value],label:" (Type)",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","items"])]),_:1}),v(He,{cols:"12",md:"4"},{default:N(()=>[v(Vn,{modelValue:i.gachaSearch,"onUpdate:modelValue":h[4]||(h[4]=m=>i.gachaSearch=m),items:t.gachaMasters,"item-title":"name","item-value":"name",label:"",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","items"])]),_:1}),v(He,{cols:"12",md:"4"},{default:N(()=>[v(Vn,{modelValue:i.totalOwnership,"onUpdate:modelValue":h[5]||(h[5]=m=>i.totalOwnership=m),items:[{value:"all_unowned",title:""},{value:"four_or_more",title:"4"},{value:"one_in_each",title:"1"}],label:"",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue"])]),_:1}),v(He,{cols:"12"},{default:N(()=>[v(ac,{class:"my-2"}),v(f,null,{default:N(()=>h[10]||(h[10]=[ze("",-1)])),_:1,__:[10]})]),_:1}),v(He,{cols:"12",md:"6"},{default:N(()=>[v(Vn,{modelValue:i.account,"onUpdate:modelValue":h[6]||(h[6]=m=>i.account=m),items:t.accounts,"item-title":"name","item-value":"id",label:"",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","items"])]),_:1}),v(He,{cols:"12",md:"6"},{default:N(()=>[v(Vn,{modelValue:i.ownership,"onUpdate:modelValue":h[7]||(h[7]=m=>i.ownership=m),items:[{value:"owned",title:""},{value:"unowned",title:""},{value:"one",title:"1"},{value:"two",title:"2"}],label:" ()",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),v(df,null,{default:N(()=>[v(un,{onClick:h[8]||(h[8]=m=>n.value=!n.value),variant:"tonal"},{default:N(()=>[ze($e(n.value?"":""),1)]),_:1}),v(hf),v(un,{onClick:c,color:"secondary",variant:"outlined"},{default:N(()=>h[11]||(h[11]=[ze("",-1)])),_:1,__:[11]})]),_:1})]),_:1})]),_:1})]),_:1}),k("div",Qq,[k("div",Xq,": "+$e(o.value.length)+" / "+$e(t.characterMasters.length),1)]),v(Yq,{"fixed-header":"",height:"70vh",density:"compact"},{default:N(()=>[k("thead",null,[k("tr",null,[h[12]||(h[12]=k("th",{rowspan:"2"},"No.",-1)),h[13]||(h[13]=k("th",{rowspan:"2"},"",-1)),yt(k("th",Jq,"",512),[[Cn,n.value]]),yt(k("th",Zq,"",512),[[Cn,n.value]]),yt(k("th",ez,"",512),[[Cn,n.value]]),(ve(!0),Fe(Ee,null,pn(t.accounts,m=>(ve(),Fe("th",{key:m.id,colspan:"2",class:"text-center"},$e(m.name),1))),128))]),k("tr",null,[(ve(!0),Fe(Ee,null,pn(t.accounts,m=>(ve(),Fe(Ee,{key:m.id},[h[14]||(h[14]=k("th",{class:"text-center"},"1",-1)),h[15]||(h[15]=k("th",{class:"text-center"},"2",-1))],64))),128))])]),k("tbody",null,[t.dataLoaded?o.value.length===0?(ve(),Fe("tr",rz,[k("td",{colspan:5+t.accounts.length*2},"",8,iz)])):es("",!0):(ve(),Fe("tr",tz,[k("td",{colspan:5+t.accounts.length*2},"...",8,nz)])),(ve(!0),Fe(Ee,null,pn(o.value,m=>(ve(),Fe("tr",{key:m.id},[k("td",null,$e(m.indexNumber||""),1),k("td",null,$e(m.monsterName||""),1),yt(k("td",{class:ce("element-"+(m.element||"").toLowerCase())},$e(m.element||""),3),[[Cn,n.value]]),yt(k("td",null,$e(m.type||""),513),[[Cn,n.value]]),yt(k("td",null,$e(m.ejectionGacha||""),513),[[Cn,n.value]]),(ve(!0),Fe(Ee,null,pn(t.accounts,g=>(ve(),Fe(Ee,{key:g.id},[k("td",{class:ce(u(m.id,g.id,1)),innerHTML:l(m.id,g.id,0)},null,10,sz),k("td",{class:ce(u(m.id,g.id,2)),innerHTML:l(m.id,g.id,1)},null,10,oz)],64))),128))]))),128))])]),_:1})])}}},lz=G({...Pe(),...Hj()},"VForm"),ff=me()({name:"VForm",props:lz(),emits:{"update:modelValue":t=>!0,submit:t=>!0},setup(t,e){let{slots:n,emit:r}=e;const i=Wj(t),s=te();function o(l){l.preventDefault(),i.reset()}function a(l){const u=l,c=i.validate();u.then=c.then.bind(c),u.catch=c.catch.bind(c),u.finally=c.finally.bind(c),r("submit",u),u.defaultPrevented||c.then(d=>{var f;let{valid:h}=d;h&&((f=s.value)==null||f.submit())}),u.preventDefault()}return be(()=>{var l;return k("form",{ref:s,class:ce(["v-form",t.class]),style:xe(t.style),novalidate:!0,onReset:o,onSubmit:a},[(l=n.default)==null?void 0:l.call(n,i)])}),ja(i,s)}}),uz={__name:"AddOwnedCharacterTab",props:{characterMasters:{type:Array,required:!0},characterMastersMap:{type:Map,required:!0},selectedAccountId:{type:String,default:null},ownedCountMap:{type:Map,required:!0}},emits:["character-added"],setup(t,{emit:e}){const n=t,r=e,i=te(""),s=te(null),o=te(!1),a=x({get(){return s.value?[s.value]:[]},set(d){s.value=d[0]||null}}),l=x(()=>{if(!n.selectedAccountId)return[];const d=i.value.toLowerCase();return n.characterMasters.filter(h=>{const f=u(h.id)<2,m=!d||h.monsterName.toLowerCase().includes(d);return f&&m})});Ie(()=>n.selectedAccountId,()=>{s.value=null});const u=d=>n.selectedAccountId&&n.ownedCountMap.get(`${d}-${n.selectedAccountId}`)||0,c=async()=>{if(!s.value||!n.selectedAccountId)return alert("");if(u(s.value)>=2)return alert("2");o.value=!0;try{const d=n.characterMastersMap.get(s.value);if(!d)throw new Error("");const h={characterMasterId:s.value,monsterName:d.monsterName,items:[],createdAt:Qn.firestore.FieldValue.serverTimestamp()},f=await ms.addOwnedCharacter(n.selectedAccountId,h),m={...h,id:f.id,createdAt:{toDate:()=>new Date}};r("character-added",{accountId:n.selectedAccountId,newCharacter:m}),alert(`${d.monsterName}`),s.value=null}catch(d){console.error(":",d),alert(": "+d.message)}finally{o.value=!1}};return(d,h)=>(ve(),Fe("div",null,[h[2]||(h[2]=k("h2",null,"",-1)),v(ff,{onSubmit:sv(c,["prevent"])},{default:N(()=>[v(ps,{class:"pa-0"},{default:N(()=>[v(Dn,null,{default:N(()=>[v(He,{cols:"12"},{default:N(()=>[v(Wt,{modelValue:i.value,"onUpdate:modelValue":h[0]||(h[0]=f=>i.value=f),label:"",variant:"outlined",clearable:"","prepend-inner-icon":"mdi-magnify"},null,8,["modelValue"])]),_:1})]),_:1}),v(Dn,null,{default:N(()=>[v(He,{cols:"12"},{default:N(()=>[v(Hn,{variant:"outlined"},{default:N(()=>[v(pi,{selected:a.value,"onUpdate:selected":h[1]||(h[1]=f=>a.value=f),style:{height:"400px","overflow-y":"auto"}},{default:N(()=>[(ve(!0),Fe(Ee,null,pn(l.value,f=>(ve(),xt(Un,{key:f.id,value:f.id},{default:N(()=>[v(vi,null,{default:N(()=>[ze(" ["+$e(f.indexNumber||"?")+"] "+$e(f.monsterName),1)]),_:2},1024),v(Iu,null,{default:N(()=>[ze(" : "+$e(u(f.id))+" / 2 ",1)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["selected"])]),_:1})]),_:1})]),_:1}),v(Dn,null,{default:N(()=>[v(He,{cols:"12"},{default:N(()=>[v(un,{loading:o.value,disabled:!s.value||o.value,onClick:c,color:"primary",size:"large",block:""},{default:N(()=>[ze($e(o.value?"...":""),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]))}},cx=(t,e,n,r,i,s=null)=>{const o=n.get(t.characterMasterId),a=o?o.monsterName:"",l=t.accountId||s;if(!l)return`${a} ()`;const c=(r.get(l)||[]).filter(h=>h.characterMasterId===t.characterMasterId).findIndex(h=>h.id===t.id);return`${a} (${c>=0?c+1:""})`},cz=Jh("v-alert-title"),dz=G({iconSize:[Number,String],iconSizes:{type:Array,default:()=>[["x-small",10],["small",16],["default",24],["large",28],["x-large",32]]}},"iconSize");function hz(t,e){return{iconSize:x(()=>{const r=new Map(t.iconSizes),i=t.iconSize??e()??"default";return r.has(i)?r.get(i):i})}}const fz=["success","info","warning","error"],mz=G({border:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["top","end","bottom","start"].includes(t)},borderColor:String,closable:Boolean,closeIcon:{type:Ge,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:t=>fz.includes(t)},...Pe(),...nr(),...fr(),...Mi(),...dz(),...sf(),...hy(),...er(),...st(),...Et(),...Oi({variant:"flat"})},"VAlert"),gz=me()({name:"VAlert",props:mz(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:r}=e;const i=_t(t,"modelValue"),s=V(()=>{if(t.icon!==!1)return t.type?t.icon??`$${t.type}`:t.icon}),{iconSize:o}=hz(t,()=>t.prominent?44:void 0),{themeClasses:a}=$t(t),{colorClasses:l,colorStyles:u,variantClasses:c}=Ua(()=>({color:t.color??t.type,variant:t.variant})),{densityClasses:d}=gr(t),{dimensionStyles:h}=mr(t),{elevationClasses:f}=Vi(t),{locationStyles:m}=of(t),{positionClasses:g}=fy(t),{roundedClasses:p}=tr(t),{textColorClasses:y,textColorStyles:w}=Er(()=>t.borderColor),{t:T}=oc(),b=V(()=>({"aria-label":T(t.closeLabel),onClick(I){i.value=!1,n("click:close",I)}}));return()=>{const I=!!(r.prepend||s.value),S=!!(r.title||t.title),C=!!(r.close||t.closable),D={density:t.density,icon:s.value,size:t.iconSize||t.prominent?o.value:void 0};return i.value&&v(t.tag,{class:ce(["v-alert",t.border&&{"v-alert--border":!!t.border,[`v-alert--border-${t.border===!0?"start":t.border}`]:!0},{"v-alert--prominent":t.prominent},a.value,l.value,d.value,f.value,g.value,p.value,c.value,t.class]),style:xe([u.value,h.value,m.value,t.style]),role:"alert"},{default:()=>{var P,$;return[$a(!1,"v-alert"),t.border&&k("div",{key:"border",class:ce(["v-alert__border",y.value]),style:xe(w.value)},null),I&&k("div",{key:"prepend",class:"v-alert__prepend"},[r.prepend?v(mt,{key:"prepend-defaults",disabled:!s.value,defaults:{VIcon:{...D}}},r.prepend):v(Nt,Se({key:"prepend-icon"},D),null)]),k("div",{class:"v-alert__content"},[S&&v(cz,{key:"title"},{default:()=>{var q;return[((q=r.title)==null?void 0:q.call(r))??t.title]}}),((P=r.text)==null?void 0:P.call(r))??t.text,($=r.default)==null?void 0:$.call(r)]),r.append&&k("div",{key:"append",class:"v-alert__append"},[r.append()]),C&&k("div",{key:"close",class:"v-alert__close"},[r.close?v(mt,{key:"close-defaults",defaults:{VBtn:{icon:t.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var q;return[(q=r.close)==null?void 0:q.call(r,{props:b.value})]}}):v(un,Se({key:"close-btn",icon:t.closeIcon,size:"x-small",variant:"text"},b.value),null)])]}})}}}),vz={key:0},pz={key:1},yz={__name:"ManageItemsTab",props:{selectedAccountId:{type:String,default:null},ownedCharactersData:{type:Map,required:!0},characterMastersMap:{type:Map,required:!0},itemMasters:{type:Array,required:!0},itemMastersMap:{type:Map,required:!0}},emits:["items-updated","items-moved"],setup(t,{emit:e}){const n=t,r=e,i=wt({search:"",selectedOwnedId:null,items:[]}),s=wt({from:{search:"",selectedId:null},to:{search:"",selectedId:null},selectedItemIds:[]}),o=te(!1),a=te(!1),l=x(()=>!n.selectedAccountId||!n.ownedCharactersData.has(n.selectedAccountId)?[]:(n.ownedCharactersData.get(n.selectedAccountId)||[]).map(I=>{const S=n.characterMastersMap.get(I.characterMasterId);return{...I,indexNumber:(S==null?void 0:S.indexNumber)||999999,monsterName:(S==null?void 0:S.monsterName)||""}}).sort((I,S)=>I.indexNumber-S.indexNumber)),u=x(()=>{const b=i.search.toLowerCase();return l.value.filter(I=>!b||I.monsterName.toLowerCase().includes(b))}),c=x(()=>{const b=s.from.search.toLowerCase();return l.value.filter(I=>(!b||I.monsterName.toLowerCase().includes(b))&&I.id!==s.to.selectedId)}),d=x(()=>{const b=s.to.search.toLowerCase();return l.value.filter(I=>(!b||I.monsterName.toLowerCase().includes(b))&&I.id!==s.from.selectedId)}),h=x(()=>{if(!s.from.selectedId)return[];const b=l.value.find(I=>I.id===s.from.selectedId);return!b||!b.items?[]:b.items.map(I=>({id:Number(I),name:n.itemMastersMap.get(Number(I))||`(ID:${I})`}))}),f=x({get:()=>i.selectedOwnedId?[i.selectedOwnedId]:[],set:b=>{i.selectedOwnedId=b[0]||null}}),m=x({get:()=>s.from.selectedId?[s.from.selectedId]:[],set:b=>{s.from.selectedId=b[0]||null}}),g=x({get:()=>s.to.selectedId?[s.to.selectedId]:[],set:b=>{s.to.selectedId=b[0]||null}});Ie(()=>n.selectedAccountId,()=>{Object.assign(i,{search:"",selectedOwnedId:null,items:[]}),Object.assign(s,{from:{search:"",selectedId:null},to:{search:"",selectedId:null},selectedItemIds:[]})}),Ie(()=>i.selectedOwnedId,b=>{var S;if(!b){i.items=[];return}const I=l.value.find(C=>C.id===b);i.items=((S=I==null?void 0:I.items)==null?void 0:S.map(Number))||[]}),Ie(()=>s.from.selectedId,()=>{s.selectedItemIds=[]});const y=async()=>{if(i.selectedOwnedId){if(i.items.length>3)return alert("3");o.value=!0;try{await ms.updateCharacterItems(n.selectedAccountId,i.selectedOwnedId,i.items),r("items-updated",{accountId:n.selectedAccountId,ownedCharacterId:i.selectedOwnedId,items:i.items}),alert("")}catch(b){alert(": "+b.message)}finally{o.value=!1}}},w=async()=>{var b;a.value=!0;try{const I=s.from.selectedId,S=s.to.selectedId,C=s.selectedItemIds;if(I===S||!I||!S)throw new Error("");if(C.length===0)throw new Error("");const D=l.value.find(A=>A.id===I),P=l.value.find(A=>A.id===S);if(!D||!P)throw new Error("");if((((b=P.items)==null?void 0:b.length)||0)+C.length>3)throw new Error("");const $=(D.items||[]).map(Number).filter(A=>!C.includes(A)),q=[...(P.items||[]).map(Number),...C];await ms.moveCharacterItems(n.selectedAccountId,{id:I,items:$},{id:S,items:q}),r("items-moved",{accountId:n.selectedAccountId,from:{id:I,items:$},to:{id:S,items:q}}),alert(""),s.from.selectedId=null,s.to.selectedId=null,s.selectedItemIds=[]}catch(I){alert(`: ${I.message}`)}finally{a.value=!1}},T=(b,I)=>cx(b,I,n.characterMastersMap,n.ownedCharactersData,n.itemMastersMap,n.selectedAccountId);return(b,I)=>(ve(),Fe("div",null,[I[16]||(I[16]=k("h2",null,"",-1)),v(ff,null,{default:N(()=>[v(Hn,{variant:"outlined",class:"mb-5"},{default:N(()=>[v(Sa,null,{default:N(()=>I[8]||(I[8]=[ze("",-1)])),_:1,__:[8]}),v(io,null,{default:N(()=>[v(ps,null,{default:N(()=>[v(Dn,null,{default:N(()=>[v(He,{cols:"12",md:"6"},{default:N(()=>[v(Wt,{modelValue:i.search,"onUpdate:modelValue":I[0]||(I[0]=S=>i.search=S),label:"",variant:"outlined",clearable:"","prepend-inner-icon":"mdi-magnify"},null,8,["modelValue"]),v(Hn,{variant:"outlined"},{default:N(()=>[v(pi,{selected:f.value,"onUpdate:selected":I[1]||(I[1]=S=>f.value=S),style:{height:"300px","overflow-y":"auto"}},{default:N(()=>[(ve(!0),Fe(Ee,null,pn(u.value,S=>(ve(),xt(Un,{key:S.id,value:S.id},{default:N(()=>[v(vi,null,{default:N(()=>[ze($e(T(S,!1)),1)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["selected"])]),_:1})]),_:1}),v(He,{cols:"12",md:"6"},{default:N(()=>[v(Vn,{modelValue:i.items,"onUpdate:modelValue":I[2]||(I[2]=S=>i.items=S),items:t.itemMasters,"item-title":"name","item-value":"id",label:" (3)",multiple:"",chips:"",clearable:"",variant:"outlined",disabled:!i.selectedOwnedId},null,8,["modelValue","items","disabled"]),v(un,{loading:o.value,disabled:!i.selectedOwnedId||o.value||i.items.length>3,onClick:y,color:"primary",block:"",size:"large"},{default:N(()=>I[9]||(I[9]=[ze("  ",-1)])),_:1,__:[9]},8,["loading","disabled"]),i.items.length>3?(ve(),xt(gz,{key:0,type:"error",dense:"",class:"mt-2"},{default:N(()=>I[10]||(I[10]=[ze("3",-1)])),_:1,__:[10]})):es("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),v(Hn,{variant:"outlined"},{default:N(()=>[v(Sa,null,{default:N(()=>I[11]||(I[11]=[ze("",-1)])),_:1,__:[11]}),v(io,null,{default:N(()=>[v(ps,null,{default:N(()=>[v(Dn,null,{default:N(()=>[v(He,{cols:"12",md:"4"},{default:N(()=>[v(Wt,{modelValue:s.from.search,"onUpdate:modelValue":I[3]||(I[3]=S=>s.from.search=S),label:"",variant:"outlined",clearable:"","prepend-inner-icon":"mdi-magnify"},null,8,["modelValue"]),v(Hn,{variant:"outlined"},{default:N(()=>[v(pi,{selected:m.value,"onUpdate:selected":I[4]||(I[4]=S=>m.value=S),style:{height:"250px","overflow-y":"auto"}},{default:N(()=>[(ve(!0),Fe(Ee,null,pn(c.value,S=>(ve(),xt(Un,{key:S.id,value:S.id},{default:N(()=>[v(vi,null,{default:N(()=>[ze($e(T(S,!1)),1)]),_:2},1024),v(Iu,null,{default:N(()=>{var C;return[ze(": "+$e(((C=S.items)==null?void 0:C.length)||0),1)]}),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["selected"])]),_:1})]),_:1}),v(He,{cols:"12",md:"4"},{default:N(()=>[I[14]||(I[14]=k("p",{class:"font-weight-bold mb-2"},":",-1)),v(Hn,{variant:"outlined",style:{height:"318px","overflow-y":"auto"}},{default:N(()=>[v(io,null,{default:N(()=>[s.from.selectedId?h.value.length?es("",!0):(ve(),Fe("div",pz,I[13]||(I[13]=[k("small",null,"",-1)]))):(ve(),Fe("div",vz,I[12]||(I[12]=[k("small",null,"",-1)]))),(ve(!0),Fe(Ee,null,pn(h.value,S=>(ve(),xt(Jj,{key:S.id,modelValue:s.selectedItemIds,"onUpdate:modelValue":I[5]||(I[5]=C=>s.selectedItemIds=C),label:S.name,value:S.id,dense:"","hide-details":""},null,8,["modelValue","label","value"]))),128))]),_:1})]),_:1})]),_:1,__:[14]}),v(He,{cols:"12",md:"4"},{default:N(()=>[v(Wt,{modelValue:s.to.search,"onUpdate:modelValue":I[6]||(I[6]=S=>s.to.search=S),label:"",variant:"outlined",clearable:"","prepend-inner-icon":"mdi-magnify"},null,8,["modelValue"]),v(Hn,{variant:"outlined"},{default:N(()=>[v(pi,{selected:g.value,"onUpdate:selected":I[7]||(I[7]=S=>g.value=S),style:{height:"250px","overflow-y":"auto"}},{default:N(()=>[(ve(!0),Fe(Ee,null,pn(d.value,S=>(ve(),xt(Un,{key:S.id,value:S.id},{default:N(()=>[v(vi,null,{default:N(()=>[ze($e(T(S,!1)),1)]),_:2},1024),v(Iu,null,{default:N(()=>{var C;return[ze(": "+$e(((C=S.items)==null?void 0:C.length)||0),1)]}),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["selected"])]),_:1})]),_:1})]),_:1}),v(Dn,null,{default:N(()=>[v(He,null,{default:N(()=>[v(un,{loading:a.value,disabled:!s.from.selectedId||!s.to.selectedId||s.selectedItemIds.length===0||a.value,onClick:w,color:"secondary",block:"",size:"large"},{default:N(()=>I[15]||(I[15]=[ze("  ",-1)])),_:1,__:[15]},8,["loading","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]))}},wz={key:1,class:"text-center pa-4"},bz={key:2,class:"text-center pa-4"},Iz={class:"d-flex align-center w-100"},_z={class:"flex-grow-1"},Sz={class:"border rounded pa-1",style:{"font-size":"0.7rem","line-height":"1.2"}},Tz=["title"],Ez=["title"],Cz=["title"],kz={__name:"TeamList",props:{dataLoaded:{type:Boolean,required:!0},teams:{type:Array,required:!0},accounts:{type:Array,required:!0},ownedCharactersData:{type:Map,required:!0},characterMastersMap:{type:Map,required:!0},itemMastersMap:{type:Map,required:!0},selectedTeamId:{type:String,default:null}},emits:["select-team","delete-team"],setup(t,{emit:e}){const n=t,r=e,i=["","","","",""],s=wt({type:""}),o=x(()=>s.type?n.teams.filter(c=>c.type===s.type):n.teams),a=(c,d)=>{const h={characterName:"",accountName:"",items:[]};if(!c.characters||!n.dataLoaded||d>=c.characters.length)return h;const f=c.characters[d],m=n.accounts.find(y=>y.id===f.accountId),g=(n.ownedCharactersData.get(f.accountId)||[]).find(y=>y.id===f.ownedCharacterId);if(!g)return{characterName:"",accountName:(m==null?void 0:m.name)||"",items:[]};const p=n.characterMastersMap.get(g.characterMasterId);return{characterName:(p==null?void 0:p.monsterName)||"",accountName:(m==null?void 0:m.name)||"",items:(g.items||[]).map(y=>n.itemMastersMap.get(Number(y))||`ID:${y}`).filter(Boolean)}},l=c=>{r("select-team",c)},u=c=>{r("delete-team",c)};return(c,d)=>(ve(),xt(Hn,{variant:"outlined"},{default:N(()=>[v(Sa,null,{default:N(()=>d[1]||(d[1]=[ze("",-1)])),_:1,__:[1]}),v(io,null,{default:N(()=>[v(Vn,{modelValue:s.type,"onUpdate:modelValue":d[0]||(d[0]=h=>s.type=h),items:["",...i],label:"",variant:"outlined",clearable:"",density:"compact"},null,8,["modelValue","items"]),v(pi,{lines:"three","select-strategy":"single-independent",style:{height:"70vh","overflow-y":"auto"},class:"border rounded"},{default:N(()=>[o.value.length>0?(ve(),xt(py,{key:0},{default:N(()=>[ze($e(o.value.length)+"",1)]),_:1})):es("",!0),t.dataLoaded?o.value.length===0?(ve(),Fe("div",bz,"")):es("",!0):(ve(),Fe("div",wz,"...")),(ve(!0),Fe(Ee,null,pn(o.value,h=>(ve(),xt(Un,{key:h.id,onClick:f=>l(h),active:t.selectedTeamId===h.id,class:"mb-2 border rounded"},{default:N(()=>[k("div",Iz,[k("div",_z,[v(vi,{class:"font-weight-bold"},{default:N(()=>[ze($e(h.name),1)]),_:2},1024),v(Iu,null,{default:N(()=>[ze($e(h.type),1)]),_:2},1024)]),v(un,{icon:"mdi-delete",variant:"text",size:"small",color:"grey",onClick:sv(f=>u(h.id),["stop"])},null,8,["onClick"])]),v(Dn,{dense:"",class:"mt-2 text-caption"},{default:N(()=>[(ve(!0),Fe(Ee,null,pn(Array(4),(f,m)=>(ve(),xt(He,{key:m,cols:"3"},{default:N(()=>[k("div",Sz,[k("div",{class:"font-weight-bold text-truncate",title:a(h,m).characterName},$e(a(h,m).characterName),9,Tz),k("div",{class:"text-truncate",title:a(h,m).accountName},$e(a(h,m).accountName),9,Ez),v(ac,{class:"my-1"}),(ve(),Fe(Ee,null,pn(2,g=>k("div",{key:g,class:"text-truncate",title:a(h,m).items[g-1]},$e(a(h,m).items[g-1]||""),9,Cz)),64))])]),_:2},1024))),128))]),_:2},1024)]),_:2},1032,["onClick","active"]))),128))]),_:1})]),_:1})]),_:1}))}},Az={__name:"TeamForm",props:{team:{type:Object,required:!0},accounts:{type:Array,required:!0},ownedCharactersData:{type:Map,required:!0},characterMastersMap:{type:Map,required:!0},itemMastersMap:{type:Map,required:!0},isSaving:{type:Boolean,default:!1}},emits:["save-team","reset-form","update:team"],setup(t,{emit:e}){const n=t,r=e,i=(h,f)=>{const m=JSON.parse(JSON.stringify(n.team));m[h]=f,r("update:team",m)},s=(h,f,m)=>{const g={...n.team,slots:n.team.slots.map((p,y)=>y===h?{...p,[f]:m}:p)};f==="selectedAccountId"&&(g.slots[h].selectedOwnedId=null,g.slots[h].characterSearch=""),r("update:team",g)},o=["","","","",""],a=x(()=>n.team.name&&n.team.type&&n.team.slots.every(h=>h.selectedAccountId&&h.selectedOwnedId)),l=h=>{if(!h.selectedAccountId)return[];const m=(n.ownedCharactersData.get(h.selectedAccountId)||[]).map(p=>{const y=n.characterMastersMap.get(p.characterMasterId);return{...p,accountId:h.selectedAccountId,indexNumber:(y==null?void 0:y.indexNumber)||999999,monsterName:(y==null?void 0:y.monsterName)||""}}).sort((p,y)=>p.indexNumber-y.indexNumber),g=(h.characterSearch||"").toLowerCase();return g?m.filter(p=>p.monsterName.toLowerCase().includes(g)):m},u=(h,f)=>h?n.team.slots.some((m,g)=>g!==f&&m.selectedOwnedId===h):!1,c=(h,f)=>cx(h,f,n.characterMastersMap,n.ownedCharactersData,n.itemMastersMap,h.accountId),d=(h,f)=>{s(h,"selectedOwnedId",f)};return(h,f)=>(ve(),xt(Hn,{variant:"outlined"},{default:N(()=>[v(Sa,null,{default:N(()=>[ze($e(t.team.id?"":""),1)]),_:1}),v(QA,null,{default:N(()=>[v(un,{onClick:f[0]||(f[0]=m=>h.$emit("reset-form")),size:"small",variant:"tonal",class:"mt-2"},{default:N(()=>f[4]||(f[4]=[ze("",-1)])),_:1,__:[4]})]),_:1}),t.accounts.length>0&&t.ownedCharactersData.size>0&&t.characterMastersMap.size>0?(ve(),Fe(Ee,{key:0},[v(io,null,{default:N(()=>[v(Wt,{"model-value":t.team.name,"onUpdate:modelValue":f[1]||(f[1]=m=>i("name",m)),label:"",variant:"outlined",placeholder:":  1"},null,8,["model-value"]),v(Vn,{"model-value":t.team.type,"onUpdate:modelValue":f[2]||(f[2]=m=>i("type",m)),items:o,label:"",variant:"outlined"},null,8,["model-value"]),f[7]||(f[7]=k("h4",{class:"mt-4 mb-2"}," (4)",-1)),v(Dn,null,{default:N(()=>[(ve(!0),Fe(Ee,null,pn(t.team.slots,(m,g)=>(ve(),xt(He,{key:g,cols:"12",md:"6"},{default:N(()=>[v(Hn,{variant:"tonal",class:"pa-2"},{default:N(()=>[k("h5",null," "+$e(g+1),1),v(Vn,{"model-value":m.selectedAccountId,"onUpdate:modelValue":p=>s(g,"selectedAccountId",p),items:t.accounts,"item-title":"name","item-value":"id",label:"",variant:"outlined",density:"compact"},null,8,["model-value","onUpdate:modelValue","items"]),v(Wt,{"model-value":m.characterSearch,"onUpdate:modelValue":p=>s(g,"characterSearch",p),label:"",variant:"outlined",density:"compact",clearable:""},null,8,["model-value","onUpdate:modelValue"]),v(Hn,{variant:"outlined"},{default:N(()=>[v(pi,{style:{height:"150px","overflow-y":"auto"},density:"compact"},{default:N(()=>[m.selectedAccountId?es("",!0):(ve(),xt(Un,{key:0},{default:N(()=>f[5]||(f[5]=[k("small",null,"",-1)])),_:1,__:[5]})),(ve(!0),Fe(Ee,null,pn(l(m),p=>(ve(),xt(Un,{key:p.id,value:p.id,active:m.selectedOwnedId===p.id,disabled:u(p.id,g),onClick:y=>d(g,p.id)},fS({default:N(()=>[v(vi,null,{default:N(()=>[ze($e(c(p,!1)),1)]),_:2},1024)]),_:2},[u(p.id,g)?{name:"append",fn:N(()=>[v(GA,{size:"x-small",color:"warning",variant:"tonal"},{default:N(()=>f[6]||(f[6]=[ze("",-1)])),_:1,__:[6]})]),key:"0"}:void 0]),1032,["value","active","disabled","onClick"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1,__:[7]}),v(df,null,{default:N(()=>[v(hf),v(un,{loading:t.isSaving,disabled:!a.value||t.isSaving,onClick:f[3]||(f[3]=m=>h.$emit("save-team")),color:"primary",size:"large"},{default:N(()=>[ze($e(t.isSaving?"...":t.team.id?"":""),1)]),_:1},8,["loading","disabled"])]),_:1})],64)):es("",!0)]),_:1}))}},xz={__name:"ManageTeamsTab",props:{userId:{type:String,required:!0},dataLoaded:{type:Boolean,required:!0},teams:{type:Array,required:!0},accounts:{type:Array,required:!0},ownedCharactersData:{type:Map,required:!0},characterMastersMap:{type:Map,required:!0},itemMastersMap:{type:Map,required:!0}},emits:["team-added","team-updated","team-deleted"],setup(t,{emit:e}){const n=t,r=e,i=te(!1),s=()=>({id:null,name:"",type:"",slots:Array(4).fill().map(()=>({selectedAccountId:"",selectedOwnedId:"",characterSearch:""}))}),o=wt(s()),a=h=>{console.log('[ManageTeamsTab] "update:team" :',h),Object.assign(o,h),console.log("[ManageTeamsTab] teamForm:",JSON.parse(JSON.stringify(o)))},l=h=>{Object.assign(o,{id:h.id,name:h.name,type:h.type,slots:JSON.parse(JSON.stringify(h.characters.map(f=>({selectedAccountId:f.accountId,selectedOwnedId:f.ownedCharacterId,characterSearch:""}))))})},u=()=>{Object.assign(o,s())},c=async()=>{if(!(o.name&&o.type&&o.slots.every(f=>f.selectedAccountId&&f.selectedOwnedId))){alert("4");return}i.value=!0;const h={userId:n.userId,name:o.name,type:o.type,characters:o.slots.map(f=>({accountId:f.selectedAccountId,ownedCharacterId:f.selectedOwnedId}))};try{const f=o.id;Object.assign(h,f?{updatedAt:Qn.firestore.FieldValue.serverTimestamp()}:{createdAt:Qn.firestore.FieldValue.serverTimestamp()});const m=await ms.saveTeam(f,h);if(f)r("team-updated",{...h,id:f}),alert("");else{const g={...h,id:m.id,createdAt:{toDate:()=>new Date}};r("team-added",g),alert(""),u()}}catch(f){console.error(":",f),alert(": "+f.message)}finally{i.value=!1}},d=async h=>{if(confirm(""))try{await ms.deleteTeam(h),r("team-deleted",h),alert(""),o.id===h&&u()}catch(f){console.error(":",f),alert(": "+f.message)}};return(h,f)=>(ve(),Fe("div",null,[f[0]||(f[0]=k("h2",null,"",-1)),v(Dn,null,{default:N(()=>[v(He,{cols:"12",md:"6"},{default:N(()=>[v(kz,{"data-loaded":t.dataLoaded,teams:t.teams,accounts:t.accounts,"owned-characters-data":t.ownedCharactersData,"character-masters-map":t.characterMastersMap,"item-masters-map":t.itemMastersMap,"selected-team-id":o.id,onSelectTeam:l,onDeleteTeam:d},null,8,["data-loaded","teams","accounts","owned-characters-data","character-masters-map","item-masters-map","selected-team-id"])]),_:1}),v(He,{cols:"12",md:"6"},{default:N(()=>[v(Az,{team:o,accounts:t.accounts,"owned-characters-data":t.ownedCharactersData,"character-masters-map":t.characterMastersMap,"item-masters-map":t.itemMastersMap,"is-saving":i.value,onSaveTeam:c,onResetForm:u,"onUpdate:team":a},null,8,["team","accounts","owned-characters-data","character-masters-map","item-masters-map","is-saving"])]),_:1})]),_:1})]))}},Dz={__name:"AddMasterCharacterTab",props:{gachaMasters:{type:Array,required:!0}},emits:["master-added"],setup(t,{emit:e}){const n=e,r=wt({no:"",name:"",element:"",type:"",gacha:""}),i=te(!1),s=async()=>{if(!r.name)return alert("");i.value=!0;try{const o={indexNumber:r.no?Number(r.no):0,monsterName:r.name,element:r.element||"",type:r.type||"",ejectionGacha:r.gacha||""};await ms.addCharacterMaster(o),alert(""),n("master-added")}catch(o){alert(": "+o.message)}finally{i.value=!1}};return(o,a)=>(ve(),Fe("div",null,[a[5]||(a[5]=k("h2",null,"",-1)),v(ff,{onSubmit:sv(s,["prevent"])},{default:N(()=>[v(ps,null,{default:N(()=>[v(Dn,null,{default:N(()=>[v(He,{cols:"12",md:"6"},{default:N(()=>[v(Wt,{modelValue:r.no,"onUpdate:modelValue":a[0]||(a[0]=l=>r.no=l),modelModifiers:{number:!0},label:"",type:"number",placeholder:": 1234",variant:"outlined"},null,8,["modelValue"])]),_:1}),v(He,{cols:"12",md:"6"},{default:N(()=>[v(Wt,{modelValue:r.name,"onUpdate:modelValue":a[1]||(a[1]=l=>r.name=l),modelModifiers:{trim:!0},label:"",required:"",variant:"outlined"},null,8,["modelValue"])]),_:1}),v(He,{cols:"12",md:"6"},{default:N(()=>[v(Wt,{modelValue:r.element,"onUpdate:modelValue":a[2]||(a[2]=l=>r.element=l),modelModifiers:{trim:!0},label:"",variant:"outlined"},null,8,["modelValue"])]),_:1}),v(He,{cols:"12",md:"6"},{default:N(()=>[v(Wt,{modelValue:r.type,"onUpdate:modelValue":a[3]||(a[3]=l=>r.type=l),modelModifiers:{trim:!0},label:"",variant:"outlined"},null,8,["modelValue"])]),_:1}),v(He,{cols:"12"},{default:N(()=>[v(Vn,{modelValue:r.gacha,"onUpdate:modelValue":a[4]||(a[4]=l=>r.gacha=l),items:t.gachaMasters,"item-title":"name","item-value":"name",label:" ()",placeholder:"(/)",clearable:"",variant:"outlined"},null,8,["modelValue","items"])]),_:1})]),_:1}),v(Dn,null,{default:N(()=>[v(He,{cols:"12"},{default:N(()=>[v(un,{loading:i.value,disabled:!r.name||i.value,onClick:s,color:"primary",size:"large",block:""},{default:N(()=>[ze($e(i.value?"...":""),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]))}},Pz={__name:"EditMasterCharacterTab",props:{characterMasters:{type:Array,required:!0},gachaMasters:{type:Array,required:!0}},emits:["master-updated"],setup(t,{emit:e}){const n=t,r=e,i=wt({search:"",selectedMasterId:null,no:"",name:"",element:"",type:"",gacha:""}),s=te(!1),o=x(()=>new Map(n.characterMasters.map(c=>[c.id,c]))),a=x(()=>{if(!n.characterMasters.length)return[];const c=i.search.toLowerCase();return n.characterMasters.filter(d=>!c||d.monsterName.toLowerCase().includes(c))}),l=x({get(){return i.selectedMasterId?[i.selectedMasterId]:[]},set(c){i.selectedMasterId=c[0]||null}});Ie(()=>i.selectedMasterId,c=>{if(!c){Object.assign(i,{name:"",no:"",element:"",type:"",gacha:""});return}const d=o.value.get(c);d&&Object.assign(i,{name:d.monsterName,no:d.indexNumber,element:d.element,type:d.type,gacha:d.ejectionGacha})});const u=async()=>{if(!i.selectedMasterId||!i.name)return alert("");s.value=!0;try{const c={monsterName:i.name,indexNumber:i.no?Number(i.no):0,element:i.element,type:i.type,ejectionGacha:i.gacha};await ms.updateCharacterMaster(i.selectedMasterId,c),alert(""),r("master-updated")}catch(c){alert(": "+c.message)}finally{s.value=!1}};return(c,d)=>(ve(),Fe("div",null,[d[9]||(d[9]=k("h2",null,"",-1)),v(ff,null,{default:N(()=>[v(ps,{class:"pa-0"},{default:N(()=>[v(Dn,null,{default:N(()=>[v(He,{cols:"12"},{default:N(()=>[v(Wt,{modelValue:i.search,"onUpdate:modelValue":d[0]||(d[0]=h=>i.search=h),label:"",variant:"outlined",clearable:"","prepend-inner-icon":"mdi-magnify"},null,8,["modelValue"])]),_:1}),v(He,{cols:"12"},{default:N(()=>[v(Hn,{variant:"outlined"},{default:N(()=>[v(pi,{selected:l.value,"onUpdate:selected":d[1]||(d[1]=h=>l.value=h),style:{height:"300px","overflow-y":"auto"}},{default:N(()=>[(ve(!0),Fe(Ee,null,pn(a.value,h=>(ve(),xt(Un,{key:h.id,value:h.id},{default:N(()=>[v(vi,null,{default:N(()=>[ze("["+$e(h.indexNumber||"?")+"] "+$e(h.monsterName),1)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["selected"])]),_:1})]),_:1})]),_:1}),i.selectedMasterId?(ve(),xt(Dn,{key:0},{default:N(()=>[v(He,{cols:"12"},{default:N(()=>[v(Hn,{variant:"outlined"},{default:N(()=>[v(Sa,null,{default:N(()=>d[7]||(d[7]=[ze("",-1)])),_:1,__:[7]}),v(io,null,{default:N(()=>[v(ps,null,{default:N(()=>[v(Dn,null,{default:N(()=>[v(He,{cols:"12",md:"6"},{default:N(()=>[v(Wt,{modelValue:i.no,"onUpdate:modelValue":d[2]||(d[2]=h=>i.no=h),modelModifiers:{number:!0},label:"",type:"number",variant:"outlined"},null,8,["modelValue"])]),_:1}),v(He,{cols:"12",md:"6"},{default:N(()=>[v(Wt,{modelValue:i.name,"onUpdate:modelValue":d[3]||(d[3]=h=>i.name=h),modelModifiers:{trim:!0},label:"",required:"",variant:"outlined"},null,8,["modelValue"])]),_:1}),v(He,{cols:"12",md:"6"},{default:N(()=>[v(Wt,{modelValue:i.element,"onUpdate:modelValue":d[4]||(d[4]=h=>i.element=h),modelModifiers:{trim:!0},label:"",variant:"outlined"},null,8,["modelValue"])]),_:1}),v(He,{cols:"12",md:"6"},{default:N(()=>[v(Wt,{modelValue:i.type,"onUpdate:modelValue":d[5]||(d[5]=h=>i.type=h),modelModifiers:{trim:!0},label:"",variant:"outlined"},null,8,["modelValue"])]),_:1}),v(He,{cols:"12"},{default:N(()=>[v(Vn,{modelValue:i.gacha,"onUpdate:modelValue":d[6]||(d[6]=h=>i.gacha=h),items:t.gachaMasters,"item-title":"name","item-value":"name",label:" ()",placeholder:"(/)",clearable:"",variant:"outlined"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1})]),_:1}),v(df,null,{default:N(()=>[v(hf),v(un,{loading:s.value,disabled:!i.selectedMasterId||s.value,onClick:u,color:"primary",size:"large",class:"ma-2"},{default:N(()=>d[8]||(d[8]=[ze("  ",-1)])),_:1,__:[8]},8,["loading","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})):es("",!0)]),_:1})]),_:1})]))}},zd=Symbol.for("vuetify:layout"),dx=Symbol.for("vuetify:layout-item"),m_=1e3,Nz=G({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Rz=G({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Oz(){const t=et(zd);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function Mz(t){const e=et(zd);if(!e)throw new Error("[Vuetify] Could not find injected layout");const n=t.id??`layout-item-${Ei()}`,r=Vt("useLayoutItem");Yt(dx,{id:n});const i=ge(!1);Xg(()=>i.value=!0),lS(()=>i.value=!1);const{layoutItemStyles:s,layoutItemScrimStyles:o}=e.register(r,{...t,active:x(()=>i.value?!1:t.active.value),id:n});return Zn(()=>e.unregister(n)),{layoutItemStyles:s,layoutRect:e.layoutRect,layoutItemScrimStyles:o}}const Vz=(t,e,n,r)=>{let i={top:0,left:0,right:0,bottom:0};const s=[{id:"",layer:{...i}}];for(const o of t){const a=e.get(o),l=n.get(o),u=r.get(o);if(!a||!l||!u)continue;const c={...i,[a.value]:parseInt(i[a.value],10)+(u.value?parseInt(l.value,10):0)};s.push({id:o,layer:c}),i=c}return s};function Lz(t){const e=et(zd,null),n=x(()=>e?e.rootZIndex.value-100:m_),r=te([]),i=wt(new Map),s=wt(new Map),o=wt(new Map),a=wt(new Map),l=wt(new Map),{resizeRef:u,contentRect:c}=_a(),d=x(()=>{const S=new Map,C=t.overlaps??[];for(const D of C.filter(P=>P.includes(":"))){const[P,$]=D.split(":");if(!r.value.includes(P)||!r.value.includes($))continue;const q=i.get(P),A=i.get($),O=s.get(P),j=s.get($);!q||!A||!O||!j||(S.set($,{position:q.value,amount:parseInt(O.value,10)}),S.set(P,{position:A.value,amount:-parseInt(j.value,10)}))}return S}),h=x(()=>{const S=[...new Set([...o.values()].map(D=>D.value))].sort((D,P)=>D-P),C=[];for(const D of S){const P=r.value.filter($=>{var q;return((q=o.get($))==null?void 0:q.value)===D});C.push(...P)}return Vz(C,i,s,a)}),f=x(()=>!Array.from(l.values()).some(S=>S.value)),m=x(()=>h.value[h.value.length-1].layer),g=V(()=>({"--v-layout-left":Ae(m.value.left),"--v-layout-right":Ae(m.value.right),"--v-layout-top":Ae(m.value.top),"--v-layout-bottom":Ae(m.value.bottom),...f.value?void 0:{transition:"none"}})),p=x(()=>h.value.slice(1).map((S,C)=>{let{id:D}=S;const{layer:P}=h.value[C],$=s.get(D),q=i.get(D);return{id:D,...P,size:Number($.value),position:q.value}})),y=S=>p.value.find(C=>C.id===S),w=Vt("createLayout"),T=ge(!1);ki(()=>{T.value=!0}),Yt(zd,{register:(S,C)=>{let{id:D,order:P,position:$,layoutSize:q,elementSize:A,active:O,disableTransitions:j,absolute:J}=C;o.set(D,P),i.set(D,$),s.set(D,q),a.set(D,O),j&&l.set(D,j);const fe=zo(dx,w==null?void 0:w.vnode).indexOf(S);fe>-1?r.value.splice(fe,0,D):r.value.push(D);const de=x(()=>p.value.findIndex(U=>U.id===D)),Be=x(()=>n.value+h.value.length*2-de.value*2),L=x(()=>{const U=$.value==="left"||$.value==="right",le=$.value==="right",qe=$.value==="bottom",ie=A.value??q.value,Ue=ie===0?"%":"px",pe={[$.value]:0,zIndex:Be.value,transform:`translate${U?"X":"Y"}(${(O.value?0:-(ie===0?100:ie))*(le||qe?-1:1)}${Ue})`,position:J.value||n.value!==m_?"absolute":"fixed",...f.value?void 0:{transition:"none"}};if(!T.value)return pe;const Me=p.value[de.value],je=d.value.get(D);return je&&(Me[je.position]+=je.amount),{...pe,height:U?`calc(100% - ${Me.top}px - ${Me.bottom}px)`:A.value?`${A.value}px`:void 0,left:le?void 0:`${Me.left}px`,right:le?`${Me.right}px`:void 0,top:$.value!=="bottom"?`${Me.top}px`:void 0,bottom:$.value!=="top"?`${Me.bottom}px`:void 0,width:U?A.value?`${A.value}px`:void 0:`calc(100% - ${Me.left}px - ${Me.right}px)`}}),F=x(()=>({zIndex:Be.value-1}));return{layoutItemStyles:L,layoutItemScrimStyles:F,zIndex:Be}},unregister:S=>{o.delete(S),i.delete(S),s.delete(S),a.delete(S),l.delete(S),r.value=r.value.filter(C=>C!==S)},mainRect:m,mainStyles:g,getLayoutItem:y,items:p,layoutRect:c,rootZIndex:n});const b=V(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),I=V(()=>({zIndex:e?n.value:void 0,position:e?"relative":void 0,overflow:e?"hidden":void 0}));return{layoutClasses:b,layoutStyles:I,getLayoutItem:y,items:p,layoutRect:c,layoutRef:u}}const Fz=G({...Pe(),...ti(Nz(),["fullHeight"]),...Et()},"VApp"),Bz=me()({name:"VApp",props:Fz(),setup(t,e){let{slots:n}=e;const r=$t(t),{layoutClasses:i,getLayoutItem:s,items:o,layoutRef:a}=Lz({...t,fullHeight:!0}),{rtlClasses:l}=vr();return be(()=>{var u;return k("div",{ref:a,class:ce(["v-application",r.themeClasses.value,i.value,l.value,t.class]),style:xe([t.style])},[k("div",{class:"v-application__wrap"},[(u=n.default)==null?void 0:u.call(n)])])}),{getLayoutItem:s,items:o,theme:r}}}),$z=G({text:String,...Pe(),...st()},"VToolbarTitle"),hx=me()({name:"VToolbarTitle",props:$z(),setup(t,e){let{slots:n}=e;return be(()=>{const r=!!(n.default||n.text||t.text);return v(t.tag,{class:ce(["v-toolbar-title",t.class]),style:xe(t.style)},{default:()=>{var i;return[r&&k("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():t.text,(i=n.default)==null?void 0:i.call(n)])]}})}),{}}}),Uz=[null,"prominent","default","comfortable","compact"],fx=G({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>Uz.includes(t)},extended:{type:Boolean,default:null},extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...As(),...Pe(),...Mi(),...er(),...st({tag:"header"}),...Et()},"VToolbar"),g_=me()({name:"VToolbar",props:fx(),setup(t,e){var f;let{slots:n}=e;const{backgroundColorClasses:r,backgroundColorStyles:i}=cr(()=>t.color),{borderClasses:s}=xs(t),{elevationClasses:o}=Vi(t),{roundedClasses:a}=tr(t),{themeClasses:l}=$t(t),{rtlClasses:u}=vr(),c=ge(t.extended===null?!!((f=n.extension)!=null&&f.call(n)):t.extended),d=x(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),h=x(()=>c.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return Ri({VBtn:{variant:"text"}}),be(()=>{var y;const m=!!(t.title||n.title),g=!!(n.image||t.image),p=(y=n.extension)==null?void 0:y.call(n);return c.value=t.extended===null?!!p:t.extended,v(t.tag,{class:ce(["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},r.value,s.value,o.value,a.value,l.value,u.value,t.class]),style:xe([i.value,t.style])},{default:()=>[g&&k("div",{key:"image",class:"v-toolbar__image"},[n.image?v(mt,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},n.image):v(ef,{key:"image-img",cover:!0,src:t.image},null)]),v(mt,{defaults:{VTabs:{height:Ae(d.value)}}},{default:()=>{var w,T,b;return[k("div",{class:"v-toolbar__content",style:{height:Ae(d.value)}},[n.prepend&&k("div",{class:"v-toolbar__prepend"},[(w=n.prepend)==null?void 0:w.call(n)]),m&&v(hx,{key:"title",text:t.title},{text:n.title}),(T=n.default)==null?void 0:T.call(n),n.append&&k("div",{class:"v-toolbar__append"},[(b=n.append)==null?void 0:b.call(n)])])]}}),v(mt,{defaults:{VTabs:{height:Ae(h.value)}}},{default:()=>[v(my,null,{default:()=>[c.value&&k("div",{class:"v-toolbar__extension",style:{height:Ae(h.value)}},[p])]})]})]})}),{contentHeight:d,extensionHeight:h}}}),jz=G({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function qz(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=e;let r=0,i=0;const s=te(null),o=ge(0),a=ge(0),l=ge(0),u=ge(!1),c=ge(!1),d=x(()=>Number(t.scrollThreshold)),h=x(()=>ur((d.value-o.value)/d.value||0)),f=()=>{const m=s.value;if(!m||n&&!n.value)return;r=o.value,o.value="window"in m?m.pageYOffset:m.scrollTop;const g=m instanceof Window?document.documentElement.scrollHeight:m.scrollHeight;if(i!==g){i=g;return}c.value=o.value<r,l.value=Math.abs(o.value-d.value)};return Ie(c,()=>{a.value=a.value||o.value}),Ie(u,()=>{a.value=0}),ki(()=>{Ie(()=>t.scrollTarget,m=>{var p;const g=m?document.querySelector(m):window;g&&g!==s.value&&((p=s.value)==null||p.removeEventListener("scroll",f),s.value=g,s.value.addEventListener("scroll",f,{passive:!0}))},{immediate:!0})}),Zn(()=>{var m;(m=s.value)==null||m.removeEventListener("scroll",f)}),n&&Ie(n,f,{immediate:!0}),{scrollThreshold:d,currentScroll:o,currentThreshold:l,isScrollActive:u,scrollRatio:h,isScrollingUp:c,savedScroll:a}}const zz=G({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...fx(),...Rz(),...jz(),height:{type:[Number,String],default:64}},"VAppBar"),Hz=me()({name:"VAppBar",props:zz(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=te(),i=_t(t,"modelValue"),s=x(()=>{var T;const w=new Set(((T=t.scrollBehavior)==null?void 0:T.split(" "))??[]);return{hide:w.has("hide"),fullyHide:w.has("fully-hide"),inverted:w.has("inverted"),collapse:w.has("collapse"),elevate:w.has("elevate"),fadeImage:w.has("fade-image")}}),o=x(()=>{const w=s.value;return w.hide||w.fullyHide||w.inverted||w.collapse||w.elevate||w.fadeImage||!i.value}),{currentScroll:a,scrollThreshold:l,isScrollingUp:u,scrollRatio:c}=qz(t,{canScroll:o}),d=V(()=>s.value.hide||s.value.fullyHide),h=x(()=>t.collapse||s.value.collapse&&(s.value.inverted?c.value>0:c.value===0)),f=x(()=>t.flat||s.value.fullyHide&&!i.value||s.value.elevate&&(s.value.inverted?a.value>0:a.value===0)),m=x(()=>s.value.fadeImage?s.value.inverted?1-c.value:c.value:void 0),g=x(()=>{var b,I;if(s.value.hide&&s.value.inverted)return 0;const w=((b=r.value)==null?void 0:b.contentHeight)??0,T=((I=r.value)==null?void 0:I.extensionHeight)??0;return d.value?a.value<l.value||s.value.fullyHide?w+T:w:w+T});vs(()=>!!t.scrollBehavior,()=>{dr(()=>{d.value?s.value.inverted?i.value=a.value>l.value:i.value=u.value||a.value<l.value:i.value=!0})});const{ssrBootStyles:p}=uf(),{layoutItemStyles:y}=Mz({id:t.name,order:x(()=>parseInt(t.order,10)),position:V(()=>t.location),layoutSize:g,elementSize:ge(void 0),active:i,absolute:V(()=>t.absolute)});return be(()=>{const w=g_.filterProps(t);return v(g_,Se({ref:r,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{...y.value,"--v-toolbar-image-opacity":m.value,height:void 0,...p.value},t.style]},w,{collapse:h.value,flat:f.value}),n)}),{}}}),Wz=G({scrollable:Boolean,...Pe(),...fr(),...st({tag:"main"})},"VMain"),Gz=me()({name:"VMain",props:Wz(),setup(t,e){let{slots:n}=e;const{dimensionStyles:r}=mr(t),{mainStyles:i}=Oz(),{ssrBootStyles:s}=uf();return be(()=>v(t.tag,{class:ce(["v-main",{"v-main--scrollable":t.scrollable},t.class]),style:xe([i.value,s.value,r.value,t.style])},{default:()=>{var o,a;return[t.scrollable?k("div",{class:"v-main__scroller"},[(o=n.default)==null?void 0:o.call(n)]):(a=n.default)==null?void 0:a.call(n)]}})),{}}}),xy=Symbol.for("vuetify:v-tabs"),Kz=G({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...ti(lA({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),mx=me()({name:"VTab",props:Kz(),setup(t,e){let{slots:n,attrs:r}=e;const{textColorClasses:i,textColorStyles:s}=Er(()=>t.sliderColor),o=te(),a=te(),l=x(()=>t.direction==="horizontal"),u=x(()=>{var d,h;return((h=(d=o.value)==null?void 0:d.group)==null?void 0:h.isSelected.value)??!1});function c(d){var f,m;let{value:h}=d;if(h){const g=(m=(f=o.value)==null?void 0:f.$el.parentElement)==null?void 0:m.querySelector(".v-tab--selected .v-tab__slider"),p=a.value;if(!g||!p)return;const y=getComputedStyle(g).color,w=g.getBoundingClientRect(),T=p.getBoundingClientRect(),b=l.value?"x":"y",I=l.value?"X":"Y",S=l.value?"right":"bottom",C=l.value?"width":"height",D=w[b],P=T[b],$=D>P?w[S]-T[S]:w[b]-T[b],q=Math.sign($)>0?l.value?"right":"bottom":Math.sign($)<0?l.value?"left":"top":"center",O=(Math.abs($)+(Math.sign($)<0?w[C]:T[C]))/Math.max(w[C],T[C])||0,j=w[C]/T[C]||0,J=1.5;Qs(p,{backgroundColor:[y,"currentcolor"],transform:[`translate${I}(${$}px) scale${I}(${j})`,`translate${I}(${$/J}px) scale${I}(${(O-1)/J+1})`,"none"],transformOrigin:Array(3).fill(q)},{duration:225,easing:vu})}}return be(()=>{const d=un.filterProps(t);return v(un,Se({symbol:xy,ref:o,class:["v-tab",t.class],style:t.style,tabindex:u.value?0:-1,role:"tab","aria-selected":String(u.value),active:!1},d,r,{block:t.fixed,maxWidth:t.fixed?300:void 0,"onGroup:selected":c}),{...n,default:()=>{var h;return k(Ee,null,[((h=n.default)==null?void 0:h.call(n))??t.text,!t.hideSlider&&k("div",{ref:a,class:ce(["v-tab__slider",i.value]),style:xe(s.value)},null)])}})}),ja({},o)}}),Yz=t=>{const{touchstartX:e,touchendX:n,touchstartY:r,touchendY:i}=t,s=.5,o=16;t.offsetX=n-e,t.offsetY=i-r,Math.abs(t.offsetY)<s*Math.abs(t.offsetX)&&(t.left&&n<e-o&&t.left(t),t.right&&n>e+o&&t.right(t)),Math.abs(t.offsetX)<s*Math.abs(t.offsetY)&&(t.up&&i<r-o&&t.up(t),t.down&&i>r+o&&t.down(t))};function Qz(t,e){var r;const n=t.changedTouches[0];e.touchstartX=n.clientX,e.touchstartY=n.clientY,(r=e.start)==null||r.call(e,{originalEvent:t,...e})}function Xz(t,e){var r;const n=t.changedTouches[0];e.touchendX=n.clientX,e.touchendY=n.clientY,(r=e.end)==null||r.call(e,{originalEvent:t,...e}),Yz(e)}function Jz(t,e){var r;const n=t.changedTouches[0];e.touchmoveX=n.clientX,e.touchmoveY=n.clientY,(r=e.move)==null||r.call(e,{originalEvent:t,...e})}function Zz(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:n=>Qz(n,e),touchend:n=>Xz(n,e),touchmove:n=>Jz(n,e)}}function e9(t,e){var a;const n=e.value,r=n!=null&&n.parent?t.parentElement:t,i=(n==null?void 0:n.options)??{passive:!0},s=(a=e.instance)==null?void 0:a.$.uid;if(!r||!s)return;const o=Zz(e.value);r._touchHandlers=r._touchHandlers??Object.create(null),r._touchHandlers[s]=o,Tk(o).forEach(l=>{r.addEventListener(l,o[l],i)})}function t9(t,e){var s,o;const n=(s=e.value)!=null&&s.parent?t.parentElement:t,r=(o=e.instance)==null?void 0:o.$.uid;if(!(n!=null&&n._touchHandlers)||!r)return;const i=n._touchHandlers[r];Tk(i).forEach(a=>{n.removeEventListener(a,i[a])}),delete n._touchHandlers[r]}const Rg={mounted:e9,unmounted:t9},gx=Symbol.for("vuetify:v-window"),vx=Symbol.for("vuetify:v-window-group"),px=G({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||t==="hover"},verticalArrows:[Boolean,String],touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Pe(),...st(),...Et()},"VWindow"),Og=me()({name:"VWindow",directives:{vTouch:Rg},props:px(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:r}=$t(t),{isRtl:i}=vr(),{t:s}=oc(),o=sc(t,vx),a=te(),l=x(()=>i.value?!t.reverse:t.reverse),u=ge(!1),c=x(()=>{const b=t.direction==="vertical"?"y":"x",S=(l.value?!u.value:u.value)?"-reverse":"";return`v-window-${b}${S}-transition`}),d=ge(0),h=te(void 0),f=x(()=>o.items.value.findIndex(b=>o.selected.value.includes(b.id)));Ie(f,(b,I)=>{const S=o.items.value.length,C=S-1;S<=2?u.value=b<I:b===C&&I===0?u.value=!0:b===0&&I===C?u.value=!1:u.value=b<I}),Yt(gx,{transition:c,isReversed:u,transitionCount:d,transitionHeight:h,rootRef:a});const m=V(()=>t.continuous||f.value!==0),g=V(()=>t.continuous||f.value!==o.items.value.length-1);function p(){m.value&&o.prev()}function y(){g.value&&o.next()}const w=x(()=>{const b=[],I={icon:i.value?t.nextIcon:t.prevIcon,class:`v-window__${l.value?"right":"left"}`,onClick:o.prev,"aria-label":s("$vuetify.carousel.prev")};b.push(m.value?n.prev?n.prev({props:I}):v(un,I,null):k("div",null,null));const S={icon:i.value?t.prevIcon:t.nextIcon,class:`v-window__${l.value?"left":"right"}`,onClick:o.next,"aria-label":s("$vuetify.carousel.next")};return b.push(g.value?n.next?n.next({props:S}):v(un,S,null):k("div",null,null)),b}),T=x(()=>t.touch===!1?t.touch:{...{left:()=>{l.value?p():y()},right:()=>{l.value?y():p()},start:I=>{let{originalEvent:S}=I;S.stopPropagation()}},...t.touch===!0?{}:t.touch});return be(()=>yt(v(t.tag,{ref:a,class:ce(["v-window",{"v-window--show-arrows-on-hover":t.showArrows==="hover","v-window--vertical-arrows":!!t.verticalArrows},r.value,t.class]),style:xe(t.style)},{default:()=>{var b,I;return[k("div",{class:"v-window__container",style:{height:h.value}},[(b=n.default)==null?void 0:b.call(n,{group:o}),t.showArrows!==!1&&k("div",{class:ce(["v-window__controls",{"v-window__controls--left":t.verticalArrows==="left"||t.verticalArrows===!0},{"v-window__controls--right":t.verticalArrows==="right"}])},[w.value])]),(I=n.additional)==null?void 0:I.call(n,{group:o})]}}),[[Rg,T.value]])),{group:o}}}),n9=G({...ti(px(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),r9=me()({name:"VTabsWindow",props:n9(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=et(xy,null),i=_t(t,"modelValue"),s=x({get(){var o;return i.value!=null||!r?i.value:(o=r.items.value.find(a=>r.selected.value.includes(a.id)))==null?void 0:o.value},set(o){i.value=o}});return be(()=>{const o=Og.filterProps(t);return v(Og,Se({_as:"VTabsWindow"},o,{modelValue:s.value,"onUpdate:modelValue":a=>s.value=a,class:["v-tabs-window",t.class],style:t.style,mandatory:!1,touch:!1}),n)}),{}}}),yx=G({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Pe(),...nf(),...by()},"VWindowItem"),Wi=me()({name:"VWindowItem",directives:{vTouch:Rg},props:yx(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const r=et(gx),i=rf(t,vx),{isBooted:s}=uf();if(!r||!i)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const o=ge(!1),a=x(()=>s.value&&(r.isReversed.value?t.reverseTransition!==!1:t.transition!==!1));function l(){!o.value||!r||(o.value=!1,r.transitionCount.value>0&&(r.transitionCount.value-=1,r.transitionCount.value===0&&(r.transitionHeight.value=void 0)))}function u(){var m;o.value||!r||(o.value=!0,r.transitionCount.value===0&&(r.transitionHeight.value=Ae((m=r.rootRef.value)==null?void 0:m.clientHeight)),r.transitionCount.value+=1)}function c(){l()}function d(m){o.value&&rn(()=>{!a.value||!o.value||!r||(r.transitionHeight.value=Ae(m.clientHeight))})}const h=x(()=>{const m=r.isReversed.value?t.reverseTransition:t.transition;return a.value?{name:typeof m!="string"?r.transition.value:m,onBeforeEnter:u,onAfterEnter:l,onEnterCancelled:c,onBeforeLeave:u,onAfterLeave:l,onLeaveCancelled:c,onEnter:d}:!1}),{hasContent:f}=Iy(t,i.isSelected);return be(()=>v(fi,{transition:h.value,disabled:!s.value},{default:()=>{var m;return[yt(k("div",{class:ce(["v-window-item",i.selectedClass.value,t.class]),style:xe(t.style)},[f.value&&((m=n.default)==null?void 0:m.call(n))]),[[Cn,i.isSelected.value]])]}})),{groupItem:i}}}),i9=G({...yx()},"VTabsWindowItem"),s9=me()({name:"VTabsWindowItem",props:i9(),setup(t,e){let{slots:n}=e;return be(()=>{const r=Wi.filterProps(t);return v(Wi,Se({_as:"VTabsWindowItem"},r,{class:["v-tabs-window-item",t.class],style:t.style}),n)}),{}}});function o9(t){return t?t.map(e=>Nd(e)?e:{text:e,value:e}):[]}const a9=G({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Cy({mandatory:"force",selectedClass:"v-tab-item--selected"}),...nr(),...st()},"VTabs"),l9=me()({name:"VTabs",props:a9(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:r}=e;const i=_t(t,"modelValue"),s=x(()=>o9(t.items)),{densityClasses:o}=gr(t),{backgroundColorClasses:a,backgroundColorStyles:l}=cr(()=>t.bgColor),{scopeId:u}=_y();return Ri({VTab:{color:V(()=>t.color),direction:V(()=>t.direction),stacked:V(()=>t.stacked),fixed:V(()=>t.fixedTabs),sliderColor:V(()=>t.sliderColor),hideSlider:V(()=>t.hideSlider)}}),be(()=>{const c=qd.filterProps(t),d=!!(r.window||t.items.length>0);return k(Ee,null,[v(qd,Se(c,{modelValue:i.value,"onUpdate:modelValue":h=>i.value=h,class:["v-tabs",`v-tabs--${t.direction}`,`v-tabs--align-tabs-${t.alignTabs}`,{"v-tabs--fixed-tabs":t.fixedTabs,"v-tabs--grow":t.grow,"v-tabs--stacked":t.stacked},o.value,a.value,t.class],style:[{"--v-tabs-height":Ae(t.height)},l.value,t.style],role:"tablist",symbol:xy},u,n),{default:()=>{var h;return[((h=r.default)==null?void 0:h.call(r))??s.value.map(f=>{var m;return((m=r.tab)==null?void 0:m.call(r,{item:f}))??v(mx,Se(f,{key:f.text,value:f.value}),{default:r[`tab.${f.value}`]?()=>{var g;return(g=r[`tab.${f.value}`])==null?void 0:g.call(r,{item:f})}:void 0})})]}}),d&&v(r9,Se({modelValue:i.value,"onUpdate:modelValue":h=>i.value=h,key:"tabs-window"},u),{default:()=>{var h;return[s.value.map(f=>{var m;return((m=r.item)==null?void 0:m.call(r,{item:f}))??v(s9,{value:f.value},{default:()=>{var g;return(g=r[`item.${f.value}`])==null?void 0:g.call(r,{item:f})}})}),(h=r.window)==null?void 0:h.call(r)]}})])}),{}}}),u9={key:0},c9={key:1,class:"text-center pa-10"},d9={key:1,class:"text-center pa-10"},h9={__name:"App",setup(t){const e=te(null),n=te(!1),r=te(!1),i=te([]),s=te([]),o=te([]),a=te([]),l=te([]),u=te(new Map),c=te(new Map),d=te(new Map),h=te(new Map),f=te("view-all"),m=te(null),g=te([{id:"view-all",name:""},{id:"add-owned",name:""},{id:"manage-items",name:""},{id:"manage-teams",name:""},{id:"add-master",name:""},{id:"edit-master",name:""}]),p=x(()=>f.value==="add-owned"||f.value==="manage-items");Jf.onAuthStateChanged(A=>{e.value=A,n.value=!0,A?b():T()});const y=()=>{Jf.loginWithGoogle().catch(()=>alert(""))},w=()=>{Jf.logout()},T=()=>{r.value=!1,i.value=[],s.value=[],o.value=[],a.value=[],l.value=[],u.value=new Map,c.value=new Map,d.value=new Map,h.value=new Map,m.value=null};async function b(){if(!r.value&&e.value){console.log("...");try{const A=await ms.loadAndProcessInitialData(e.value.uid);i.value=A.accounts,s.value=A.characterMasters,o.value=A.itemMasters,a.value=A.gachaMasters,l.value=A.teams,u.value=A.itemMastersMap,c.value=A.ownedCountMap,d.value=A.ownedCharactersData,h.value=A.characterMastersMap,i.value.length>0&&(m.value=i.value[0].id),r.value=!0,console.log("")}catch(A){console.error(":",A),alert(`: ${A.message}`)}}}const I=({accountId:A,newCharacter:O})=>{d.value.has(A)||d.value.set(A,[]),d.value.get(A).push(O);const J=`${O.characterMasterId}-${A}`,ee=c.value.get(J)||0;c.value.set(J,ee+1)},S=({accountId:A,ownedCharacterId:O,items:j})=>{const ee=(d.value.get(A)||[]).find(fe=>fe.id===O);ee&&(ee.items=j)},C=({accountId:A,from:O,to:j})=>{const J=d.value.get(A)||[],ee=J.find(de=>de.id===O.id),fe=J.find(de=>de.id===j.id);ee&&(ee.items=O.items),fe&&(fe.items=j.items)},D=A=>{l.value.unshift(A)},P=A=>{const O=l.value.findIndex(j=>j.id===A.id);O>-1&&(l.value[O]={...l.value[O],...A})},$=A=>{l.value=l.value.filter(O=>O.id!==A)},q=()=>{location.reload()};return(A,O)=>(ve(),xt(Bz,null,{default:N(()=>[v(Hz,{app:"",color:"primary",dark:""},fS({default:N(()=>[v(hx,null,{default:N(()=>O[3]||(O[3]=[ze("",-1)])),_:1,__:[3]}),v(hf),v(Bj,{user:e.value,onLogin:y,onLogout:w},null,8,["user"])]),_:2},[e.value?{name:"extension",fn:N(()=>[v(l9,{modelValue:f.value,"onUpdate:modelValue":O[0]||(O[0]=j=>f.value=j),"align-with-title":""},{default:N(()=>[(ve(!0),Fe(Ee,null,pn(g.value,j=>(ve(),xt(mx,{key:j.id,value:j.id},{default:N(()=>[ze($e(j.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),key:"0"}:void 0]),1024),v(Gz,null,{default:N(()=>[v(ps,{fluid:""},{default:N(()=>[e.value?(ve(),Fe("div",u9,[v(Aq,{accounts:i.value,modelValue:m.value,"onUpdate:modelValue":O[1]||(O[1]=j=>m.value=j),visible:p.value,class:"mb-4"},null,8,["accounts","modelValue","visible"]),r.value?(ve(),xt(Og,{key:0,modelValue:f.value,"onUpdate:modelValue":O[2]||(O[2]=j=>f.value=j)},{default:N(()=>[v(Wi,{value:"view-all",key:"view-all"},{default:N(()=>[v(az,{"data-loaded":r.value,accounts:i.value,"character-masters":s.value,"item-masters":o.value,"gacha-masters":a.value,"owned-count-map":c.value,"owned-characters-data":d.value,"item-masters-map":u.value},null,8,["data-loaded","accounts","character-masters","item-masters","gacha-masters","owned-count-map","owned-characters-data","item-masters-map"])]),_:1}),v(Wi,{value:"add-owned",key:"add-owned"},{default:N(()=>[v(uz,{"character-masters":s.value,"character-masters-map":h.value,"selected-account-id":m.value,"owned-count-map":c.value,onCharacterAdded:I},null,8,["character-masters","character-masters-map","selected-account-id","owned-count-map"])]),_:1}),v(Wi,{value:"manage-items",key:"manage-items"},{default:N(()=>[v(yz,{"selected-account-id":m.value,"owned-characters-data":d.value,"character-masters-map":h.value,"item-masters":o.value,"item-masters-map":u.value,onItemsUpdated:S,onItemsMoved:C},null,8,["selected-account-id","owned-characters-data","character-masters-map","item-masters","item-masters-map"])]),_:1}),v(Wi,{value:"manage-teams",key:"manage-teams"},{default:N(()=>[v(xz,{"user-id":e.value.uid,"data-loaded":r.value,teams:l.value,accounts:i.value,"owned-characters-data":d.value,"character-masters-map":h.value,"item-masters-map":u.value,onTeamAdded:D,onTeamUpdated:P,onTeamDeleted:$},null,8,["user-id","data-loaded","teams","accounts","owned-characters-data","character-masters-map","item-masters-map"])]),_:1}),v(Wi,{value:"add-master",key:"add-master"},{default:N(()=>[v(Dz,{"gacha-masters":a.value,onMasterAdded:q},null,8,["gacha-masters"])]),_:1}),v(Wi,{value:"edit-master",key:"edit-master"},{default:N(()=>[v(Pz,{"character-masters":s.value,"gacha-masters":a.value,onMasterUpdated:q},null,8,["character-masters","gacha-masters"])]),_:1})]),_:1},8,["modelValue"])):(ve(),Fe("div",c9,[v(Qk,{indeterminate:"",color:"primary",size:"64"}),O[4]||(O[4]=k("p",{class:"mt-4"},"...",-1))]))])):(ve(),Fe("div",d9,O[5]||(O[5]=[k("h2",null,"",-1),k("p",null,"Google",-1)])))]),_:1})]),_:1})]),_:1}))}};function lc(t){const e=t.slice(-2).toUpperCase();switch(!0){case t==="GB-alt-variant":return{firstDay:0,firstWeekSize:4};case t==="001":return{firstDay:1,firstWeekSize:1};case`AG AS BD BR BS BT BW BZ CA CO DM DO ET GT GU HK HN ID IL IN JM JP KE
    KH KR LA MH MM MO MT MX MZ NI NP PA PE PH PK PR PY SA SG SV TH TT TW UM US
    VE VI WS YE ZA ZW`.includes(e):return{firstDay:0,firstWeekSize:1};case`AI AL AM AR AU AZ BA BM BN BY CL CM CN CR CY EC GE HR KG KZ LB LK LV
    MD ME MK MN MY NZ RO RS SI TJ TM TR UA UY UZ VN XK`.includes(e):return{firstDay:1,firstWeekSize:1};case`AD AN AT AX BE BG CH CZ DE DK EE ES FI FJ FO FR GB GF GP GR HU IE IS
    IT LI LT LU MC MQ NL NO PL RE RU SE SK SM VA`.includes(e):return{firstDay:1,firstWeekSize:4};case"AE AF BH DJ DZ EG IQ IR JO KW LY OM QA SD SY".includes(e):return{firstDay:6,firstWeekSize:1};case e==="MV":return{firstDay:5,firstWeekSize:1};case e==="PT":return{firstDay:0,firstWeekSize:4};default:return null}}function f9(t,e,n){var c;const r=[];let i=[];const s=wx(t),o=bx(t),a=n??((c=lc(e))==null?void 0:c.firstDay)??0,l=(s.getDay()-a+7)%7,u=(o.getDay()-a+7)%7;for(let d=0;d<l;d++){const h=new Date(s);h.setDate(h.getDate()-(l-d)),i.push(h)}for(let d=1;d<=o.getDate();d++){const h=new Date(t.getFullYear(),t.getMonth(),d);i.push(h),i.length===7&&(r.push(i),i=[])}for(let d=1;d<7-u;d++){const h=new Date(o);h.setDate(h.getDate()+d),i.push(h)}return i.length>0&&r.push(i),r}function Mg(t,e,n){var s;let r=(n??((s=lc(e))==null?void 0:s.firstDay)??0)%7;[0,1,2,3,4,5,6].includes(r)||(r=0);const i=new Date(t);for(;i.getDay()!==r;)i.setDate(i.getDate()-1);return i}function m9(t,e){var i;const n=new Date(t),r=((((i=lc(e))==null?void 0:i.firstDay)??0)+6)%7;for(;n.getDay()!==r;)n.setDate(n.getDate()+1);return n}function wx(t){return new Date(t.getFullYear(),t.getMonth(),1)}function bx(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function g9(t){const e=t.split("-").map(Number);return new Date(e[0],e[1]-1,e[2])}const v9=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function Ix(t){if(t==null)return new Date;if(t instanceof Date)return t;if(typeof t=="string"){let e;if(v9.test(t))return g9(t);if(e=Date.parse(t),!isNaN(e))return new Date(e)}return null}const v_=new Date(2e3,0,2);function p9(t,e,n){var i;const r=e??((i=lc(t))==null?void 0:i.firstDay)??0;return _k(7).map(s=>{const o=new Date(v_);return o.setDate(v_.getDate()+r+s),new Intl.DateTimeFormat(t,{weekday:n??"narrow"}).format(o)})}function y9(t,e,n,r){const i=Ix(t)??new Date,s=r==null?void 0:r[e];if(typeof s=="function")return s(i,e,n);let o={};switch(e){case"fullDate":o={year:"numeric",month:"short",day:"numeric"};break;case"fullDateWithWeekday":o={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const a=i.getDate(),l=new Intl.DateTimeFormat(n,{month:"long"}).format(i);return`${a} ${l}`;case"normalDateWithWeekday":o={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":o={month:"short",day:"numeric"};break;case"year":o={year:"numeric"};break;case"month":o={month:"long"};break;case"monthShort":o={month:"short"};break;case"monthAndYear":o={month:"long",year:"numeric"};break;case"monthAndDate":o={month:"long",day:"numeric"};break;case"weekday":o={weekday:"long"};break;case"weekdayShort":o={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(i.getDate());case"hours12h":o={hour:"numeric",hour12:!0};break;case"hours24h":o={hour:"numeric",hour12:!1};break;case"minutes":o={minute:"numeric"};break;case"seconds":o={second:"numeric"};break;case"fullTime":o={hour:"numeric",minute:"numeric"};break;case"fullTime12h":o={hour:"numeric",minute:"numeric",hour12:!0};break;case"fullTime24h":o={hour:"numeric",minute:"numeric",hour12:!1};break;case"fullDateTime":o={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};break;case"fullDateTime12h":o={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};break;case"fullDateTime24h":o={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1};break;case"keyboardDate":o={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":return o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"},new Intl.DateTimeFormat(n,o).format(i).replace(/, /g," ");case"keyboardDateTime12h":return o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0},new Intl.DateTimeFormat(n,o).format(i).replace(/, /g," ");case"keyboardDateTime24h":return o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!1},new Intl.DateTimeFormat(n,o).format(i).replace(/, /g," ");default:o=s??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,o).format(i)}function w9(t,e){const n=t.toJsDate(e),r=n.getFullYear(),i=wI(String(n.getMonth()+1),2,"0"),s=wI(String(n.getDate()),2,"0");return`${r}-${i}-${s}`}function b9(t){const[e,n,r]=t.split("-").map(Number);return new Date(e,n-1,r)}function I9(t,e){const n=new Date(t);return n.setMinutes(n.getMinutes()+e),n}function _9(t,e){const n=new Date(t);return n.setHours(n.getHours()+e),n}function Kc(t,e){const n=new Date(t);return n.setDate(n.getDate()+e),n}function S9(t,e){const n=new Date(t);return n.setDate(n.getDate()+e*7),n}function T9(t,e){const n=new Date(t);return n.setDate(1),n.setMonth(n.getMonth()+e),n}function Vg(t){return t.getFullYear()}function E9(t){return t.getMonth()}function C9(t,e,n,r){const i=lc(e),s=n??(i==null?void 0:i.firstDay)??0,o=r??(i==null?void 0:i.firstWeekSize)??1;function a(f){const m=new Date(f,0,1);return 7-Lg(m,Mg(m,e,s),"days")}let l=Vg(t);const u=Kc(Mg(t,e,s),6);l<Vg(u)&&a(l+1)>=o&&l++;const c=new Date(l,0,1),d=a(l),h=d>=o?Kc(c,d-7):Kc(c,d);return 1+Lg(_x(t),Wd(h),"weeks")}function k9(t){return t.getDate()}function A9(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function x9(t){return new Date(t.getFullYear(),t.getMonth()-1,1)}function D9(t){return t.getHours()}function P9(t){return t.getMinutes()}function N9(t){return new Date(t.getFullYear(),0,1)}function R9(t){return new Date(t.getFullYear(),11,31)}function O9(t,e){return Hd(t,e[0])&&L9(t,e[1])}function M9(t){const e=new Date(t);return e instanceof Date&&!isNaN(e.getTime())}function Hd(t,e){return t.getTime()>e.getTime()}function V9(t,e){return Hd(Wd(t),Wd(e))}function L9(t,e){return t.getTime()<e.getTime()}function p_(t,e){return t.getTime()===e.getTime()}function F9(t,e){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function B9(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function $9(t,e){return t.getFullYear()===e.getFullYear()}function Lg(t,e,n){const r=new Date(t),i=new Date(e);switch(n){case"years":return r.getFullYear()-i.getFullYear();case"quarters":return Math.floor((r.getMonth()-i.getMonth()+(r.getFullYear()-i.getFullYear())*12)/4);case"months":return r.getMonth()-i.getMonth()+(r.getFullYear()-i.getFullYear())*12;case"weeks":return Math.floor((r.getTime()-i.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((r.getTime()-i.getTime())/(1e3*60*60*24));case"hours":return Math.floor((r.getTime()-i.getTime())/(1e3*60*60));case"minutes":return Math.floor((r.getTime()-i.getTime())/(1e3*60));case"seconds":return Math.floor((r.getTime()-i.getTime())/1e3);default:return r.getTime()-i.getTime()}}function U9(t,e){const n=new Date(t);return n.setHours(e),n}function j9(t,e){const n=new Date(t);return n.setMinutes(e),n}function q9(t,e){const n=new Date(t);return n.setMonth(e),n}function z9(t,e){const n=new Date(t);return n.setDate(e),n}function H9(t,e){const n=new Date(t);return n.setFullYear(e),n}function Wd(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function _x(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)}class W9{constructor(e){this.locale=e.locale,this.formats=e.formats}date(e){return Ix(e)}toJsDate(e){return e}toISO(e){return w9(this,e)}parseISO(e){return b9(e)}addMinutes(e,n){return I9(e,n)}addHours(e,n){return _9(e,n)}addDays(e,n){return Kc(e,n)}addWeeks(e,n){return S9(e,n)}addMonths(e,n){return T9(e,n)}getWeekArray(e,n){const r=n!==void 0?Number(n):void 0;return f9(e,this.locale,r)}startOfWeek(e,n){const r=n!==void 0?Number(n):void 0;return Mg(e,this.locale,r)}endOfWeek(e){return m9(e,this.locale)}startOfMonth(e){return wx(e)}endOfMonth(e){return bx(e)}format(e,n){return y9(e,n,this.locale,this.formats)}isEqual(e,n){return p_(e,n)}isValid(e){return M9(e)}isWithinRange(e,n){return O9(e,n)}isAfter(e,n){return Hd(e,n)}isAfterDay(e,n){return V9(e,n)}isBefore(e,n){return!Hd(e,n)&&!p_(e,n)}isSameDay(e,n){return F9(e,n)}isSameMonth(e,n){return B9(e,n)}isSameYear(e,n){return $9(e,n)}setMinutes(e,n){return j9(e,n)}setHours(e,n){return U9(e,n)}setMonth(e,n){return q9(e,n)}setDate(e,n){return z9(e,n)}setYear(e,n){return H9(e,n)}getDiff(e,n,r){return Lg(e,n,r)}getWeekdays(e,n){const r=e!==void 0?Number(e):void 0;return p9(this.locale,r,n)}getYear(e){return Vg(e)}getMonth(e){return E9(e)}getWeek(e,n,r){const i=n!==void 0?Number(n):void 0;return C9(e,this.locale,i,r)}getDate(e){return k9(e)}getNextMonth(e){return A9(e)}getPreviousMonth(e){return x9(e)}getHours(e){return D9(e)}getMinutes(e){return P9(e)}startOfDay(e){return Wd(e)}endOfDay(e){return _x(e)}startOfYear(e){return N9(e)}endOfYear(e){return R9(e)}}const G9=Symbol.for("vuetify:date-options"),y_=Symbol.for("vuetify:date-adapter");function K9(t,e){const n=yn({adapter:W9,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},t);return{options:n,instance:Y9(n,e)}}function Y9(t,e){const n=wt(typeof t.adapter=="function"?new t.adapter({locale:t.locale[e.current.value]??e.current.value,formats:t.formats}):t.adapter);return Ie(e.current,r=>{n.locale=t.locale[r]??r??n.locale}),n}function Sx(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:e,...n}=t,r=yn(e,n),{aliases:i={},components:s={},directives:o={}}=r,a=Nl();return a.run(()=>{const l=mU(r.defaults),u=kj(r.display,r.ssr),c=a4(r.theme),d=XU(r.icons),h=S4(r.locale),f=K9(r.date,h),m=eq(r.goTo,h);function g(y){for(const T in o)y.directive(T,o[T]);for(const T in s)y.component(T,s[T]);for(const T in i)y.component(T,Ba({...i[T],name:T,aliasName:i[T].name}));const w=Nl();if(w.run(()=>{c.install(y)}),y.onUnmount(()=>w.stop()),y.provide(Ia,l),y.provide(xg,u),y.provide(pu,c),y.provide(_g,d),y.provide(Bd,h),y.provide(G9,f.options),y.provide(y_,f.instance),y.provide(jA,m),tt&&r.ssr)if(y.$nuxt)y.$nuxt.hook("app:suspense:resolve",()=>{u.update()});else{const{mount:T}=y;y.mount=function(){const b=T(...arguments);return rn(()=>u.update()),y.mount=T,b}}y.mixin({computed:{$vuetify(){return wt({defaults:Lo.call(this,Ia),display:Lo.call(this,xg),theme:Lo.call(this,pu),icons:Lo.call(this,_g),locale:Lo.call(this,Bd),date:Lo.call(this,y_)})}}})}function p(){a.stop()}return{install:g,unmount:p,defaults:l,display:u,theme:c,icons:d,locale:h,date:f,goTo:m}})}const Q9="3.9.4";Sx.version=Q9;function Lo(t){var r,i;const e=this.$,n=((r=e.parent)==null?void 0:r.provides)??((i=e.vnode.appContext)==null?void 0:i.provides);if(n&&t in n)return n[t]}const X9=Sx({}),Tx=GD(h9);Tx.use(X9);Tx.mount("#app");
